title: Maintenance
icon: mdi:cog
path: system
type: custom:vertical-layout
layout:
  max_cols: 5
cards:
  - type: vertical-stack
    cards:
      - type: custom:decluttering-card
        template: title
        variables:
          - title: Intel NUC
  - type: custom:stack-in-card
    mode: vertical
    cards:
      - type: custom:config-template-card
        variables:
          DISK_USE_PERCENT: states['sensor.disk_use_percent'].state
          HA_VERSION: states['sensor.home_assistant_current_version'].state
          DISK_TOTAL: states['sensor.disk_total'].state
          DISK_USE: states['sensor.disk_use'].state
          MEMORY_USE_PERCENT: states['sensor.memory_use_percent'].state
          PROCESSOR_USE_PERCENT: states['sensor.processor_use_percent'].state
          CPU_TEMPERATURE: states['sensor.cpu_temperature'].state
        entities:
          - sensor.disk_use_percent
          - sensor.home_assistant_current_version
          - sensor.disk_total
          - sensor.disk_use
          - sensor.memory_use_percent
          - sensor.processor_use
          - sensor.cpu_temperature
        card:
          type: entities
          show_header_toggle: 'off'
          style: |
            .card-header {
              padding: 0px 0px 0px 0px !important;
            }
          entities:
            - type: section
              label: >-
                ${ 'NUC BXNUC10i7FNH2 --- Debian 10.10 --- HA Version ' + HA_VERSION
                }
            - type: custom:hui-vertical-stack-card
              cards:
                - type: horizontal-stack
                  cards:
                    - type: picture
                      style: |
                        ha-card { 
                            --paper-card-background-color: 'rgba(0, 0, 0, 0.0)';
                            --ha-card-background: "rgba(0, 0, 0, 0.0)";
                            --ha-card-box-shadow: 'none';
                        }
                      image: /local/intel-nuc.png
                      tap_action:
                        action: none
                    - type: vertical-stack
                      cards:
                        - type: custom:button-card
                          layout: icon_name_state2nd
                          show_icon: true
                          show_state: true
                          styles:
                            grid:
                              - grid-template-columns: 50px auto
                            icon:
                              - padding: 0px 0px
                              - height: 30px
                              - width: 30px
                            card:
                              - '--ha-card-background': rgba(0, 0, 0, 0.0)
                              - '--ha-card-box-shadow': none
                            state:
                              - padding: 0px 10px
                              - justify-self: start
                              - font-family: Roboto, sans-serif
                              - font-size: 15px
                            name:
                              - padding: 0px 10px
                              - justify-self: start
                              - color: var(--secondary-text-color)
                          entity: sensor.system_uptime
                          name: System Uptime
                          icon: mdi:clock-outline
                          tap_action:
                            action: none
                        - type: custom:button-card
                          layout: icon_name_state2nd
                          show_icon: true
                          show_state: true
                          styles:
                            grid:
                              - grid-template-columns: 50px auto
                            icon:
                              - padding: 0px 0px
                              - height: 30px
                              - width: 30px
                            card:
                              - '--ha-card-background': rgba(0, 0, 0, 0.0)
                              - '--ha-card-box-shadow': none
                            state:
                              - padding: 0px 10px
                              - justify-self: start
                              - font-family: Roboto, sans-serif
                              - font-size: 15px
                            name:
                              - padding: 0px 10px
                              - justify-self: start
                              - color: var(--secondary-text-color)
                          entity: sensor.ha_uptime
                          name: HA Uptime
                          icon: mdi:clock-outline
                          tap_action:
                            action: none
                - type: custom:bar-card
                  show_icon: true
                  align: split
                  columns: 1
                  max: 100
                  positions:
                    icon: inside
                    indicator: inside
                    name: inside
                    value: inside
                  unit_of_measurement: '%'
                  severity:
                    - value: 50
                      color: '#3498db'
                    - value: 75
                      color: '#f39c12'
                    - value: 100
                      color: '#e45e65'
                  style: |
                    ha-card { 
                        --paper-card-background-color: 'rgba(0, 0, 0, 0.0)';
                        --ha-card-background: "rgba(0, 0, 0, 0.0)";
                        --paper-item-icon-color: 'var(--text-primary-color';
                        --ha-card-box-shadow: 'none';
                    }
                  entities:
                    - entity: sensor.disk_use_percent
                  name: ${ 'Disk (' + DISK_USE + 'Gb/' + DISK_TOTAL + 'Gb)' }
                  entity_row: true
                  tap_action:
                    action: none
                - type: horizontal-stack
                  cards:
                    - type: custom:bar-card
                      show_icon: true
                      align: split
                      columns: 1
                      max: 100
                      positions:
                        icon: inside
                        indicator: inside
                        name: inside
                        value: inside
                      unit_of_measurement: '%'
                      severity:
                        - value: 50
                          color: '#3498db'
                        - value: 75
                          color: '#f39c12'
                        - value: 100
                          color: '#e45e65'
                      style: |
                        ha-card { 
                          --paper-card-background-color: 'rgba(0, 0, 0, 0.0)';
                          --ha-card-background: "rgba(0, 0, 0, 0.0)";
                          --paper-item-icon-color: 'var(--text-primary-color';
                          --ha-card-box-shadow: 'none';
                        }
                      entity: sensor.memory_use_percent
                      name: RAM
                      entity_row: true
                      tap_action:
                        action: none
                    - type: custom:bar-card
                      show_icon: true
                      align: split
                      columns: 1
                      max: 100
                      positions:
                        icon: inside
                        indicator: inside
                        name: inside
                        value: inside
                      unit_of_measurement: '%'
                      severity:
                        - value: 50
                          color: '#3498db'
                        - value: 75
                          color: '#f39c12'
                        - value: 100
                          color: '#e45e65'
                      style: |
                        ha-card { 
                          --paper-card-background-color: 'rgba(0, 0, 0, 0.0)';
                          --ha-card-background: "rgba(0, 0, 0, 0.0)";
                          --paper-item-icon-color: 'var(--text-primary-color');
                          --ha-card-box-shadow: 'none';
                        }
                      entity: sensor.processor_use_percent
                      name: CPU
                      entity_row: true
                      tap_action:
                        action: none
                - type: custom:mini-graph-card
                  height: 30
                  line_width: 2
                  font_size: 70
                  hours_to_show: 168
                  points_per_hour: 1
                  show:
                    name: true
                    icon: true
                    state: true
                    graph: line
                    fill: true
                    points: false
                    legend: false
                    extrema: false
                    labels: false
                    labels_secondary: false
                    name_adaptive_color: false
                    icon_adaptive_color: true
                  style: |
                    ha-card { 
                      --ha-card-background: "rgba(0, 0, 0, 0.0)";
                      --ha-card-box-shadow: 'none';
                      border-radius: 5px;
                    }
                    .info.flex {
                      font-size: 12px !important;
                    }
                  entities:
                    - sensor.cpu_temperature
                  name: Temperature
                  color_thresholds:
                    - value: 30
                      color: '#3498db'
                    - value: 50
                      color: '#f39c12'
                    - value: 80
                      color: '#ff0000'
                  tap_action:
                    action: none
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: title
            variables:
              - title: Network
      - type: entities
        show_header_toggle: false
        entities:
          - entity: sensor.ip_address
            icon: mdi:ip-network
          - entity: sensor.hostname_ip
            icon: mdi:dns
#          - type: horizontal-stack
#            cards:
#              - type: gauge
#                name: Router Download
#                entity: sensor.technicolor_tc7230_kib_s_received
#                max: 62500
#              - type: gauge
#                name: Router Upload
#                entity: sensor.technicolor_tc7230_kib_s_sent
#                max: 6250
      - type: custom:mini-graph-card
        name: Speed Test
        more_info: false
        group: false
        height: 0
        line_width: 4
        hour24: true
        hours_to_show: 168
        points_per_hour: 0.25
        aggregate_func: max
        group_by: date
        animate: false
        decimals: 0
        align_state: left
        logarithmic: true
        show:
          name: true
          icon: true
          state: true
          graph: line
          fill: false
          points: false
          legend: false
          extrema: false
          labels: false
#          card_mod:
#            style: |
#              ha-card {
#                padding: 16px !important;
#              }
        entities:
          - entity: sensor.speedtest_download
            name: Download
            color: "#3399ff"
            show_state: true
          - entity: sensor.speedtest_upload
            name: Upload
            color: "#ff6600"
            show_state: true
          - entity: sensor.speedtest_ping
            name: Ping
            color: "#33cc33"
            show_state: true
      - type: custom:mini-graph-card
        more_info: false
        height: 150
        line_width: 4
        group: true
        hour24: true
        hours_to_show: 168
        points_per_hour: 0.25
        aggregate_func: max
        group_by: hour
        animate: false
        decimals: 1
        align_state: left
        logarithmic: true
        show:
          name: false
          icon: false
          state: false
          graph: line
          fill: false
          points: false
          legend: false
          extrema: false
          labels: false
        card_mod:
          style: |
            ha-card {
              padding: 16px !important;
            }
        entities:
          - entity: sensor.speedtest_download
            color: "#3399ff"
          - entity: sensor.speedtest_upload
            color: "#ff6600"
      - type: custom:mini-graph-card
        more_info: false
        group: true
        height: 25
        line_width: 4
        hour24: true
        hours_to_show: 168
        points_per_hour: 0.25
        aggregate_func: max
        group_by: hour
        animate: false
        decimals: 0
        align_state: left
        logarithmic: true
        show:
          name: false
          icon: false
          state: false
          graph: line
          fill: false
          points: false
          legend: false
          extrema: false
          labels: false
        card_mod:
          style: |
            ha-card {
              padding: 16px !important;
            }
        entities:
          - entity: sensor.speedtest_ping
            color: "#33cc33"
      - type: custom:mini-graph-card
        more_info: false
        group: true
        height: 0
        line_width: 4
        hour24: true
        hours_to_show: 168
        points_per_hour: 0.25
        aggregate_func: max
        group_by: hour
        animate: false
        decimals: 0
        align_state: left
        logarithmic: true
        show:
          name: false
          icon: false
          state: false
          graph: line
          fill: false
          points: false
          legend: true
          extrema: false
          labels: false
#          card_mod:
#            style: |
#              ha-card {
#                padding: 16px !important;
#              }
        entities:
          - entity: sensor.speedtest_download
            name: Download
            color: "#3399ff"
          - entity: sensor.speedtest_upload
            name: Upload
            color: "#ff6600"
          - entity: sensor.speedtest_ping
            name: Ping
            color: "#33cc33"
      # - type: custom:mini-graph-card
      #   name: Ethernet Traffic
      #   more_info: false
      #   height: 150
      #   line_width: 4
      #   hours_to_show: 168
      #   points_per_hour: 2.50
      #   aggregate_func: max
      #   group_by: hour
      #   hour24: true
      #   animate: false
      #   decimals: 2
      #   align_state: left
      #   show:
      #     name: true
      #     icon: true
      #     state: true
      #     graph: line
      #     fill: false
      #     points: false
      #     legend: false
      #     extrema: true
      #     labels: false
      #   entities:
      #     - entity: sensor.network_in_eth0
      #       name: Ethernet Download
      #       color: "#33cc33"
      #     - entity: sensor.network_out_eth0
      #       name: Ethernet Upload
      #       color: "#3399ff"
  - type: custom:layout-break
  - type: vertical-stack
    cards:
      - type: custom:decluttering-card
        template: adguard
  - type: custom:layout-break
  - type: vertical-stack
    cards:
      - type: custom:decluttering-card
        template: title
        variables:
          - title: Network Devices
      - type: custom:stack-in-card
        mode: vertical
        cards:
          - type: glance
#                title: Devices
            show_state: false
            columns: 2
            show_header_toggle: false
            entities:
              - name: "Computer Andrea"
                icon: mdi:desktop-tower
                entity: binary_sensor.studio_andrea_desk_computer_ping
                tap_action:
                  action: none
              - name: "VoIP Phone"
                icon: mdi:phone-voip
                entity: binary_sensor.polycom_wx410
                tap_action:
                  action: none
          - type: glance
#                title: Devices
            show_state: false
            columns: 2
            show_header_toggle: false
            entities:
              - name: "Laptop Andrea"
                icon: mdi:laptop
                entity: binary_sensor.studio_andrea_desk_laptop_ping
                tap_action:
                  action: none
              - name: "Laptop Andrea Work"
                icon: mdi:laptop
                entity: binary_sensor.studio_andrea_desk_laptop_work_ping
                tap_action:
                  action: none
          - type: glance
            show_state: false
            columns: 3
            show_header_toggle: false
            entities:
              - name: MEDIA01
                icon: mdi:nas
                entity: binary_sensor.netgear_media01
                tap_action:
                  action: call-service
                  service: switch.turn_on
                  service_data:
                    entity_id: switch.studio_media01_wol
                hold_action:
                  action: call-service
                  service: shell_command.media01_off
              - name: MEDIA02
                icon: mdi:nas
                entity: binary_sensor.netgear_media02
                tap_action:
                  action: call-service
                  service: switch.turn_on
                  service_data:
                    entity_id: switch.studio_media02_wol
                hold_action:
                  action: call-service
                  service: shell_command.media02_off
              - name: MEDIA03
                icon: mdi:nas
                entity: binary_sensor.netgear_media03
                tap_action:
                  action: call-service
                  service: switch.turn_on
                  service_data:
                    entity_id: switch.studio_media03_wol
                hold_action:
                  action: call-service
                  service: shell_command.media03_off
          - type: glance
#                title: Devices
            show_state: false
            columns: 2
            show_header_toggle: false
            entities:
              - name: "Laptop Sonia"
                icon: mdi:laptop
                entity: binary_sensor.studio_desk_sonia_laptop_ping
                tap_action:
                  action: none
              - name: "Laptop Sonia Work"
                icon: mdi:laptop
                entity: binary_sensor.studio_desk_sonia_laptop_work_ping
                tap_action:
                  action: none
          - type: glance
#                title: Devices
            show_state: false
            columns: 1
            show_header_toggle: false
            entities:
              - name: "Living Room RPi"
                icon: mdi:raspberry-pi
                entity: binary_sensor.living_room_raspberry_ping
                tap_action:
                  action: none
          - type: glance
#                title: Devices
            show_state: false
            columns: 2
            show_header_toggle: false
            entities:
              - name: "Bedroom Luca RPi Zero W"
                icon: mdi:raspberry-pi
                entity: binary_sensor.bedroom_luca_raspberry_zero_w_ping
                tap_action:
                  action: none
              - name: "Master Bedroom RPi Zero W"
                icon: mdi:raspberry-pi
                entity: binary_sensor.master_bedroom_raspberry_zero_w_ping
                tap_action:
                  action: none
          - type: glance
            show_state: false
            columns: 2
            show_header_toggle: false
            entities:
              - name: NETGEAR EX7000
                icon: mdi:router-wireless
                entity: binary_sensor.netgear_ex7000
                tap_action:
                  action: none
              - name: Samsung Q60R
                icon: mdi:television
                entity: binary_sensor.living_room_tv
                tap_action:
                  action: none
#          - type: glance
#            show_state: false
#            columns: 3
#            show_header_toggle: false
#            entities:
#              - name: HASP Desk
#                entity: sensor.hasp_desk_status
#                tap_action:
#                  action: call-service
#                  service: browser_mod.popup
#                  service_data:
#                    title: HASP Desk
#                    card:
#                      type: entities
#                      entities:
#                        - sensor.hasp_desk_status
#                        - light.hasp_desk_display
#                        - sensor.hasp_desk_ip_address
#                        - sensor.hasp_desk_signal_strenght
#                        - sensor.hasp_desk_uptime
#                        - sensor.hasp_desk_esp_version
#                        - sensor.hasp_desk_esp_update_available
#                        - sensor.hasp_desk_lcd_version
#                        - sensor.hasp_desk_lcd_update_available
#                      deviceID:
#              - name: HASP Andrea
#                entity: sensor.hasp_andrea_status
#                tap_action:
#                  action: call-service
#                  service: browser_mod.popup
#                  service_data:
#                    title: HASP Andrea
#                    card:
#                      type: entities
#                      entities:
#                        - sensor.hasp_andrea_status
#                        - light.hasp_andrea_display
#                        - sensor.hasp_andrea_ip_address
#                        - sensor.hasp_andrea_signal_strenght
#                        - sensor.hasp_andrea_uptime
#                        - sensor.hasp_andrea_esp_version
#                        - sensor.hasp_andrea_esp_update_available
#                        - sensor.hasp_andrea_lcd_version
#                        - sensor.hasp_andrea_esp_update_available
#                        - sensor.hasp_andrea_lcd_version
#                        - sensor.hasp_andrea_lcd_update_available
#              - name: HASP Sonia
#                entity: sensor.hasp_sonia_status
#                tap_action:
#                  action: call-service
#                  service: browser_mod.popup
#                  service_data:
#                    title: HASP Sonia
#                    card:
#                      type: entities
#                      entities:
#                        - sensor.hasp_sonia_status
#                        - light.hasp_sonia_display
#                        - sensor.hasp_sonia_ip_address
#                        - sensor.hasp_sonia_signal_strenght
#                        - sensor.hasp_sonia_uptime
#                        - sensor.hasp_sonia_esp_version
#                        - sensor.hasp_sonia_esp_update_available
#                        - sensor.hasp_sonia_lcd_version
#                        - sensor.hasp_sonia_esp_update_available
#                        - sensor.hasp_sonia_lcd_version
#                        - sensor.hasp_sonia_lcd_update_available
#          - type: glance
#            show_name: false
#            show_state: false
#            columns: 3
#            show_header_toggle: false
#            entities:
#              - entity: light.hasp_desk_display
#                tap_action:
#                  action: toggle
#              - entity: light.hasp_andrea_display
#                tap_action:
#                  action:  toggle
#              - entity: light.hasp_sonia_display
#                tap_action:
#                  action: toggle
          - type: glance
            show_state: false
            columns: 3
            show_header_toggle: false
            entities:
              - name: Hallway Camera
                icon: mdi:cctv
                entity: binary_sensor.camera_hallway
                tap_action:
                  action: none
              - name: Living Room Camera
                icon: mdi:cctv
                entity: binary_sensor.camera_living_room
                tap_action:
                  action: none
              - name: Patio Camera
                icon: mdi:cctv
                entity: binary_sensor.camera_patio
                tap_action:
                  action: none
  - type: custom:layout-break
  - type: vertical-stack
    cards:
      - type: custom:decluttering-card
        template: title
        variables:
          - title: Tasmota Devices
      - type: entities
        show_header_toggle: false
        entities:
          - type: section
            label: Living Room
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: living_room_table_light_1
              - device_name: "Table Light #1"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: living_room_table_light_2
              - device_name: "Table Light #2"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: living_room_table_light_3
              - device_name: "Table Light #3"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: living_room_tv_stand_plug
              - device_name: "TV Stand Plug"
          - type: section
            label: Kitchen
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: kitchen_dishwasher_plug
              - device_name: "Dishwasher Plug"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: kitchen_toaster_plug
              - device_name: "Toaster Plug"
          - type: section
            label: Studio
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: rfbridge01
              - device_name: "RF Bridge"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_table_plug
              - device_name: "Table Plug"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_wall_light
              - device_name: "Wall Light"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_andrea_desk_lamp
              - device_name: "Desk Andrea Lamp"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_andrea_desk_plug
              - device_name: "Desk Andrea Plug"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_andrea_desk_power_strip_1
              - device_name: "Desk Andrea PowerStrip #1"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_andrea_desk_power_strip_2
              - device_name: "Desk Andrea PowerStrip #2"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_desk_sonia_lamp
              - device_name: "Desk Sonia Lamp"
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: studio_desk_sonia_plug
              - device_name: "Desk Sonia Plug"
          - type: section
            label: Master Bedroom
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: bedroom_luca_lamp_top
              - device_name: "Lamp Top Light"
          - type: section
            label: Laundry Room
          - type: 'custom:decluttering-card'
            template: tasmota_info
            variables:
              - device: laundry_room_washing_machine_plug
              - device_name: "Washing Machine Plug"
  - type: custom:layout-break
  - type: vertical-stack
    cards:
      - type: custom:decluttering-card
        template: title
        variables:
          - title: Zigbee Devices
      - type: custom:auto-entities
        show_empty: true
        card:
          type: entities
          show_header_toggle: false
#          title: ZigBee Devices
        filter:
          include:
            - entity_id: sensor.cc2531_router_linkquality
              options:
                name: CC2531 Router - Link Quality
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.house_alarm_siren_linkquality
              options:
                name: House - Alarm Siren - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.house_alarm_siren_linkquality.state != "unknown", sensor.house_alarm_siren_battery.state , "Not Available") ]][[ if(sensor.house_alarm_siren_linkquality.state != "unknown", "%" , "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.studio_TS0201_linkquality
              options:
                name: Studio - WSDCGQ11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.studio_TS0201_linkquality.state != "unknown", sensor.studio_TS0201_battery.state , "Not Available") ]][[ if(sensor.studio_TS0201_linkquality != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.studio_TS0201_linkquality != "unknown", sensor.studio_TS0201_voltage.state, "Not Available") ]][[ if(sensor.studio_TS0201_linkquality != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.master_bedroom_wxkg02lm_linkquality
              options:
                name: Master Bedroom - WXKG02LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.master_bedroom_wxkg02lm_linkquality.state != "unknown", sensor.master_bedroom_wxkg02lm_battery.state , "Not Available") ]][[ if(sensor.master_bedroom_wxkg02lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.master_bedroom_wxkg02lm_linkquality.state != "unknown", sensor.master_bedroom_wxkg02lm_voltage.state, "Not Available") ]][[ if(sensor.master_bedroom_wxkg02lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.master_bedroom_remote_sonia_linkquality
              options:
                name: Master Bedroom - Remote Sonia - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.master_bedroom_remote_sonia_linkquality.state != "unknown", sensor.master_bedroom_remote_sonia_battery.state , "Not Available") ]][[ if(sensor.master_bedroom_remote_sonia_linkquality.state != "unknown", "%" , "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.studio_2ajz4kpbs_linkquality
              options:
                name: Studio - 2AJZ4KPBS - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.studio_2ajz4kpbs_linkquality.state != "unknown", sensor.studio_2ajz4kpbs_battery.state , "Not Available") ]][[ if(sensor.studio_2ajz4kpbs_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.studio_2ajz4kpbs_linkquality.state != "unknown", sensor.studio_2ajz4kpbs_voltage.state, "Not Available") ]][[ if(sensor.studio_2ajz4kpbs_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bedroom_luca_wsdcgq11lm_linkquality
              options:
                name: Bedroom Luca - WSDCGQ11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.bedroom_luca_wsdcgq11lm_linkquality.state != "unknown", sensor.bedroom_luca_wsdcgq11lm_battery.state , "Not Available") ]][[ if(sensor.bedroom_luca_wsdcgq11lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.bedroom_luca_wsdcgq11lm_linkquality.state != "unknown", sensor.bedroom_luca_wsdcgq11lm_voltage.state, "Not Available") ]][[ if(sensor.bedroom_luca_wsdcgq11lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bedroom_luca_wxkg11lm_linkquality
              options:
                name: Bedroom Luca - WXKG11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.bedroom_luca_wxkg11lm_linkquality.state != "unknown", sensor.bedroom_luca_wxkg11lm_battery.state , "Not Available") ]][[ if(sensor.bedroom_luca_wxkg11lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.bedroom_luca_wxkg11lm_linkquality.state != "unknown", sensor.bedroom_luca_wxkg11lm_voltage.state, "Not Available") ]][[ if(sensor.bedroom_luca_wxkg11lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.living_room_power_strip_linkquality
              options:
                name: Living Room - LEELKI Power Strip - Link Quality
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.living_room_wsdcgq01lm_linkquality
              options:
                name: Living Room - WSDCGQ0W01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.living_room_wsdcgq01lm_linkquality.state != "unknown", sensor.living_room_wsdcgq01lm_battery.state , "Not Available") ]][[ if(sensor.living_room_wsdcgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.living_room_wsdcgq01lm_linkquality.state != "unknown", sensor.living_room_wsdcgq01lm_voltage.state, "Not Available") ]][[ if(sensor.living_room_wsdcgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.kitchen_wsdcgq01lm_linkquality
              options:
                name: Kitchen - WSDCGQ01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.kitchen_wsdcgq01lm_linkquality.state != "unknown", sensor.kitchen_wsdcgq01lm_battery.state , "Not Available") ]][[ if(sensor.kitchen_wsdcgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.kitchen_wsdcgq01lm_linkquality.state != "unknown", sensor.kitchen_wsdcgq01lm_voltage.state, "Not Available") ]][[ if(sensor.kitchen_wsdcgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.kitchen_sjcgq11lm_linkquality
              options:
                name: Kitchen - SJCGQ11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.kitchen_sjcgq11lm_linkquality.state != "unknown", sensor.kitchen_sjcgq11lm_battery.state , "Not Available") ]][[ if(sensor.kitchen_sjcgq11lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.kitchen_sjcgq11lm_linkquality.state != "unknown", sensor.kitchen_sjcgq11lm_voltage.state, "Not Available") ]][[ if(sensor.kitchen_sjcgq11lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.test_led1537r6_light_linkquality
              options:
                name: Bedroom Luca - Lamp Bottom Light - Link Quality
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.master_bedroom_wsdcgq01lm_linkquality
              options:
                name: Master Bedroom - WSDCGQ0W01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.master_bedroom_wsdcgq01lm_linkquality.state != "unknown", sensor.master_bedroom_wsdcgq01lm_battery.state , "Not Available") ]][[ if(sensor.master_bedroom_wsdcgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.master_bedroom_wsdcgq01lm_linkquality.state != "unknown", sensor.master_bedroom_wsdcgq01lm_voltage.state, "Not Available") ]][[ if(sensor.master_bedroom_wsdcgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.master_bathroom_wsdcgq01lm_linkquality
              options:
                name: Master Bathroom - WSDCGQ0W01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.master_bathroom_wsdcgq01lm_linkquality.state != "unknown", sensor.master_bathroom_wsdcgq01lm_battery.state , "Not Available") ]][[ if(sensor.master_bathroom_wsdcgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.master_bathroom_wsdcgq01lm_linkquality.state != "unknown", sensor.master_bathroom_wsdcgq01lm_voltage.state, "Not Available") ]][[ if(sensor.master_bathroom_wsdcgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.master_bathroom_sjcgq11lm_linkquality
              options:
                name: Master Bathroom - SJCGQ11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.master_bathroom_sjcgq11lm_linkquality.state != "unknown", sensor.master_bathroom_sjcgq11lm_battery.state , "Not Available") ]][[ if(sensor.master_bathroom_sjcgq11lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.master_bathroom_sjcgq11lm_linkquality.state != "unknown", sensor.master_bathroom_sjcgq11lm_voltage.state, "Not Available") ]][[ if(sensor.master_bathroom_sjcgq11lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bedroom_luca_led1624g9_ceiling_1_linkquality
              options:
                name: Bedroom Luca - Light 1 - Link Quality
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bedroom_luca_led1624g9_ceiling_2_linkquality
              options:
                name: Bedroom Luca - Light 2 - Link Quality
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bedroom_luca_led1624g9_ceiling_3_linkquality
              options:
                name: Bedroom Luca - Light 3 - Link Quality
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bathroom_mccgq01lm_linkquality
              options:
                name: Bathroom - MCCGQ01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", sensor.bathroom_mccgq01lm_battery.state , "Not Available") ]][[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", sensor.bathroom_mccgq01lm_voltage.state, "Not Available") ]][[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bathroom_wsdcgq01lm_linkquality
              options:
                name: Bathroom - WSDCGQ0W01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.bathroom_wsdcgq01lm_linkquality.state != "unknown", sensor.bathroom_wsdcgq01lm_battery.state , "Not Available") ]][[ if(sensor.bathroom_wsdcgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.bathroom_wsdcgq01lm_linkquality.state != "unknown", sensor.bathroom_wsdcgq01lm_voltage.state, "Not Available") ]][[ if(sensor.bathroom_wsdcgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.bathroom_mccgq01lm_linkquality
              options:
                name: Bathroom - SJCGQ11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", sensor.bathroom_mccgq01lm_battery.state , "Not Available") ]][[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", sensor.bathroom_mccgq01lm_voltage.state, "Not Available") ]][[ if(sensor.bathroom_mccgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.studio_wxkg03lm_linkquality
              options:
                name: Studio - WXKG03LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.studio_wxkg03lm_linkquality.state != "unknown", sensor.studio_wxkg03lm_battery.state , "Not Available") ]][[ if(sensor.studio_wxkg03lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.studio_wxkg03lm_linkquality.state != "unknown", sensor.studio_wxkg03lm_voltage.state, "Not Available") ]][[ if(sensor.studio_wxkg03lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.studio_andrea_desk_wxkg01lm_linkquality
              options:
                name: Studio Andrea - WXKG01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.studio_andrea_desk_wxkg01lm_linkquality.state != "unknown", sensor.studio_andrea_desk_wxkg01lm_battery.state , "Not Available") ]][[ if(sensor.studio_andrea_desk_wxkg01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.studio_andrea_desk_wxkg01lm_linkquality.state != "unknown", sensor.studio_andrea_desk_wxkg01lm_voltage.state, "Not Available") ]][[ if(sensor.studio_andrea_desk_wxkg01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.laundry_room_sjcgq11lm_linkquality
              options:
                name: Laundry Room - SJCGQ11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.laundry_room_sjcgq11lm_linkquality.state != "unknown", sensor.laundry_room_sjcgq11lm_battery.state , "Not Available") ]][[ if(sensor.laundry_room_sjcgq11lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.laundry_room_sjcgq11lm_linkquality.state != "unknown", sensor.laundry_room_sjcgq11lm_voltage.state, "Not Available") ]][[ if(sensor.laundry_room_sjcgq11lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.laundry_room_washing_machine_djt11lm_linkquality
              options:
                name: Washing Machine - DJT11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.laundry_room_washing_machine_djt11lm_linkquality.state != "unknown", sensor.laundry_room_washing_machine_djt11lm_battery.state , "Not Available") ]][[ if(sensor.laundry_room_washing_machine_djt11lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.laundry_room_washing_machine_djt11lm_linkquality.state != "unknown", sensor.laundry_room_washing_machine_djt11lm_voltage.state, "Not Available") ]][[ if(sensor.laundry_room_washing_machine_djt11lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.patio_led1624g9_wall_linkquality
              options:
                name: Patio - Light - Link Quality
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.patio_gzcgq01lm_linkquality
              options:
                name: Patio - GZCGQ01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.patio_gzcgq01lm_linkquality.state != "unknown", sensor.patio_gzcgq01lm_battery.state , "Not Available") ]][[ if(sensor.patio_gzcgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.patio_gzcgq01lm_linkquality.state != "unknown", sensor.patio_gzcgq01lm_voltage.state, "Not Available") ]][[ if(sensor.patio_gzcgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.patio_mccgq01lm_linkquality
              options:
                name: Patio - MCCGQ01LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.patio_mccgq01lm_linkquality.state != "unknown", sensor.patio_mccgq01lm_battery.state , "Not Available") ]][[ if(sensor.patio_mccgq01lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.patio_mccgq01lm_linkquality.state != "unknown", sensor.patio_mccgq01lm_voltage.state, "Not Available") ]][[ if(sensor.patio_mccgq01lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"
            - entity_id: sensor.patio_wsdcgq11lm_linkquality
              options:
                name: Patio - WSDCGQ11LM - Link Quality
                type: "custom:secondaryinfo-entity-row"
                secondary_info: 'Battery Level: [[ if(sensor.patio_wsdcgq11lm_linkquality.state != "unknown", sensor.patio_wsdcgq11lm_battery.state , "Not Available") ]][[ if(sensor.patio_wsdcgq11lm_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.patio_wsdcgq11lm_linkquality.state != "unknown", sensor.patio_wsdcgq11lm_voltage.state, "Not Available") ]][[ if(sensor.patio_wsdcgq11lm_linkquality.state != "unknown", "mV", "") ]]'
                tap_action:
                  action: none
              not 1:
                state: "unavailable"
              not 2:
                state: "unknown"

#                - entity_id: sensor.PLACEHOLDER_linkquality
#                  options:
#                    name: ROOM - DEVICE - Link Quality
#                    type: "custom:secondaryinfo-entity-row"
#                    secondary_info: 'Battery Level: [[ if(sensor.PLACEHOLDER_linkquality.state != "unknown", sensor.PLACEHOLDER_battery.state , "Not Available") ]][[ if(sensor.PLACEHOLDER_linkquality.state != "unknown", "%" , "") ]] - Voltage: [[ if(sensor.PLACEHOLDER_linkquality.state != "unknown", sensor.PLACEHOLDER_voltage.state, "Not Available") ]][[ if(sensor.PLACEHOLDER_linkquality.state != "unknown", "mV", "") ]]'
#                    tap_action:
#                      action: none
#                  not 1:
#                    state: "unavailable"
#                  not 2:
#                    state: "unknown"
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          show_header_toggle: false
          title: Update Available for ZigBee Devices
        filter:
          include:
            - entity_id: "binary_sensor.*firmware_update"
              state: "on"
              options:
                secondary_info: last-changed
      - type: custom:auto-entities
        show_empty: false
        card:
          type: entities
          show_header_toggle: false
          title: Unavailable ZigBee Devices
        filter:
          include:
            - entity_id: "sensor.*link_quality"
              state: "un*"
              options:
                secondary_info: last-changed
          exclude:
            - entity_id: "sensor.*dark_sky*"
            - entity_id: "sensor.*aemet*"
            - entity_id: "sensor.count_*"
