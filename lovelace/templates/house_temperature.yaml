---
house_temperature:
  card:
    type: custom:config-template-card
    entities:
      - binary_sensor.night_time
      - sensor.house_temperature
      - sensor.dark_sky_temperature
    variables:
      - vars[0]: states['sensor.house_temperature'].state
    card:
      type: custom:mini-graph-card
      name: Temperature
      icon: "${vars[0] > 30 ? 'fas:thermometer-full' : vars[0] > 25 ? 'fas:thermometer-three-quarters' : vars[0] > 20 ? 'fas:thermometer-half' : vars[0] > 10 ? 'fas:thermometer-quarter' : 'fas:thermometer-empty' }"
      more_info: false
      height: 150
      line_width: 4
      hours_to_show: 168
      points_per_hour: 0.25
      aggregate_func: max
      group_by: hour
      group: false
      hour24: true
      animate: false
      decimals: 1
      font_size: 100
      font_size_header: 14
      align_header: default
      align_icon: right
      align_state: center
      lower_bound: -5
      upper_bound: 40
      logarithmic: false
      show:
        name: true
        icon: true
        state: true
        graph: line
        fill: true
        points: false
        legend: true
        extrema: false
        labels: false
        labels_secondary: false
        name_adaptive_color: true
        icon_adaptive_color: true
      state_map:
        - value: "off"
          label: "Day"
        - value: "on"
          label: "Night"
      color_thresholds: !include thresholds/temperature.yaml
      card_mod:
        style: |
          ha-card {
            padding: 16px !important;
          }
      entities:
        - entity: sensor.house_temperature
          name: Inside
          color: '#FF5000'
          show_state: true
          show_fill: true
        - entity: sensor.patio_wsdcgq11lm_temperature
          name: Outside
          color: '#0066FF'
          show_state: true
          show_fill: true
        - entity: sensor.dark_sky_temperature
          name: Meteo
          color: '#0099CC'
          show_state: true
          show_fill: true
        - entity: binary_sensor.night_time
          color: '#B3B3B3'
          name: Night Time
          show_fill: true
          show_line: false
          show_points: false
          show_legend: false
          y_axis: secondary
      tap_action:
        action: none
