function t(t,e,i,n){var o,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(r<3?o(s):r>3?o(e,i,s):o(e,i))||s);return r>3&&s&&Object.defineProperty(e,i,s),s}var e=window&&window.__assign||function(){return e=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},e.apply(this,arguments)};["angle-degree","area-acre","area-hectare","concentr-percent","digital-bit","digital-byte","digital-gigabit","digital-gigabyte","digital-kilobit","digital-kilobyte","digital-megabit","digital-megabyte","digital-petabyte","digital-terabit","digital-terabyte","duration-day","duration-hour","duration-millisecond","duration-minute","duration-month","duration-second","duration-week","duration-year","length-centimeter","length-foot","length-inch","length-kilometer","length-meter","length-mile-scandinavian","length-mile","length-millimeter","length-yard","mass-gram","mass-kilogram","mass-ounce","mass-pound","mass-stone","temperature-celsius","temperature-fahrenheit","volume-fluid-ounce","volume-gallon","volume-liter","volume-milliliter"].map((function(t){return t.replace(/^(.*?)-/,"")}));var n,o,r,s=window&&window.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},n(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),a=window&&window.__assign||function(){return a=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},a.apply(this,arguments)};function l(t){return t.substr(0,t.indexOf("."))}!function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="MISSING_LOCALE_DATA",e}s(e,t)}(Error),function(t){t.language="language",t.system="system",t.comma_decimal="comma_decimal",t.decimal_comma="decimal_comma",t.space_comma="space_comma",t.none="none"}(o||(o={})),function(t){t.language="language",t.system="system",t.am_pm="12",t.twenty_four="24"}(r||(r={}));var d=["closed","locked","off"],c=function(t,e,i,n){n=n||{},i=null==i?{}:i;var o=new Event(e,{bubbles:void 0===n.bubbles||n.bubbles,cancelable:Boolean(n.cancelable),composed:void 0===n.composed||n.composed});return o.detail=i,t.dispatchEvent(o),o},h=function(t){c(window,"haptic",t)},u=function(t,e){return function(t,e,i){void 0===i&&(i=!0);var n,o=l(e),r="group"===o?"homeassistant":o;switch(o){case"lock":n=i?"unlock":"lock";break;case"cover":n=i?"open_cover":"close_cover";break;default:n=i?"turn_on":"turn_off"}return t.callService(r,n,{entity_id:e})}(t,e,d.includes(t.states[e].state))},A=function(t,e,i,n){if(n||(n={action:"more-info"}),!n.confirmation||n.confirmation.exemptions&&n.confirmation.exemptions.some((function(t){return t.user===e.user.id}))||(h("warning"),confirm(n.confirmation.text||"Are you sure you want to "+n.action+"?")))switch(n.action){case"more-info":(i.entity||i.camera_image)&&c(t,"hass-more-info",{entityId:i.entity?i.entity:i.camera_image});break;case"navigate":n.navigation_path&&function(t,e,i){void 0===i&&(i=!1),i?history.replaceState(null,"",e):history.pushState(null,"",e),c(window,"location-changed",{replace:i})}(0,n.navigation_path);break;case"url":n.url_path&&window.open(n.url_path);break;case"toggle":i.entity&&(u(e,i.entity),h("success"));break;case"call-service":if(!n.service)return void h("failure");var o=n.service.split(".",2);e.callService(o[0],o[1],n.service_data,n.target),h("success");break;case"fire-dom-event":c(t,"ll-custom",n)}};function p(t){return void 0!==t&&"none"!==t.action}var m=function(){var t=document.querySelector("home-assistant");if(t=(t=(t=(t=(t=(t=(t=(t=t&&t.shadowRoot)&&t.querySelector("home-assistant-main"))&&t.shadowRoot)&&t.querySelector("app-drawer-layout partial-panel-resolver"))&&t.shadowRoot||t)&&t.querySelector("ha-panel-lovelace"))&&t.shadowRoot)&&t.querySelector("hui-root")){var e=t.lovelace;return e.current_view=t.___curView,e}return null};
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const g=window,f=g.ShadowRoot&&(void 0===g.ShadyCSS||g.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,v=Symbol(),b=new WeakMap;class y{constructor(t,e,i){if(this._$cssResult$=!0,i!==v)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(f&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=b.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&b.set(e,t))}return t}toString(){return this.cssText}}const _=t=>new y("string"==typeof t?t:t+"",void 0,v),w=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1]),t[0]);return new y(i,t,v)},C=f?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return _(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var I;const E=window,x=E.trustedTypes,B=x?x.emptyScript:"",k=E.reactiveElementPolyfillSupport,S={toAttribute(t,e){switch(e){case Boolean:t=t?B:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},D=(t,e)=>e!==t&&(e==e||t==t),Q={attribute:!0,type:String,converter:S,reflect:!1,hasChanged:D};class M extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;null!==(e=this.h)&&void 0!==e||(this.h=[]),this.h.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const n=this._$Ep(i,e);void 0!==n&&(this._$Ev.set(n,i),t.push(n))})),t}static createProperty(t,e=Q){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,i,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(n){const o=this[t];this[e]=n,this.requestUpdate(t,o,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||Q}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(C(t))}else void 0!==t&&e.push(C(t));return e}static _$Ep(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{f?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const i=document.createElement("style"),n=g.litNonce;void 0!==n&&i.setAttribute("nonce",n),i.textContent=e.cssText,t.appendChild(i)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=Q){var n;const o=this.constructor._$Ep(t,i);if(void 0!==o&&!0===i.reflect){const r=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:S).toAttribute(e,i.type);this._$El=t,null==r?this.removeAttribute(o):this.setAttribute(o,r),this._$El=null}}_$AK(t,e){var i;const n=this.constructor,o=n._$Ev.get(t);if(void 0!==o&&this._$El!==o){const t=n.getPropertyOptions(o),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:S;this._$El=o,this[o]=r.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let n=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||D)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var T;M.finalized=!0,M.elementProperties=new Map,M.elementStyles=[],M.shadowRootOptions={mode:"open"},null==k||k({ReactiveElement:M}),(null!==(I=E.reactiveElementVersions)&&void 0!==I?I:E.reactiveElementVersions=[]).push("1.4.1");const O=window,R=O.trustedTypes,P=R?R.createPolicy("lit-html",{createHTML:t=>t}):void 0,N=`lit$${(Math.random()+"").slice(9)}$`,F="?"+N,L=`<${F}>`,j=document,z=(t="")=>j.createComment(t),U=t=>null===t||"object"!=typeof t&&"function"!=typeof t,H=Array.isArray,G=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,q=/-->/g,Y=/>/g,$=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),W=/'/g,V=/"/g,J=/^(?:script|style|textarea|title)$/i,K=(t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),Z=Symbol.for("lit-noChange"),X=Symbol.for("lit-nothing"),tt=new WeakMap,et=j.createTreeWalker(j,129,null,!1),it=(t,e)=>{const i=t.length-1,n=[];let o,r=2===e?"<svg>":"",s=G;for(let e=0;e<i;e++){const i=t[e];let a,l,d=-1,c=0;for(;c<i.length&&(s.lastIndex=c,l=s.exec(i),null!==l);)c=s.lastIndex,s===G?"!--"===l[1]?s=q:void 0!==l[1]?s=Y:void 0!==l[2]?(J.test(l[2])&&(o=RegExp("</"+l[2],"g")),s=$):void 0!==l[3]&&(s=$):s===$?">"===l[0]?(s=null!=o?o:G,d=-1):void 0===l[1]?d=-2:(d=s.lastIndex-l[2].length,a=l[1],s=void 0===l[3]?$:'"'===l[3]?V:W):s===V||s===W?s=$:s===q||s===Y?s=G:(s=$,o=void 0);const h=s===$&&t[e+1].startsWith("/>")?" ":"";r+=s===G?i+L:d>=0?(n.push(a),i.slice(0,d)+"$lit$"+i.slice(d)+N+h):i+N+(-2===d?(n.push(void 0),e):h)}const a=r+(t[i]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==P?P.createHTML(a):a,n]};class nt{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let o=0,r=0;const s=t.length-1,a=this.parts,[l,d]=it(t,e);if(this.el=nt.createElement(l,i),et.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=et.nextNode())&&a.length<s;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(N)){const i=d[r++];if(t.push(e),void 0!==i){const t=n.getAttribute(i.toLowerCase()+"$lit$").split(N),e=/([.?@])?(.*)/.exec(i);a.push({type:1,index:o,name:e[2],strings:t,ctor:"."===e[1]?lt:"?"===e[1]?ct:"@"===e[1]?ht:at})}else a.push({type:6,index:o})}for(const e of t)n.removeAttribute(e)}if(J.test(n.tagName)){const t=n.textContent.split(N),e=t.length-1;if(e>0){n.textContent=R?R.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],z()),et.nextNode(),a.push({type:2,index:++o});n.append(t[e],z())}}}else if(8===n.nodeType)if(n.data===F)a.push({type:2,index:o});else{let t=-1;for(;-1!==(t=n.data.indexOf(N,t+1));)a.push({type:7,index:o}),t+=N.length-1}o++}}static createElement(t,e){const i=j.createElement("template");return i.innerHTML=t,i}}function ot(t,e,i=t,n){var o,r,s,a;if(e===Z)return e;let l=void 0!==n?null===(o=i._$Cl)||void 0===o?void 0:o[n]:i._$Cu;const d=U(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(r=null==l?void 0:l._$AO)||void 0===r||r.call(l,!1),void 0===d?l=void 0:(l=new d(t),l._$AT(t,i,n)),void 0!==n?(null!==(s=(a=i)._$Cl)&&void 0!==s?s:a._$Cl=[])[n]=l:i._$Cu=l),void 0!==l&&(e=ot(t,l._$AS(t,e.values),l,n)),e}class rt{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:i},parts:n}=this._$AD,o=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:j).importNode(i,!0);et.currentNode=o;let r=et.nextNode(),s=0,a=0,l=n[0];for(;void 0!==l;){if(s===l.index){let e;2===l.type?e=new st(r,r.nextSibling,this,t):1===l.type?e=new l.ctor(r,l.name,l.strings,this,t):6===l.type&&(e=new ut(r,this,t)),this.v.push(e),l=n[++a]}s!==(null==l?void 0:l.index)&&(r=et.nextNode(),s++)}return o}m(t){let e=0;for(const i of this.v)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class st{constructor(t,e,i,n){var o;this.type=2,this._$AH=X,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$C_=null===(o=null==n?void 0:n.isConnected)||void 0===o||o}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$C_}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=ot(this,t,e),U(t)?t===X||null==t||""===t?(this._$AH!==X&&this._$AR(),this._$AH=X):t!==this._$AH&&t!==Z&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):(t=>H(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.O(t):this.$(t)}S(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}$(t){this._$AH!==X&&U(this._$AH)?this._$AA.nextSibling.data=t:this.k(j.createTextNode(t)),this._$AH=t}T(t){var e;const{values:i,_$litType$:n}=t,o="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=nt.createElement(n.h,this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===o)this._$AH.m(i);else{const t=new rt(o,this),e=t.p(this.options);t.m(i),this.k(e),this._$AH=t}}_$AC(t){let e=tt.get(t.strings);return void 0===e&&tt.set(t.strings,e=new nt(t)),e}O(t){H(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const o of t)n===e.length?e.push(i=new st(this.S(z()),this.S(z()),this,this.options)):i=e[n],i._$AI(o),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$C_=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class at{constructor(t,e,i,n,o){this.type=1,this._$AH=X,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=o,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=X}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,n){const o=this.strings;let r=!1;if(void 0===o)t=ot(this,t,e,0),r=!U(t)||t!==this._$AH&&t!==Z,r&&(this._$AH=t);else{const n=t;let s,a;for(t=o[0],s=0;s<o.length-1;s++)a=ot(this,n[i+s],e,s),a===Z&&(a=this._$AH[s]),r||(r=!U(a)||a!==this._$AH[s]),a===X?t=X:t!==X&&(t+=(null!=a?a:"")+o[s+1]),this._$AH[s]=a}r&&!n&&this.P(t)}P(t){t===X?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class lt extends at{constructor(){super(...arguments),this.type=3}P(t){this.element[this.name]=t===X?void 0:t}}const dt=R?R.emptyScript:"";class ct extends at{constructor(){super(...arguments),this.type=4}P(t){t&&t!==X?this.element.setAttribute(this.name,dt):this.element.removeAttribute(this.name)}}class ht extends at{constructor(t,e,i,n,o){super(t,e,i,n,o),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=ot(this,t,e,0))&&void 0!==i?i:X)===Z)return;const n=this._$AH,o=t===X&&n!==X||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,r=t!==X&&(n===X||o);o&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class ut{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){ot(this,t)}}const At=O.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var pt,mt;null==At||At(nt,st),(null!==(T=O.litHtmlVersions)&&void 0!==T?T:O.litHtmlVersions=[]).push("2.3.1");class gt extends M{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{var n,o;const r=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:e;let s=r._$litPart$;if(void 0===s){const t=null!==(o=null==i?void 0:i.renderBefore)&&void 0!==o?o:null;r._$litPart$=s=new st(e.insertBefore(z(),t),t,void 0,null!=i?i:{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return Z}}gt.finalized=!0,gt._$litElement$=!0,null===(pt=globalThis.litElementHydrateSupport)||void 0===pt||pt.call(globalThis,{LitElement:gt});const ft=globalThis.litElementPolyfillSupport;null==ft||ft({LitElement:gt}),(null!==(mt=globalThis.litElementVersions)&&void 0!==mt?mt:globalThis.litElementVersions=[]).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const vt=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:n}=e;return{kind:i,elements:n,finisher(e){customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,bt=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function yt(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):bt(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function _t(t){return yt({...t,state:!0})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function wt(t,e){return(({finisher:t,descriptor:e})=>(i,n)=>{var o;if(void 0===n){const n=null!==(o=i.originalKey)&&void 0!==o?o:i.key,r=null!=e?{kind:"method",placement:"prototype",key:n,descriptor:e(i.key)}:{...i,key:n};return null!=t&&(r.finisher=function(e){t(e,n)}),r}{const o=i.constructor;void 0!==e&&Object.defineProperty(i,n,e(n)),null==t||t(o,n)}})({descriptor:i=>{const n={get(){var e,i;return null!==(i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof i?Symbol():"__"+i;n.get=function(){var i,n;return void 0===this[e]&&(this[e]=null!==(n=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(t))&&void 0!==n?n:null),this[e]}}return n}})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var Ct;null===(Ct=window.HTMLSlotElement)||void 0===Ct||Ct.prototype.assignedElements;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const It=1,Et=2,xt=3,Bt=4,kt=t=>(...e)=>({_$litDirective$:t,values:e});class St{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Dt=kt(class extends St{constructor(t){var e;if(super(t),t.type!==It||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var i,n;if(void 0===this.nt){this.nt=new Set,void 0!==t.strings&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(i=this.st)||void 0===i?void 0:i.has(t))&&this.nt.add(t);return this.render(e)}const o=t.element.classList;this.nt.forEach((t=>{t in e||(o.remove(t),this.nt.delete(t))}));for(const t in e){const i=!!e[t];i===this.nt.has(t)||(null===(n=this.st)||void 0===n?void 0:n.has(t))||(i?(o.add(t),this.nt.add(t)):(o.remove(t),this.nt.delete(t)))}return Z}}),Qt=t=>void 0===t.strings,Mt={},Tt=(t,e=Mt)=>t._$AH=e
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,Ot=(t,e)=>{var i,n;const o=t._$AN;if(void 0===o)return!1;for(const t of o)null===(n=(i=t)._$AO)||void 0===n||n.call(i,e,!1),Ot(t,e);return!0},Rt=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===(null==i?void 0:i.size))},Pt=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),Lt(e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Nt(t){void 0!==this._$AN?(Rt(this),this._$AM=t,Pt(this)):this._$AM=t}function Ft(t,e=!1,i=0){const n=this._$AH,o=this._$AN;if(void 0!==o&&0!==o.size)if(e)if(Array.isArray(n))for(let t=i;t<n.length;t++)Ot(n[t],!1),Rt(n[t]);else null!=n&&(Ot(n,!1),Rt(n));else Ot(this,t)}const Lt=t=>{var e,i,n,o;t.type==Et&&(null!==(e=(n=t)._$AP)&&void 0!==e||(n._$AP=Ft),null!==(i=(o=t)._$AQ)&&void 0!==i||(o._$AQ=Nt))};class jt extends St{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),Pt(this),this.isConnected=t._$AU}_$AO(t,e=!0){var i,n;t!==this.isConnected&&(this.isConnected=t,t?null===(i=this.reconnected)||void 0===i||i.call(this):null===(n=this.disconnected)||void 0===n||n.call(this)),e&&(Ot(this,t),Rt(this))}setValue(t){if(Qt(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const zt=()=>new Ut;class Ut{}const Ht=new WeakMap,Gt=kt(class extends jt{render(t){return X}update(t,[e]){var i;const n=e!==this.Y;return n&&void 0!==this.Y&&this.rt(void 0),(n||this.lt!==this.dt)&&(this.Y=e,this.ct=null===(i=t.options)||void 0===i?void 0:i.host,this.rt(this.dt=t.element)),X}rt(t){var e;if("function"==typeof this.Y){const i=null!==(e=this.ct)&&void 0!==e?e:globalThis;let n=Ht.get(i);void 0===n&&(n=new WeakMap,Ht.set(i,n)),void 0!==n.get(this.Y)&&this.Y.call(this.ct,void 0),n.set(this.Y,t),void 0!==t&&this.Y.call(this.ct,t)}else this.Y.value=t}get lt(){var t,e,i;return"function"==typeof this.Y?null===(e=Ht.get(null!==(t=this.ct)&&void 0!==t?t:globalThis))||void 0===e?void 0:e.get(this.Y):null===(i=this.Y)||void 0===i?void 0:i.value}disconnected(){this.lt===this.dt&&this.rt(void 0)}reconnected(){this.rt(this.dt)}}),qt=kt(class extends St{constructor(t){var e;if(super(t),t.type!==It||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const n=t[i];return null==n?e:e+`${i=i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${n};`}),"")}update(t,[e]){const{style:i}=t.element;if(void 0===this.vt){this.vt=new Set;for(const t in e)this.vt.add(t);return this.render(e)}this.vt.forEach((t=>{null==e[t]&&(this.vt.delete(t),t.includes("-")?i.removeProperty(t):i[t]="")}));for(const t in e){const n=e[t];null!=n&&(this.vt.add(t),t.includes("-")?i.setProperty(t,n):i[t]=n)}return Z}});
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class Yt{constructor(t){this.Y=t}disconnect(){this.Y=void 0}reconnect(t){this.Y=t}deref(){return this.Y}}class $t{constructor(){this.Z=void 0,this.q=void 0}get(){return this.Z}pause(){var t;null!==(t=this.Z)&&void 0!==t||(this.Z=new Promise((t=>this.q=t)))}resume(){var t;null===(t=this.q)||void 0===t||t.call(this),this.Z=this.q=void 0}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Wt=t=>!(t=>null===t||"object"!=typeof t&&"function"!=typeof t)(t)&&"function"==typeof t.then;const Vt=kt(class extends jt{constructor(){super(...arguments),this._$Cwt=1073741823,this._$Cyt=[],this._$CK=new Yt(this),this._$CX=new $t}render(...t){var e;return null!==(e=t.find((t=>!Wt(t))))&&void 0!==e?e:Z}update(t,e){const i=this._$Cyt;let n=i.length;this._$Cyt=e;const o=this._$CK,r=this._$CX;this.isConnected||this.disconnected();for(let t=0;t<e.length&&!(t>this._$Cwt);t++){const s=e[t];if(!Wt(s))return this._$Cwt=t,s;t<n&&s===i[t]||(this._$Cwt=1073741823,n=0,Promise.resolve(s).then((async t=>{for(;r.get();)await r.get();const e=o.deref();if(void 0!==e){const i=e._$Cyt.indexOf(s);i>-1&&i<e._$Cwt&&(e._$Cwt=i,e.setValue(t))}})))}return Z}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}});var Jt="object"==typeof global&&global&&global.Object===Object&&global,Kt="object"==typeof self&&self&&self.Object===Object&&self,Zt=Jt||Kt||Function("return this")(),Xt=Zt.Symbol,te=Object.prototype,ee=te.hasOwnProperty,ie=te.toString,ne=Xt?Xt.toStringTag:void 0;var oe=Object.prototype.toString;var re=Xt?Xt.toStringTag:void 0;function se(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":re&&re in Object(t)?function(t){var e=ee.call(t,ne),i=t[ne];try{t[ne]=void 0;var n=!0}catch(t){}var o=ie.call(t);return n&&(e?t[ne]=i:delete t[ne]),o}(t):function(t){return oe.call(t)}(t)}function ae(t){return null!=t&&"object"==typeof t}function le(t){return"symbol"==typeof t||ae(t)&&"[object Symbol]"==se(t)}function de(t){return"number"==typeof t?t:le(t)?NaN:+t}function ce(t,e){for(var i=-1,n=null==t?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}var he=Array.isArray,ue=Xt?Xt.prototype:void 0,Ae=ue?ue.toString:void 0;function pe(t){if("string"==typeof t)return t;if(he(t))return ce(t,pe)+"";if(le(t))return Ae?Ae.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function me(t,e){return function(i,n){var o;if(void 0===i&&void 0===n)return e;if(void 0!==i&&(o=i),void 0!==n){if(void 0===o)return n;"string"==typeof i||"string"==typeof n?(i=pe(i),n=pe(n)):(i=de(i),n=de(n)),o=t(i,n)}return o}}var ge=me((function(t,e){return t+e}),0),fe=/\s/;function ve(t){for(var e=t.length;e--&&fe.test(t.charAt(e)););return e}var be=/^\s+/;function ye(t){return t?t.slice(0,ve(t)+1).replace(be,""):t}function _e(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var we=/^[-+]0x[0-9a-f]+$/i,Ce=/^0b[01]+$/i,Ie=/^0o[0-7]+$/i,Ee=parseInt;function xe(t){if("number"==typeof t)return t;if(le(t))return NaN;if(_e(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=_e(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ye(t);var i=Ce.test(t);return i||Ie.test(t)?Ee(t.slice(2),i?2:8):we.test(t)?NaN:+t}function Be(t){return t?Infinity===(t=xe(t))||-Infinity===t?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ke(t){var e=Be(t),i=e%1;return e==e?i?e-i:e:0}function Se(t){return t}function De(t){if(!_e(t))return!1;var e=se(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var Qe,Me=Zt["__core-js_shared__"],Te=(Qe=/[^.]+$/.exec(Me&&Me.keys&&Me.keys.IE_PROTO||""))?"Symbol(src)_1."+Qe:"";var Oe=Function.prototype.toString;function Re(t){if(null!=t){try{return Oe.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var Pe=/^\[object .+?Constructor\]$/,Ne=Function.prototype,Fe=Object.prototype,Le=Ne.toString,je=Fe.hasOwnProperty,ze=RegExp("^"+Le.call(je).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ue(t){return!(!_e(t)||function(t){return!!Te&&Te in t}(t))&&(De(t)?ze:Pe).test(Re(t))}function He(t,e){var i=function(t,e){return null==t?void 0:t[e]}(t,e);return Ue(i)?i:void 0}var Ge=He(Zt,"WeakMap"),qe=Ge&&new Ge,Ye=qe?function(t,e){return qe.set(t,e),t}:Se,$e=Object.create,We=function(){function t(){}return function(e){if(!_e(e))return{};if($e)return $e(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function Ve(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=We(t.prototype),n=t.apply(i,e);return _e(n)?n:i}}function Je(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var Ke=Math.max;function Ze(t,e,i,n){for(var o=-1,r=t.length,s=i.length,a=-1,l=e.length,d=Ke(r-s,0),c=Array(l+d),h=!n;++a<l;)c[a]=e[a];for(;++o<s;)(h||o<r)&&(c[i[o]]=t[o]);for(;d--;)c[a++]=t[o++];return c}var Xe=Math.max;function ti(t,e,i,n){for(var o=-1,r=t.length,s=-1,a=i.length,l=-1,d=e.length,c=Xe(r-a,0),h=Array(c+d),u=!n;++o<c;)h[o]=t[o];for(var A=o;++l<d;)h[A+l]=e[l];for(;++s<a;)(u||o<r)&&(h[A+i[s]]=t[o++]);return h}function ei(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}function ii(){}function ni(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function oi(){}ni.prototype=We(ii.prototype),ni.prototype.constructor=ni;var ri=qe?function(t){return qe.get(t)}:oi,si={},ai=Object.prototype.hasOwnProperty;function li(t){for(var e=t.name+"",i=si[e],n=ai.call(si,e)?i.length:0;n--;){var o=i[n],r=o.func;if(null==r||r==t)return o.name}return e}function di(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}function ci(t,e){var i=-1,n=t.length;for(e||(e=Array(n));++i<n;)e[i]=t[i];return e}function hi(t){if(t instanceof ni)return t.clone();var e=new di(t.__wrapped__,t.__chain__);return e.__actions__=ci(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}di.prototype=We(ii.prototype),di.prototype.constructor=di;var ui=Object.prototype.hasOwnProperty;function Ai(t){if(ae(t)&&!he(t)&&!(t instanceof ni)){if(t instanceof di)return t;if(ui.call(t,"__wrapped__"))return hi(t)}return new di(t)}function pi(t){var e=li(t),i=Ai[e];if("function"!=typeof i||!(e in ni.prototype))return!1;if(t===i)return!0;var n=ri(i);return!!n&&t===n[0]}Ai.prototype=ii.prototype,Ai.prototype.constructor=Ai;var mi=Date.now;function gi(t){var e=0,i=0;return function(){var n=mi(),o=16-(n-i);if(i=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var fi=gi(Ye),vi=/\{\n\/\* \[wrapped with (.+)\] \*/,bi=/,? & /;var yi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function _i(t){return function(){return t}}var wi=function(){try{var t=He(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ci=wi?function(t,e){return wi(t,"toString",{configurable:!0,enumerable:!1,value:_i(e),writable:!0})}:Se,Ii=gi(Ci);function Ei(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function xi(t,e,i,n){for(var o=t.length,r=i+(n?1:-1);n?r--:++r<o;)if(e(t[r],r,t))return r;return-1}function Bi(t){return t!=t}function ki(t,e,i){return e==e?function(t,e,i){for(var n=i-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}(t,e,i):xi(t,Bi,i)}function Si(t,e){return!!(null==t?0:t.length)&&ki(t,e,0)>-1}var Di=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];function Qi(t,e,i){var n=e+"";return Ii(t,function(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(yi,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Ei(Di,(function(i){var n="_."+i[0];e&i[1]&&!Si(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(vi);return e?e[1].split(bi):[]}(n),i)))}function Mi(t,e,i,n,o,r,s,a,l,d){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);var h=[t,e,o,c?r:void 0,c?s:void 0,c?void 0:r,c?void 0:s,a,l,d],u=i.apply(void 0,h);return pi(t)&&fi(u,h),u.placeholder=n,Qi(u,t,e)}function Ti(t){return t.placeholder}var Oi=/^(?:0|[1-9]\d*)$/;function Ri(t,e){var i=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==i||"symbol"!=i&&Oi.test(t))&&t>-1&&t%1==0&&t<e}var Pi=Math.min;function Ni(t,e){for(var i=t.length,n=Pi(e.length,i),o=ci(t);n--;){var r=e[n];t[n]=Ri(r,i)?o[r]:void 0}return t}function Fi(t,e){for(var i=-1,n=t.length,o=0,r=[];++i<n;){var s=t[i];s!==e&&"__lodash_placeholder__"!==s||(t[i]="__lodash_placeholder__",r[o++]=i)}return r}function Li(t,e,i,n,o,r,s,a,l,d){var c=128&e,h=1&e,u=2&e,A=24&e,p=512&e,m=u?void 0:Ve(t);return function g(){for(var f=arguments.length,v=Array(f),b=f;b--;)v[b]=arguments[b];if(A)var y=Ti(g),_=ei(v,y);if(n&&(v=Ze(v,n,o,A)),r&&(v=ti(v,r,s,A)),f-=_,A&&f<d){var w=Fi(v,y);return Mi(t,e,Li,g.placeholder,i,v,w,a,l,d-f)}var C=h?i:this,I=u?C[t]:t;return f=v.length,a?v=Ni(v,a):p&&f>1&&v.reverse(),c&&l<f&&(v.length=l),this&&this!==Zt&&this instanceof g&&(I=m||Ve(I)),I.apply(C,v)}}var ji=Math.min;var zi=Math.max;function Ui(t,e,i,n,o,r,s,a){var l=2&e;if(!l&&"function"!=typeof t)throw new TypeError("Expected a function");var d=n?n.length:0;if(d||(e&=-97,n=o=void 0),s=void 0===s?s:zi(ke(s),0),a=void 0===a?a:ke(a),d-=o?o.length:0,64&e){var c=n,h=o;n=o=void 0}var u=l?void 0:ri(t),A=[t,e,i,n,o,c,h,r,s,a];if(u&&function(t,e){var i=t[1],n=e[1],o=i|n,r=o<131,s=128==n&&8==i||128==n&&256==i&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==i;if(!r&&!s)return t;1&n&&(t[2]=e[2],o|=1&i?0:4);var a=e[3];if(a){var l=t[3];t[3]=l?Ze(l,a,e[4]):a,t[4]=l?Fi(t[3],"__lodash_placeholder__"):e[4]}(a=e[5])&&(l=t[5],t[5]=l?ti(l,a,e[6]):a,t[6]=l?Fi(t[5],"__lodash_placeholder__"):e[6]),(a=e[7])&&(t[7]=a),128&n&&(t[8]=null==t[8]?e[8]:ji(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o}(A,u),t=A[0],e=A[1],i=A[2],n=A[3],o=A[4],!(a=A[9]=void 0===A[9]?l?0:t.length:zi(A[9]-d,0))&&24&e&&(e&=-25),e&&1!=e)p=8==e||16==e?function(t,e,i){var n=Ve(t);return function o(){for(var r=arguments.length,s=Array(r),a=r,l=Ti(o);a--;)s[a]=arguments[a];var d=r<3&&s[0]!==l&&s[r-1]!==l?[]:Fi(s,l);return(r-=d.length)<i?Mi(t,e,Li,o.placeholder,void 0,s,d,void 0,void 0,i-r):Je(this&&this!==Zt&&this instanceof o?n:t,this,s)}}(t,e,a):32!=e&&33!=e||o.length?Li.apply(void 0,A):function(t,e,i,n){var o=1&e,r=Ve(t);return function e(){for(var s=-1,a=arguments.length,l=-1,d=n.length,c=Array(d+a),h=this&&this!==Zt&&this instanceof e?r:t;++l<d;)c[l]=n[l];for(;a--;)c[l++]=arguments[++s];return Je(h,o?i:this,c)}}(t,e,i,n);else var p=function(t,e,i){var n=1&e,o=Ve(t);return function e(){return(this&&this!==Zt&&this instanceof e?o:t).apply(n?i:this,arguments)}}(t,e,i);return Qi((u?Ye:fi)(p,A),t,e)}function Hi(t,e,i){return e=i?void 0:e,Ui(t,128,void 0,void 0,void 0,void 0,e=t&&null==e?t.length:e)}function Gi(t,e,i){"__proto__"==e&&wi?wi(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function qi(t,e){return t===e||t!=t&&e!=e}var Yi=Object.prototype.hasOwnProperty;function $i(t,e,i){var n=t[e];Yi.call(t,e)&&qi(n,i)&&(void 0!==i||e in t)||Gi(t,e,i)}function Wi(t,e,i,n){var o=!i;i||(i={});for(var r=-1,s=e.length;++r<s;){var a=e[r],l=n?n(i[a],t[a],a,i,t):void 0;void 0===l&&(l=t[a]),o?Gi(i,a,l):$i(i,a,l)}return i}var Vi=Math.max;function Ji(t,e,i){return e=Vi(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,r=Vi(n.length-e,0),s=Array(r);++o<r;)s[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=i(s),Je(t,this,a)}}function Ki(t,e){return Ii(Ji(t,e,Se),t+"")}function Zi(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Xi(t){return null!=t&&Zi(t.length)&&!De(t)}function tn(t,e,i){if(!_e(i))return!1;var n=typeof e;return!!("number"==n?Xi(i)&&Ri(e,i.length):"string"==n&&e in i)&&qi(i[e],t)}function en(t){return Ki((function(e,i){var n=-1,o=i.length,r=o>1?i[o-1]:void 0,s=o>2?i[2]:void 0;for(r=t.length>3&&"function"==typeof r?(o--,r):void 0,s&&tn(i[0],i[1],s)&&(r=o<3?void 0:r,o=1),e=Object(e);++n<o;){var a=i[n];a&&t(e,a,n,r)}return e}))}var nn=Object.prototype;function on(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||nn)}function rn(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function sn(t){return ae(t)&&"[object Arguments]"==se(t)}var an=Object.prototype,ln=an.hasOwnProperty,dn=an.propertyIsEnumerable,cn=sn(function(){return arguments}())?sn:function(t){return ae(t)&&ln.call(t,"callee")&&!dn.call(t,"callee")};function hn(){return!1}var un="object"==typeof exports&&exports&&!exports.nodeType&&exports,An=un&&"object"==typeof module&&module&&!module.nodeType&&module,pn=An&&An.exports===un?Zt.Buffer:void 0,mn=(pn?pn.isBuffer:void 0)||hn,gn={};function fn(t){return function(e){return t(e)}}gn["[object Float32Array]"]=gn["[object Float64Array]"]=gn["[object Int8Array]"]=gn["[object Int16Array]"]=gn["[object Int32Array]"]=gn["[object Uint8Array]"]=gn["[object Uint8ClampedArray]"]=gn["[object Uint16Array]"]=gn["[object Uint32Array]"]=!0,gn["[object Arguments]"]=gn["[object Array]"]=gn["[object ArrayBuffer]"]=gn["[object Boolean]"]=gn["[object DataView]"]=gn["[object Date]"]=gn["[object Error]"]=gn["[object Function]"]=gn["[object Map]"]=gn["[object Number]"]=gn["[object Object]"]=gn["[object RegExp]"]=gn["[object Set]"]=gn["[object String]"]=gn["[object WeakMap]"]=!1;var vn="object"==typeof exports&&exports&&!exports.nodeType&&exports,bn=vn&&"object"==typeof module&&module&&!module.nodeType&&module,yn=bn&&bn.exports===vn&&Jt.process,_n=function(){try{var t=bn&&bn.require&&bn.require("util").types;return t||yn&&yn.binding&&yn.binding("util")}catch(t){}}(),wn=_n&&_n.isTypedArray,Cn=wn?fn(wn):function(t){return ae(t)&&Zi(t.length)&&!!gn[se(t)]},In=Object.prototype.hasOwnProperty;function En(t,e){var i=he(t),n=!i&&cn(t),o=!i&&!n&&mn(t),r=!i&&!n&&!o&&Cn(t),s=i||n||o||r,a=s?rn(t.length,String):[],l=a.length;for(var d in t)!e&&!In.call(t,d)||s&&("length"==d||o&&("offset"==d||"parent"==d)||r&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Ri(d,l))||a.push(d);return a}function xn(t,e){return function(i){return t(e(i))}}var Bn=xn(Object.keys,Object),kn=Object.prototype.hasOwnProperty;function Sn(t){if(!on(t))return Bn(t);var e=[];for(var i in Object(t))kn.call(t,i)&&"constructor"!=i&&e.push(i);return e}function Dn(t){return Xi(t)?En(t):Sn(t)}var Qn=Object.prototype.hasOwnProperty,Mn=en((function(t,e){if(on(e)||Xi(e))Wi(e,Dn(e),t);else for(var i in e)Qn.call(e,i)&&$i(t,i,e[i])}));var Tn=Object.prototype.hasOwnProperty;function On(t){if(!_e(t))return function(t){var e=[];if(null!=t)for(var i in Object(t))e.push(i);return e}(t);var e=on(t),i=[];for(var n in t)("constructor"!=n||!e&&Tn.call(t,n))&&i.push(n);return i}function Rn(t){return Xi(t)?En(t,!0):On(t)}var Pn=en((function(t,e){Wi(e,Rn(e),t)})),Nn=en((function(t,e,i,n){Wi(e,Rn(e),t,n)})),Fn=en((function(t,e,i,n){Wi(e,Dn(e),t,n)})),Ln=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jn=/^\w*$/;function zn(t,e){if(he(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!le(t))||(jn.test(t)||!Ln.test(t)||null!=e&&t in Object(e))}var Un=He(Object,"create");var Hn=Object.prototype.hasOwnProperty;var Gn=Object.prototype.hasOwnProperty;function qn(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function Yn(t,e){for(var i=t.length;i--;)if(qi(t[i][0],e))return i;return-1}qn.prototype.clear=function(){this.__data__=Un?Un(null):{},this.size=0},qn.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},qn.prototype.get=function(t){var e=this.__data__;if(Un){var i=e[t];return"__lodash_hash_undefined__"===i?void 0:i}return Hn.call(e,t)?e[t]:void 0},qn.prototype.has=function(t){var e=this.__data__;return Un?void 0!==e[t]:Gn.call(e,t)},qn.prototype.set=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Un&&void 0===e?"__lodash_hash_undefined__":e,this};var $n=Array.prototype.splice;function Wn(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Wn.prototype.clear=function(){this.__data__=[],this.size=0},Wn.prototype.delete=function(t){var e=this.__data__,i=Yn(e,t);return!(i<0)&&(i==e.length-1?e.pop():$n.call(e,i,1),--this.size,!0)},Wn.prototype.get=function(t){var e=this.__data__,i=Yn(e,t);return i<0?void 0:e[i][1]},Wn.prototype.has=function(t){return Yn(this.__data__,t)>-1},Wn.prototype.set=function(t,e){var i=this.__data__,n=Yn(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this};var Vn=He(Zt,"Map");function Jn(t,e){var i=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?i["string"==typeof e?"string":"hash"]:i.map}function Kn(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}Kn.prototype.clear=function(){this.size=0,this.__data__={hash:new qn,map:new(Vn||Wn),string:new qn}},Kn.prototype.delete=function(t){var e=Jn(this,t).delete(t);return this.size-=e?1:0,e},Kn.prototype.get=function(t){return Jn(this,t).get(t)},Kn.prototype.has=function(t){return Jn(this,t).has(t)},Kn.prototype.set=function(t,e){var i=Jn(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this};function Zn(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=t.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(Zn.Cache||Kn),i}Zn.Cache=Kn;var Xn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,to=/\\(\\)?/g,eo=function(t){var e=Zn(t,(function(t){return 500===i.size&&i.clear(),t})),i=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Xn,(function(t,i,n,o){e.push(n?o.replace(to,"$1"):i||t)})),e}));function io(t){return null==t?"":pe(t)}function no(t,e){return he(t)?t:zn(t,e)?[t]:eo(io(t))}function oo(t){if("string"==typeof t||le(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function ro(t,e){for(var i=0,n=(e=no(e,t)).length;null!=t&&i<n;)t=t[oo(e[i++])];return i&&i==n?t:void 0}function so(t,e,i){var n=null==t?void 0:ro(t,e);return void 0===n?i:n}function ao(t,e){for(var i=-1,n=e.length,o=Array(n),r=null==t;++i<n;)o[i]=r?void 0:so(t,e[i]);return o}function lo(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}var co=Xt?Xt.isConcatSpreadable:void 0;function ho(t){return he(t)||cn(t)||!!(co&&t&&t[co])}function uo(t,e,i,n,o){var r=-1,s=t.length;for(i||(i=ho),o||(o=[]);++r<s;){var a=t[r];e>0&&i(a)?e>1?uo(a,e-1,i,n,o):lo(o,a):n||(o[o.length]=a)}return o}function Ao(t){return(null==t?0:t.length)?uo(t,1):[]}function po(t){return Ii(Ji(t,void 0,Ao),t+"")}var mo=po(ao),go=xn(Object.getPrototypeOf,Object),fo=Function.prototype,vo=Object.prototype,bo=fo.toString,yo=vo.hasOwnProperty,_o=bo.call(Object);function wo(t){if(!ae(t)||"[object Object]"!=se(t))return!1;var e=go(t);if(null===e)return!0;var i=yo.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&bo.call(i)==_o}function Co(t){if(!ae(t))return!1;var e=se(t);return"[object Error]"==e||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!wo(t)}var Io=Ki((function(t,e){try{return Je(t,void 0,e)}catch(t){return Co(t)?t:new Error(t)}}));function Eo(t,e){var i;if("function"!=typeof e)throw new TypeError("Expected a function");return t=ke(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=void 0),i}}var xo=Ki((function(t,e,i){var n=1;if(i.length){var o=Fi(i,Ti(xo));n|=32}return Ui(t,n,e,i,o)}));xo.placeholder={};var Bo=po((function(t,e){return Ei(e,(function(e){e=oo(e),Gi(t,e,xo(t[e],t))})),t})),ko=Ki((function(t,e,i){var n=3;if(i.length){var o=Fi(i,Ti(ko));n|=32}return Ui(e,n,t,i,o)}));function So(t,e,i){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(i=i>o?o:i)<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var r=Array(o);++n<o;)r[n]=t[n+e];return r}function Do(t,e,i){var n=t.length;return i=void 0===i?n:i,!e&&i>=n?t:So(t,e,i)}ko.placeholder={};var Qo=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Mo(t){return Qo.test(t)}var To="[\\ud800-\\udfff]",Oo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ro="\\ud83c[\\udffb-\\udfff]",Po="[^\\ud800-\\udfff]",No="(?:\\ud83c[\\udde6-\\uddff]){2}",Fo="[\\ud800-\\udbff][\\udc00-\\udfff]",Lo="(?:"+Oo+"|"+Ro+")"+"?",jo="[\\ufe0e\\ufe0f]?"+Lo+("(?:\\u200d(?:"+[Po,No,Fo].join("|")+")[\\ufe0e\\ufe0f]?"+Lo+")*"),zo="(?:"+[Po+Oo+"?",Oo,No,Fo,To].join("|")+")",Uo=RegExp(Ro+"(?="+Ro+")|"+zo+jo,"g");function Ho(t){return Mo(t)?function(t){return t.match(Uo)||[]}(t):function(t){return t.split("")}(t)}function Go(t){return function(e){var i=Mo(e=io(e))?Ho(e):void 0,n=i?i[0]:e.charAt(0),o=i?Do(i,1).join(""):e.slice(1);return n[t]()+o}}var qo=Go("toUpperCase");function Yo(t){return qo(io(t).toLowerCase())}function $o(t,e,i,n){var o=-1,r=null==t?0:t.length;for(n&&r&&(i=t[++o]);++o<r;)i=e(i,t[o],o,t);return i}function Wo(t){return function(e){return null==t?void 0:t[e]}}var Vo=Wo({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Jo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ko=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");function Zo(t){return(t=io(t))&&t.replace(Jo,Vo).replace(Ko,"")}var Xo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var tr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var er="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ir="["+er+"]",nr="\\d+",or="[\\u2700-\\u27bf]",rr="[a-z\\xdf-\\xf6\\xf8-\\xff]",sr="[^\\ud800-\\udfff"+er+nr+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ar="(?:\\ud83c[\\udde6-\\uddff]){2}",lr="[\\ud800-\\udbff][\\udc00-\\udfff]",dr="[A-Z\\xc0-\\xd6\\xd8-\\xde]",cr="(?:"+rr+"|"+sr+")",hr="(?:"+dr+"|"+sr+")",ur="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Ar="[\\ufe0e\\ufe0f]?"+ur+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",ar,lr].join("|")+")[\\ufe0e\\ufe0f]?"+ur+")*"),pr="(?:"+[or,ar,lr].join("|")+")"+Ar,mr=RegExp([dr+"?"+rr+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ir,dr,"$"].join("|")+")",hr+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ir,dr+cr,"$"].join("|")+")",dr+"?"+cr+"+(?:['’](?:d|ll|m|re|s|t|ve))?",dr+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nr,pr].join("|"),"g");function gr(t,e,i){return t=io(t),void 0===(e=i?void 0:e)?function(t){return tr.test(t)}(t)?function(t){return t.match(mr)||[]}(t):function(t){return t.match(Xo)||[]}(t):t.match(e)||[]}var fr=RegExp("['’]","g");function vr(t){return function(e){return $o(gr(Zo(e).replace(fr,"")),t,"")}}var br=vr((function(t,e,i){return e=e.toLowerCase(),t+(i?Yo(e):e)}));var yr=Zt.isFinite,_r=Math.min;function wr(t){var e=Math[t];return function(t,i){if(t=xe(t),(i=null==i?0:_r(ke(i),292))&&yr(t)){var n=(io(t)+"e").split("e");return+((n=(io(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"))[0]+"e"+(+n[1]-i))}return e(t)}}var Cr=wr("ceil");function Ir(t){var e=Ai(t);return e.__chain__=!0,e}var Er=Math.ceil,xr=Math.max;function Br(t,e,i){return t==t&&(void 0!==i&&(t=t<=i?t:i),void 0!==e&&(t=t>=e?t:e)),t}function kr(t){var e=this.__data__=new Wn(t);this.size=e.size}function Sr(t,e){return t&&Wi(e,Dn(e),t)}kr.prototype.clear=function(){this.__data__=new Wn,this.size=0},kr.prototype.delete=function(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i},kr.prototype.get=function(t){return this.__data__.get(t)},kr.prototype.has=function(t){return this.__data__.has(t)},kr.prototype.set=function(t,e){var i=this.__data__;if(i instanceof Wn){var n=i.__data__;if(!Vn||n.length<199)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Kn(n)}return i.set(t,e),this.size=i.size,this};var Dr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Qr=Dr&&"object"==typeof module&&module&&!module.nodeType&&module,Mr=Qr&&Qr.exports===Dr?Zt.Buffer:void 0,Tr=Mr?Mr.allocUnsafe:void 0;function Or(t,e){if(e)return t.slice();var i=t.length,n=Tr?Tr(i):new t.constructor(i);return t.copy(n),n}function Rr(t,e){for(var i=-1,n=null==t?0:t.length,o=0,r=[];++i<n;){var s=t[i];e(s,i,t)&&(r[o++]=s)}return r}function Pr(){return[]}var Nr=Object.prototype.propertyIsEnumerable,Fr=Object.getOwnPropertySymbols,Lr=Fr?function(t){return null==t?[]:(t=Object(t),Rr(Fr(t),(function(e){return Nr.call(t,e)})))}:Pr;var jr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)lo(e,Lr(t)),t=go(t);return e}:Pr;function zr(t,e,i){var n=e(t);return he(t)?n:lo(n,i(t))}function Ur(t){return zr(t,Dn,Lr)}function Hr(t){return zr(t,Rn,jr)}var Gr=He(Zt,"DataView"),qr=He(Zt,"Promise"),Yr=He(Zt,"Set"),$r=Re(Gr),Wr=Re(Vn),Vr=Re(qr),Jr=Re(Yr),Kr=Re(Ge),Zr=se;(Gr&&"[object DataView]"!=Zr(new Gr(new ArrayBuffer(1)))||Vn&&"[object Map]"!=Zr(new Vn)||qr&&"[object Promise]"!=Zr(qr.resolve())||Yr&&"[object Set]"!=Zr(new Yr)||Ge&&"[object WeakMap]"!=Zr(new Ge))&&(Zr=function(t){var e=se(t),i="[object Object]"==e?t.constructor:void 0,n=i?Re(i):"";if(n)switch(n){case $r:return"[object DataView]";case Wr:return"[object Map]";case Vr:return"[object Promise]";case Jr:return"[object Set]";case Kr:return"[object WeakMap]"}return e});var Xr=Zr,ts=Object.prototype.hasOwnProperty;var es=Zt.Uint8Array;function is(t){var e=new t.constructor(t.byteLength);return new es(e).set(new es(t)),e}var ns=/\w*$/;var os=Xt?Xt.prototype:void 0,rs=os?os.valueOf:void 0;function ss(t,e){var i=e?is(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function as(t,e,i){var n,o=t.constructor;switch(e){case"[object ArrayBuffer]":return is(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":return function(t,e){var i=e?is(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}(t,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ss(t,i);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,ns.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Symbol]":return n=t,rs?Object(rs.call(n)):{}}}function ls(t){return"function"!=typeof t.constructor||on(t)?{}:We(go(t))}var ds=_n&&_n.isMap,cs=ds?fn(ds):function(t){return ae(t)&&"[object Map]"==Xr(t)};var hs=_n&&_n.isSet,us=hs?fn(hs):function(t){return ae(t)&&"[object Set]"==Xr(t)},As={};function ps(t,e,i,n,o,r){var s,a=1&e,l=2&e,d=4&e;if(i&&(s=o?i(t,n,o,r):i(t)),void 0!==s)return s;if(!_e(t))return t;var c=he(t);if(c){if(s=function(t){var e=t.length,i=new t.constructor(e);return e&&"string"==typeof t[0]&&ts.call(t,"index")&&(i.index=t.index,i.input=t.input),i}(t),!a)return ci(t,s)}else{var h=Xr(t),u="[object Function]"==h||"[object GeneratorFunction]"==h;if(mn(t))return Or(t,a);if("[object Object]"==h||"[object Arguments]"==h||u&&!o){if(s=l||u?{}:ls(t),!a)return l?function(t,e){return Wi(t,jr(t),e)}(t,function(t,e){return t&&Wi(e,Rn(e),t)}(s,t)):function(t,e){return Wi(t,Lr(t),e)}(t,Sr(s,t))}else{if(!As[h])return o?t:{};s=as(t,h,a)}}r||(r=new kr);var A=r.get(t);if(A)return A;r.set(t,s),us(t)?t.forEach((function(n){s.add(ps(n,e,i,n,t,r))})):cs(t)&&t.forEach((function(n,o){s.set(o,ps(n,e,i,o,t,r))}));var p=c?void 0:(d?l?Hr:Ur:l?Rn:Dn)(t);return Ei(p||t,(function(n,o){p&&(n=t[o=n]),$i(s,o,ps(n,e,i,o,t,r))})),s}As["[object Arguments]"]=As["[object Array]"]=As["[object ArrayBuffer]"]=As["[object DataView]"]=As["[object Boolean]"]=As["[object Date]"]=As["[object Float32Array]"]=As["[object Float64Array]"]=As["[object Int8Array]"]=As["[object Int16Array]"]=As["[object Int32Array]"]=As["[object Map]"]=As["[object Number]"]=As["[object Object]"]=As["[object RegExp]"]=As["[object Set]"]=As["[object String]"]=As["[object Symbol]"]=As["[object Uint8Array]"]=As["[object Uint8ClampedArray]"]=As["[object Uint16Array]"]=As["[object Uint32Array]"]=!0,As["[object Error]"]=As["[object Function]"]=As["[object WeakMap]"]=!1;function ms(t){return ps(t,5)}function gs(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new Kn;++e<i;)this.add(t[e])}function fs(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function vs(t,e){return t.has(e)}gs.prototype.add=gs.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},gs.prototype.has=function(t){return this.__data__.has(t)};function bs(t,e,i,n,o,r){var s=1&i,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var d=r.get(t),c=r.get(e);if(d&&c)return d==e&&c==t;var h=-1,u=!0,A=2&i?new gs:void 0;for(r.set(t,e),r.set(e,t);++h<a;){var p=t[h],m=e[h];if(n)var g=s?n(m,p,h,e,t,r):n(p,m,h,t,e,r);if(void 0!==g){if(g)continue;u=!1;break}if(A){if(!fs(e,(function(t,e){if(!vs(A,e)&&(p===t||o(p,t,i,n,r)))return A.push(e)}))){u=!1;break}}else if(p!==m&&!o(p,m,i,n,r)){u=!1;break}}return r.delete(t),r.delete(e),u}function ys(t){var e=-1,i=Array(t.size);return t.forEach((function(t,n){i[++e]=[n,t]})),i}function _s(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=t})),i}var ws=Xt?Xt.prototype:void 0,Cs=ws?ws.valueOf:void 0;var Is=Object.prototype.hasOwnProperty;var Es="[object Object]",xs=Object.prototype.hasOwnProperty;function Bs(t,e,i,n,o,r){var s=he(t),a=he(e),l=s?"[object Array]":Xr(t),d=a?"[object Array]":Xr(e),c=(l="[object Arguments]"==l?Es:l)==Es,h=(d="[object Arguments]"==d?Es:d)==Es,u=l==d;if(u&&mn(t)){if(!mn(e))return!1;s=!0,c=!1}if(u&&!c)return r||(r=new kr),s||Cn(t)?bs(t,e,i,n,o,r):function(t,e,i,n,o,r,s){switch(i){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new es(t),new es(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qi(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=ys;case"[object Set]":var l=1&n;if(a||(a=_s),t.size!=e.size&&!l)return!1;var d=s.get(t);if(d)return d==e;n|=2,s.set(t,e);var c=bs(a(t),a(e),n,o,r,s);return s.delete(t),c;case"[object Symbol]":if(Cs)return Cs.call(t)==Cs.call(e)}return!1}(t,e,l,i,n,o,r);if(!(1&i)){var A=c&&xs.call(t,"__wrapped__"),p=h&&xs.call(e,"__wrapped__");if(A||p){var m=A?t.value():t,g=p?e.value():e;return r||(r=new kr),o(m,g,i,n,r)}}return!!u&&(r||(r=new kr),function(t,e,i,n,o,r){var s=1&i,a=Ur(t),l=a.length;if(l!=Ur(e).length&&!s)return!1;for(var d=l;d--;){var c=a[d];if(!(s?c in e:Is.call(e,c)))return!1}var h=r.get(t),u=r.get(e);if(h&&u)return h==e&&u==t;var A=!0;r.set(t,e),r.set(e,t);for(var p=s;++d<l;){var m=t[c=a[d]],g=e[c];if(n)var f=s?n(g,m,c,e,t,r):n(m,g,c,t,e,r);if(!(void 0===f?m===g||o(m,g,i,n,r):f)){A=!1;break}p||(p="constructor"==c)}if(A&&!p){var v=t.constructor,b=e.constructor;v==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(A=!1)}return r.delete(t),r.delete(e),A}(t,e,i,n,o,r))}function ks(t,e,i,n,o){return t===e||(null==t||null==e||!ae(t)&&!ae(e)?t!=t&&e!=e:Bs(t,e,i,n,ks,o))}function Ss(t,e,i,n){var o=i.length,r=o,s=!n;if(null==t)return!r;for(t=Object(t);o--;){var a=i[o];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<r;){var l=(a=i[o])[0],d=t[l],c=a[1];if(s&&a[2]){if(void 0===d&&!(l in t))return!1}else{var h=new kr;if(n)var u=n(d,c,l,t,e,h);if(!(void 0===u?ks(c,d,3,n,h):u))return!1}}return!0}function Ds(t){return t==t&&!_e(t)}function Qs(t){for(var e=Dn(t),i=e.length;i--;){var n=e[i],o=t[n];e[i]=[n,o,Ds(o)]}return e}function Ms(t,e){return function(i){return null!=i&&(i[t]===e&&(void 0!==e||t in Object(i)))}}function Ts(t){var e=Qs(t);return 1==e.length&&e[0][2]?Ms(e[0][0],e[0][1]):function(i){return i===t||Ss(i,t,e)}}function Os(t,e){return null!=t&&e in Object(t)}function Rs(t,e,i){for(var n=-1,o=(e=no(e,t)).length,r=!1;++n<o;){var s=oo(e[n]);if(!(r=null!=t&&i(t,s)))break;t=t[s]}return r||++n!=o?r:!!(o=null==t?0:t.length)&&Zi(o)&&Ri(s,o)&&(he(t)||cn(t))}function Ps(t,e){return null!=t&&Rs(t,e,Os)}function Ns(t,e){return zn(t)&&Ds(e)?Ms(oo(t),e):function(i){var n=so(i,t);return void 0===n&&n===e?Ps(i,t):ks(e,n,3)}}function Fs(t){return function(e){return null==e?void 0:e[t]}}function Ls(t){return zn(t)?Fs(oo(t)):function(t){return function(e){return ro(e,t)}}(t)}function js(t){return"function"==typeof t?t:null==t?Se:"object"==typeof t?he(t)?Ns(t[0],t[1]):Ts(t):Ls(t)}function zs(t,e,i){var n=i.length;if(null==t)return!n;for(t=Object(t);n--;){var o=i[n],r=e[o],s=t[o];if(void 0===s&&!(o in t)||!r(s))return!1}return!0}function Us(t,e,i,n){for(var o=-1,r=null==t?0:t.length;++o<r;){var s=t[o];e(n,s,i(s),t)}return n}function Hs(t){return function(e,i,n){for(var o=-1,r=Object(e),s=n(e),a=s.length;a--;){var l=s[t?a:++o];if(!1===i(r[l],l,r))break}return e}}var Gs=Hs();function qs(t,e){return t&&Gs(t,e,Dn)}function Ys(t,e){return function(i,n){if(null==i)return i;if(!Xi(i))return t(i,n);for(var o=i.length,r=e?o:-1,s=Object(i);(e?r--:++r<o)&&!1!==n(s[r],r,s););return i}}var $s=Ys(qs);function Ws(t,e,i,n){return $s(t,(function(t,o,r){e(n,t,i(t),r)})),n}function Vs(t,e){return function(i,n){var o=he(i)?Us:Ws,r=e?e():{};return o(i,t,js(n),r)}}var Js=Object.prototype.hasOwnProperty,Ks=Vs((function(t,e,i){Js.call(t,i)?++t[i]:Gi(t,i,1)}));function Zs(t,e,i){var n=Ui(t,8,void 0,void 0,void 0,void 0,void 0,e=i?void 0:e);return n.placeholder=Zs.placeholder,n}Zs.placeholder={};function Xs(t,e,i){var n=Ui(t,16,void 0,void 0,void 0,void 0,void 0,e=i?void 0:e);return n.placeholder=Xs.placeholder,n}Xs.placeholder={};var ta=function(){return Zt.Date.now()},ea=Math.max,ia=Math.min;function na(t,e,i){var n,o,r,s,a,l,d=0,c=!1,h=!1,u=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function A(e){var i=n,r=o;return n=o=void 0,d=e,s=t.apply(r,i)}function p(t){return d=t,a=setTimeout(g,e),c?A(t):s}function m(t){var i=t-l;return void 0===l||i>=e||i<0||h&&t-d>=r}function g(){var t=ta();if(m(t))return f(t);a=setTimeout(g,function(t){var i=e-(t-l);return h?ia(i,r-(t-d)):i}(t))}function f(t){return a=void 0,u&&n?A(t):(n=o=void 0,s)}function v(){var t=ta(),i=m(t);if(n=arguments,o=this,l=t,i){if(void 0===a)return p(l);if(h)return clearTimeout(a),a=setTimeout(g,e),A(l)}return void 0===a&&(a=setTimeout(g,e)),s}return e=xe(e)||0,_e(i)&&(c=!!i.leading,r=(h="maxWait"in i)?ea(xe(i.maxWait)||0,e):r,u="trailing"in i?!!i.trailing:u),v.cancel=function(){void 0!==a&&clearTimeout(a),d=0,n=l=o=a=void 0},v.flush=function(){return void 0===a?s:f(ta())},v}var oa=Object.prototype,ra=oa.hasOwnProperty,sa=Ki((function(t,e){t=Object(t);var i=-1,n=e.length,o=n>2?e[2]:void 0;for(o&&tn(e[0],e[1],o)&&(n=1);++i<n;)for(var r=e[i],s=Rn(r),a=-1,l=s.length;++a<l;){var d=s[a],c=t[d];(void 0===c||qi(c,oa[d])&&!ra.call(t,d))&&(t[d]=r[d])}return t}));function aa(t,e,i){(void 0!==i&&!qi(t[e],i)||void 0===i&&!(e in t))&&Gi(t,e,i)}function la(t){return ae(t)&&Xi(t)}function da(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function ca(t){return Wi(t,Rn(t))}function ha(t,e,i,n,o){t!==e&&Gs(e,(function(r,s){if(o||(o=new kr),_e(r))!function(t,e,i,n,o,r,s){var a=da(t,i),l=da(e,i),d=s.get(l);if(d)aa(t,i,d);else{var c=r?r(a,l,i+"",t,e,s):void 0,h=void 0===c;if(h){var u=he(l),A=!u&&mn(l),p=!u&&!A&&Cn(l);c=l,u||A||p?he(a)?c=a:la(a)?c=ci(a):A?(h=!1,c=Or(l,!0)):p?(h=!1,c=ss(l,!0)):c=[]:wo(l)||cn(l)?(c=a,cn(a)?c=ca(a):_e(a)&&!De(a)||(c=ls(l))):h=!1}h&&(s.set(l,c),o(c,l,n,r,s),s.delete(l)),aa(t,i,c)}}(t,e,s,i,ha,n,o);else{var a=n?n(da(t,s),r,s+"",t,e,o):void 0;void 0===a&&(a=r),aa(t,s,a)}}),Rn)}function ua(t,e,i,n,o,r){return _e(t)&&_e(e)&&(r.set(e,t),ha(t,e,void 0,ua,r),r.delete(e)),t}var Aa=en((function(t,e,i,n){ha(t,e,i,n)})),pa=Ki((function(t){return t.push(void 0,ua),Je(Aa,void 0,t)}));function ma(t,e,i){if("function"!=typeof t)throw new TypeError("Expected a function");return setTimeout((function(){t.apply(void 0,i)}),e)}var ga=Ki((function(t,e){return ma(t,1,e)})),fa=Ki((function(t,e,i){return ma(t,xe(e)||0,i)}));function va(t,e,i){for(var n=-1,o=null==t?0:t.length;++n<o;)if(i(e,t[n]))return!0;return!1}function ba(t,e,i,n){var o=-1,r=Si,s=!0,a=t.length,l=[],d=e.length;if(!a)return l;i&&(e=ce(e,fn(i))),n?(r=va,s=!1):e.length>=200&&(r=vs,s=!1,e=new gs(e));t:for(;++o<a;){var c=t[o],h=null==i?c:i(c);if(c=n||0!==c?c:0,s&&h==h){for(var u=d;u--;)if(e[u]===h)continue t;l.push(c)}else r(e,h,n)||l.push(c)}return l}var ya=Ki((function(t,e){return la(t)?ba(t,uo(e,1,la,!0)):[]}));function _a(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}var wa=Ki((function(t,e){var i=_a(e);return la(i)&&(i=void 0),la(t)?ba(t,uo(e,1,la,!0),js(i)):[]})),Ca=Ki((function(t,e){var i=_a(e);return la(i)&&(i=void 0),la(t)?ba(t,uo(e,1,la,!0),void 0,i):[]})),Ia=me((function(t,e){return t/e}),1);function Ea(t,e,i,n){for(var o=t.length,r=n?o:-1;(n?r--:++r<o)&&e(t[r],r,t););return i?So(t,n?0:r,n?r+1:o):So(t,n?r+1:0,n?o:r)}function xa(t){return"function"==typeof t?t:Se}function Ba(t,e){return(he(t)?Ei:$s)(t,xa(e))}function ka(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}var Sa=Hs(!0);function Da(t,e){return t&&Sa(t,e,Dn)}var Qa=Ys(Da,!0);function Ma(t,e){return(he(t)?ka:Qa)(t,xa(e))}function Ta(t){return function(e){var i=Xr(e);return"[object Map]"==i?ys(e):"[object Set]"==i?function(t){var e=-1,i=Array(t.size);return t.forEach((function(t){i[++e]=[t,t]})),i}(e):function(t,e){return ce(e,(function(e){return[e,t[e]]}))}(e,t(e))}}var Oa=Ta(Dn),Ra=Ta(Rn),Pa=Wo({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),Na=/[&<>"']/g,Fa=RegExp(Na.source);function La(t){return(t=io(t))&&Fa.test(t)?t.replace(Na,Pa):t}var ja=/[\\^$.*+?()[\]{}|]/g,za=RegExp(ja.source);function Ua(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function Ha(t,e){var i=!0;return $s(t,(function(t,n,o){return i=!!e(t,n,o)})),i}function Ga(t){return t?Br(ke(t),0,4294967295):0}function qa(t,e){var i=[];return $s(t,(function(t,n,o){e(t,n,o)&&i.push(t)})),i}function Ya(t){return function(e,i,n){var o=Object(e);if(!Xi(e)){var r=js(i);e=Dn(e),i=function(t){return r(o[t],t,o)}}var s=t(e,i,n);return s>-1?o[r?e[s]:s]:void 0}}var $a=Math.max;function Wa(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:ke(i);return o<0&&(o=$a(n+o,0)),xi(t,js(e),o)}var Va=Ya(Wa);function Ja(t,e,i){var n;return i(t,(function(t,i,o){if(e(t,i,o))return n=i,!1})),n}var Ka=Math.max,Za=Math.min;function Xa(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return void 0!==i&&(o=ke(i),o=i<0?Ka(n+o,0):Za(o,n-1)),xi(t,js(e),o,!0)}var tl=Ya(Xa);function el(t){return t&&t.length?t[0]:void 0}function il(t,e){var i=-1,n=Xi(t)?Array(t.length):[];return $s(t,(function(t,o,r){n[++i]=e(t,o,r)})),n}function nl(t,e){return(he(t)?ce:il)(t,js(e))}var ol=wr("floor");function rl(t){return po((function(e){var i=e.length,n=i,o=di.prototype.thru;for(t&&e.reverse();n--;){var r=e[n];if("function"!=typeof r)throw new TypeError("Expected a function");if(o&&!s&&"wrapper"==li(r))var s=new di([],!0)}for(n=s?n:i;++n<i;){var a=li(r=e[n]),l="wrapper"==a?ri(r):void 0;s=l&&pi(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?s[li(l[0])].apply(s,l[3]):1==r.length&&pi(r)?s[a]():s.thru(r)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&he(n))return s.plant(n).value();for(var o=0,r=i?e[o].apply(this,t):n;++o<i;)r=e[o].call(this,r);return r}}))}var sl=rl(),al=rl(!0);function ll(t,e){return Rr(e,(function(e){return De(t[e])}))}var dl=Object.prototype.hasOwnProperty,cl=Vs((function(t,e,i){dl.call(t,i)?t[i].push(e):Gi(t,i,[e])}));function hl(t,e){return t>e}function ul(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=xe(e),i=xe(i)),t(e,i)}}var Al=ul(hl),pl=ul((function(t,e){return t>=e})),ml=Object.prototype.hasOwnProperty;function gl(t,e){return null!=t&&ml.call(t,e)}var fl=Math.max,vl=Math.min;function bl(t){return"string"==typeof t||!he(t)&&ae(t)&&"[object String]"==se(t)}function yl(t,e){return ce(e,(function(e){return t[e]}))}function _l(t){return null==t?[]:yl(t,Dn(t))}var wl=Math.max;var Cl=Math.max;var Il=Math.min;function El(t,e,i){for(var n=i?va:Si,o=t[0].length,r=t.length,s=r,a=Array(r),l=1/0,d=[];s--;){var c=t[s];s&&e&&(c=ce(c,fn(e))),l=Il(c.length,l),a[s]=!i&&(e||o>=120&&c.length>=120)?new gs(s&&c):void 0}c=t[0];var h=-1,u=a[0];t:for(;++h<o&&d.length<l;){var A=c[h],p=e?e(A):A;if(A=i||0!==A?A:0,!(u?vs(u,p):n(d,p,i))){for(s=r;--s;){var m=a[s];if(!(m?vs(m,p):n(t[s],p,i)))continue t}u&&u.push(p),d.push(A)}}return d}function xl(t){return la(t)?t:[]}var Bl=Ki((function(t){var e=ce(t,xl);return e.length&&e[0]===t[0]?El(e):[]})),kl=Ki((function(t){var e=_a(t),i=ce(t,xl);return e===_a(i)?e=void 0:i.pop(),i.length&&i[0]===t[0]?El(i,js(e)):[]})),Sl=Ki((function(t){var e=_a(t),i=ce(t,xl);return(e="function"==typeof e?e:void 0)&&i.pop(),i.length&&i[0]===t[0]?El(i,void 0,e):[]}));function Dl(t,e){return function(i,n){return function(t,e,i,n){return qs(t,(function(t,o,r){e(n,i(t),o,r)})),n}(i,t,e(n),{})}}var Ql=Object.prototype.toString,Ml=Dl((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Ql.call(e)),t[e]=i}),_i(Se)),Tl=Object.prototype,Ol=Tl.hasOwnProperty,Rl=Tl.toString,Pl=Dl((function(t,e,i){null!=e&&"function"!=typeof e.toString&&(e=Rl.call(e)),Ol.call(t,e)?t[e].push(i):t[e]=[i]}),js);function Nl(t,e){return e.length<2?t:ro(t,So(e,0,-1))}function Fl(t,e,i){var n=null==(t=Nl(t,e=no(e,t)))?t:t[oo(_a(e))];return null==n?void 0:Je(n,t,i)}var Ll=Ki(Fl),jl=Ki((function(t,e,i){var n=-1,o="function"==typeof e,r=Xi(t)?Array(t.length):[];return $s(t,(function(t){r[++n]=o?Je(e,t,i):Fl(t,e,i)})),r}));var zl=_n&&_n.isArrayBuffer,Ul=zl?fn(zl):function(t){return ae(t)&&"[object ArrayBuffer]"==se(t)};var Hl=_n&&_n.isDate,Gl=Hl?fn(Hl):function(t){return ae(t)&&"[object Date]"==se(t)};var ql=Object.prototype.hasOwnProperty;function Yl(t,e){return ks(t,e)}var $l=Zt.isFinite;function Wl(t){return"number"==typeof t&&t==ke(t)}function Vl(t){return"number"==typeof t||ae(t)&&"[object Number]"==se(t)}var Jl=Me?De:hn;var Kl=_n&&_n.isRegExp,Zl=Kl?fn(Kl):function(t){return ae(t)&&"[object RegExp]"==se(t)};var Xl=Array.prototype.join;var td=vr((function(t,e,i){return t+(i?"-":"")+e.toLowerCase()})),ed=Vs((function(t,e,i){Gi(t,i,e)}));var id=Math.max,nd=Math.min;var od=vr((function(t,e,i){return t+(i?" ":"")+e.toLowerCase()})),rd=Go("toLowerCase");function sd(t,e){return t<e}var ad=ul(sd),ld=ul((function(t,e){return t<=e}));function dd(t,e,i){for(var n=-1,o=t.length;++n<o;){var r=t[n],s=e(r);if(null!=s&&(void 0===a?s==s&&!le(s):i(s,a)))var a=s,l=r}return l}function cd(t,e){for(var i,n=-1,o=t.length;++n<o;){var r=e(t[n]);void 0!==r&&(i=void 0===i?r:i+r)}return i}function hd(t,e){var i=null==t?0:t.length;return i?cd(t,e)/i:NaN}var ud=en((function(t,e,i){ha(t,e,i)})),Ad=Ki((function(t,e){return function(i){return Fl(i,t,e)}})),pd=Ki((function(t,e){return function(i){return Fl(t,i,e)}}));function md(t,e,i){var n=Dn(e),o=ll(e,n),r=!(_e(i)&&"chain"in i&&!i.chain),s=De(t);return Ei(o,(function(i){var n=e[i];t[i]=n,s&&(t.prototype[i]=function(){var e=this.__chain__;if(r||e){var i=t(this.__wrapped__),o=i.__actions__=ci(this.__actions__);return o.push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,lo([this.value()],arguments))})})),t}var gd=me((function(t,e){return t*e}),1);function fd(t){if("function"!=typeof t)throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var vd=Xt?Xt.iterator:void 0;function bd(t){if(!t)return[];if(Xi(t))return bl(t)?Ho(t):ci(t);if(vd&&t[vd])return function(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}(t[vd]());var e=Xr(t);return("[object Map]"==e?ys:"[object Set]"==e?_s:_l)(t)}function yd(t,e){var i=t.length;if(i)return Ri(e+=e<0?i:0,i)?t[e]:void 0}function _d(t,e){return null==(t=Nl(t,e=no(e,t)))||delete t[oo(_a(e))]}function wd(t){return wo(t)?void 0:t}var Cd=po((function(t,e){var i={};if(null==t)return i;var n=!1;e=ce(e,(function(e){return e=no(e,t),n||(n=e.length>1),e})),Wi(t,Hr(t),i),n&&(i=ps(i,7,wd));for(var o=e.length;o--;)_d(i,e[o]);return i}));function Id(t,e,i,n){if(!_e(t))return t;for(var o=-1,r=(e=no(e,t)).length,s=r-1,a=t;null!=a&&++o<r;){var l=oo(e[o]),d=i;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(o!=s){var c=a[l];void 0===(d=n?n(c,l,a):void 0)&&(d=_e(c)?c:Ri(e[o+1])?[]:{})}$i(a,l,d),a=a[l]}return t}function Ed(t,e,i){for(var n=-1,o=e.length,r={};++n<o;){var s=e[n],a=ro(t,s);i(a,s)&&Id(r,no(s,t),a)}return r}function xd(t,e){if(null==t)return{};var i=ce(Hr(t),(function(t){return[t]}));return e=js(e),Ed(t,i,(function(t,i){return e(t,i[0])}))}function Bd(t,e){if(t!==e){var i=void 0!==t,n=null===t,o=t==t,r=le(t),s=void 0!==e,a=null===e,l=e==e,d=le(e);if(!a&&!d&&!r&&t>e||r&&s&&l&&!a&&!d||n&&s&&l||!i&&l||!o)return 1;if(!n&&!r&&!d&&t<e||d&&i&&o&&!n&&!r||a&&i&&o||!s&&o||!l)return-1}return 0}function kd(t,e,i){e=e.length?ce(e,(function(t){return he(t)?function(e){return ro(e,1===t.length?t[0]:t)}:t})):[Se];var n=-1;e=ce(e,fn(js));var o=il(t,(function(t,i,o){var r=ce(e,(function(e){return e(t)}));return{criteria:r,index:++n,value:t}}));return function(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}(o,(function(t,e){return function(t,e,i){for(var n=-1,o=t.criteria,r=e.criteria,s=o.length,a=i.length;++n<s;){var l=Bd(o[n],r[n]);if(l)return n>=a?l:l*("desc"==i[n]?-1:1)}return t.index-e.index}(t,e,i)}))}function Sd(t){return po((function(e){return e=ce(e,fn(js)),Ki((function(i){var n=this;return t(e,(function(t){return Je(t,n,i)}))}))}))}var Dd=Sd(ce),Qd=Ki,Md=Math.min,Td=Qd((function(t,e){var i=(e=1==e.length&&he(e[0])?ce(e[0],fn(js)):ce(uo(e,1),fn(js))).length;return Ki((function(n){for(var o=-1,r=Md(n.length,i);++o<r;)n[o]=e[o].call(this,n[o]);return Je(t,this,n)}))})),Od=Sd(Ua),Rd=Sd(fs),Pd=Math.floor;function Nd(t,e){var i="";if(!t||e<1||e>9007199254740991)return i;do{e%2&&(i+=t),(e=Pd(e/2))&&(t+=t)}while(e);return i}var Fd=Fs("length"),Ld="[\\ud800-\\udfff]",jd="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zd="\\ud83c[\\udffb-\\udfff]",Ud="[^\\ud800-\\udfff]",Hd="(?:\\ud83c[\\udde6-\\uddff]){2}",Gd="[\\ud800-\\udbff][\\udc00-\\udfff]",qd="(?:"+jd+"|"+zd+")"+"?",Yd="[\\ufe0e\\ufe0f]?"+qd+("(?:\\u200d(?:"+[Ud,Hd,Gd].join("|")+")[\\ufe0e\\ufe0f]?"+qd+")*"),$d="(?:"+[Ud+jd+"?",jd,Hd,Gd,Ld].join("|")+")",Wd=RegExp(zd+"(?="+zd+")|"+$d+Yd,"g");function Vd(t){return Mo(t)?function(t){for(var e=Wd.lastIndex=0;Wd.test(t);)++e;return e}(t):Fd(t)}var Jd=Math.ceil;function Kd(t,e){var i=(e=void 0===e?" ":pe(e)).length;if(i<2)return i?Nd(e,t):e;var n=Nd(e,Jd(t/Vd(e)));return Mo(e)?Do(Ho(n),0,t).join(""):n.slice(0,t)}var Zd=Math.ceil,Xd=Math.floor;var tc=/^\s+/,ec=Zt.parseInt;var ic=Ki((function(t,e){return Ui(t,32,void 0,e,Fi(e,Ti(ic)))}));ic.placeholder={};var nc=Ki((function(t,e){return Ui(t,64,void 0,e,Fi(e,Ti(nc)))}));nc.placeholder={};var oc=Vs((function(t,e,i){t[i?0:1].push(e)}),(function(){return[[],[]]}));var rc=po((function(t,e){return null==t?{}:function(t,e){return Ed(t,e,(function(e,i){return Ps(t,i)}))}(t,e)}));function sc(t,e,i,n){for(var o=i-1,r=t.length;++o<r;)if(n(t[o],e))return o;return-1}var ac=Array.prototype.splice;function lc(t,e,i,n){var o=n?sc:ki,r=-1,s=e.length,a=t;for(t===e&&(e=ci(e)),i&&(a=ce(t,fn(i)));++r<s;)for(var l=0,d=e[r],c=i?i(d):d;(l=o(a,c,l,n))>-1;)a!==t&&ac.call(a,l,1),ac.call(t,l,1);return t}function dc(t,e){return t&&t.length&&e&&e.length?lc(t,e):t}var cc=Ki(dc);var hc=Array.prototype.splice;function uc(t,e){for(var i=t?e.length:0,n=i-1;i--;){var o=e[i];if(i==n||o!==r){var r=o;Ri(o)?hc.call(t,o,1):_d(t,o)}}return t}var Ac=po((function(t,e){var i=null==t?0:t.length,n=ao(t,e);return uc(t,ce(e,(function(t){return Ri(t,i)?+t:t})).sort(Bd)),n})),pc=Math.floor,mc=Math.random;function gc(t,e){return t+pc(mc()*(e-t+1))}var fc=parseFloat,vc=Math.min,bc=Math.random;var yc=Math.ceil,_c=Math.max;function wc(t){return function(e,i,n){return n&&"number"!=typeof n&&tn(e,i,n)&&(i=n=void 0),e=Be(e),void 0===i?(i=e,e=0):i=Be(i),function(t,e,i,n){for(var o=-1,r=_c(yc((e-t)/(i||1)),0),s=Array(r);r--;)s[n?r:++o]=t,t+=i;return s}(e,i,n=void 0===n?e<i?1:-1:Be(n),t)}}var Cc=wc(),Ic=wc(!0),Ec=po((function(t,e){return Ui(t,256,void 0,void 0,void 0,e)}));function xc(t,e,i,n,o){return o(t,(function(t,o,r){i=n?(n=!1,t):e(i,t,o,r)})),i}function Bc(t,e,i,n){var o=null==t?0:t.length;for(n&&o&&(i=t[--o]);o--;)i=e(i,t[o],o,t);return i}var kc=Array.prototype.reverse;function Sc(t){return null==t?t:kc.call(t)}var Dc=wr("round");function Qc(t){var e=t.length;return e?t[gc(0,e-1)]:void 0}function Mc(t){return Qc(_l(t))}function Tc(t,e){var i=-1,n=t.length,o=n-1;for(e=void 0===e?n:e;++i<e;){var r=gc(i,o),s=t[r];t[r]=t[i],t[i]=s}return t.length=e,t}function Oc(t,e){return Tc(ci(t),Br(e,0,t.length))}function Rc(t,e){var i=_l(t);return Tc(i,Br(e,0,i.length))}function Pc(t,e,i){return null==t?t:Id(t,e,i)}function Nc(t){return Tc(ci(t))}function Fc(t){return Tc(_l(t))}var Lc=vr((function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}));function jc(t,e){var i;return $s(t,(function(t,n,o){return!(i=e(t,n,o))})),!!i}var zc=Ki((function(t,e){if(null==t)return[];var i=e.length;return i>1&&tn(t,e[0],e[1])?e=[]:i>2&&tn(e[0],e[1],e[2])&&(e=[e[0]]),kd(t,uo(e,1),[])})),Uc=Math.floor,Hc=Math.min;function Gc(t,e,i,n){var o=0,r=null==t?0:t.length;if(0===r)return 0;for(var s=(e=i(e))!=e,a=null===e,l=le(e),d=void 0===e;o<r;){var c=Uc((o+r)/2),h=i(t[c]),u=void 0!==h,A=null===h,p=h==h,m=le(h);if(s)var g=n||p;else g=d?p&&(n||u):a?p&&u&&(n||!A):l?p&&u&&!A&&(n||!m):!A&&!m&&(n?h<=e:h<e);g?o=c+1:r=c}return Hc(r,4294967294)}function qc(t,e,i){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e==e&&o<=2147483647){for(;n<o;){var r=n+o>>>1,s=t[r];null!==s&&!le(s)&&(i?s<=e:s<e)?n=r+1:o=r}return o}return Gc(t,e,Se,i)}function Yc(t,e){for(var i=-1,n=t.length,o=0,r=[];++i<n;){var s=t[i],a=e?e(s):s;if(!i||!qi(a,l)){var l=a;r[o++]=0===s?0:s}}return r}var $c=Math.max;var Wc=vr((function(t,e,i){return t+(i?" ":"")+qo(e)}));var Vc=me((function(t,e){return t-e}),0);var Jc=Object.prototype,Kc=Jc.hasOwnProperty;function Zc(t,e,i,n){return void 0===t||qi(t,Jc[i])&&!Kc.call(n,i)?e:t}var Xc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function th(t){return"\\"+Xc[t]}var eh=/<%=([\s\S]+?)%>/g,ih={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:eh,variable:"",imports:{_:{escape:La}}},nh=/\b__p \+= '';/g,oh=/\b(__p \+=) '' \+/g,rh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sh=/[()=,{}\[\]\/\s]/,ah=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,lh=/($^)/,dh=/['\n\r\u2028\u2029\\]/g,ch=Object.prototype.hasOwnProperty;function hh(t,e,i){var n=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return _e(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),na(t,e,{leading:n,maxWait:e,trailing:o})}function uh(t,e){return e(t)}var Ah=Math.min;function ph(t,e){var i=t;return i instanceof ni&&(i=i.value()),$o(e,(function(t,e){return e.func.apply(e.thisArg,lo([t],e.args))}),i)}function mh(){return ph(this.__wrapped__,this.__actions__)}function gh(t,e){for(var i=t.length;i--&&ki(e,t[i],0)>-1;);return i}function fh(t,e){for(var i=-1,n=t.length;++i<n&&ki(e,t[i],0)>-1;);return i}var vh=/^\s+/;var bh=/\w*$/;var yh=Wo({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),_h=/&(?:amp|lt|gt|quot|#39);/g,wh=RegExp(_h.source);var Ch=Yr&&1/_s(new Yr([,-0]))[1]==1/0?function(t){return new Yr(t)}:oi;function Ih(t,e,i){var n=-1,o=Si,r=t.length,s=!0,a=[],l=a;if(i)s=!1,o=va;else if(r>=200){var d=e?null:Ch(t);if(d)return _s(d);s=!1,o=vs,l=new gs}else l=e?[]:a;t:for(;++n<r;){var c=t[n],h=e?e(c):c;if(c=i||0!==c?c:0,s&&h==h){for(var u=l.length;u--;)if(l[u]===h)continue t;e&&l.push(h),a.push(c)}else o(l,h,i)||(l!==a&&l.push(h),a.push(c))}return a}var Eh=Ki((function(t){return Ih(uo(t,1,la,!0))})),xh=Ki((function(t){var e=_a(t);return la(e)&&(e=void 0),Ih(uo(t,1,la,!0),js(e))})),Bh=Ki((function(t){var e=_a(t);return e="function"==typeof e?e:void 0,Ih(uo(t,1,la,!0),void 0,e)}));var kh=0;var Sh=Math.max;function Dh(t){if(!t||!t.length)return[];var e=0;return t=Rr(t,(function(t){if(la(t))return e=Sh(t.length,e),!0})),rn(e,(function(e){return ce(t,Fs(e))}))}function Qh(t,e){if(!t||!t.length)return[];var i=Dh(t);return null==e?i:ce(i,(function(t){return Je(e,void 0,t)}))}function Mh(t,e,i,n){return Id(t,e,i(ro(t,e)),n)}var Th=vr((function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}));var Oh=Ki((function(t,e){return la(t)?ba(t,e):[]}));var Rh=po((function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,o=function(e){return ao(e,t)};return!(e>1||this.__actions__.length)&&n instanceof ni&&Ri(i)?((n=n.slice(i,+i+(e?1:0))).__actions__.push({func:uh,args:[o],thisArg:void 0}),new di(n,this.__chain__).thru((function(t){return e&&!t.length&&t.push(void 0),t}))):this.thru(o)}));function Ph(t,e,i){var n=t.length;if(n<2)return n?Ih(t[0]):[];for(var o=-1,r=Array(n);++o<n;)for(var s=t[o],a=-1;++a<n;)a!=o&&(r[o]=ba(r[o]||s,t[a],e,i));return Ih(uo(r,1),e,i)}var Nh=Ki((function(t){return Ph(Rr(t,la))})),Fh=Ki((function(t){var e=_a(t);return la(e)&&(e=void 0),Ph(Rr(t,la),js(e))})),Lh=Ki((function(t){var e=_a(t);return e="function"==typeof e?e:void 0,Ph(Rr(t,la),void 0,e)})),jh=Ki(Dh);function zh(t,e,i){for(var n=-1,o=t.length,r=e.length,s={};++n<o;){var a=n<r?e[n]:void 0;i(s,t[n],a)}return s}var Uh=Ki((function(t){var e=t.length,i=e>1?t[e-1]:void 0;return i="function"==typeof i?(t.pop(),i):void 0,Qh(t,i)})),Hh={chunk:function(t,e,i){e=(i?tn(t,e,i):void 0===e)?1:xr(ke(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,r=0,s=Array(Er(n/e));o<n;)s[r++]=So(t,o,o+=e);return s},compact:function(t){for(var e=-1,i=null==t?0:t.length,n=0,o=[];++e<i;){var r=t[e];r&&(o[n++]=r)}return o},concat:function(){var t=arguments.length;if(!t)return[];for(var e=Array(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return lo(he(i)?ci(i):[i],uo(e,1))},difference:ya,differenceBy:wa,differenceWith:Ca,drop:function(t,e,i){var n=null==t?0:t.length;return n?So(t,(e=i||void 0===e?1:ke(e))<0?0:e,n):[]},dropRight:function(t,e,i){var n=null==t?0:t.length;return n?So(t,0,(e=n-(e=i||void 0===e?1:ke(e)))<0?0:e):[]},dropRightWhile:function(t,e){return t&&t.length?Ea(t,js(e),!0,!0):[]},dropWhile:function(t,e){return t&&t.length?Ea(t,js(e),!0):[]},fill:function(t,e,i,n){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&tn(t,e,i)&&(i=0,n=o),function(t,e,i,n){var o=t.length;for((i=ke(i))<0&&(i=-i>o?0:o+i),(n=void 0===n||n>o?o:ke(n))<0&&(n+=o),n=i>n?0:Ga(n);i<n;)t[i++]=e;return t}(t,e,i,n)):[]},findIndex:Wa,findLastIndex:Xa,first:el,flatten:Ao,flattenDeep:function(t){return(null==t?0:t.length)?uo(t,Infinity):[]},flattenDepth:function(t,e){return(null==t?0:t.length)?uo(t,e=void 0===e?1:ke(e)):[]},fromPairs:function(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var o=t[e];n[o[0]]=o[1]}return n},head:el,indexOf:function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:ke(i);return o<0&&(o=Cl(n+o,0)),ki(t,e,o)},initial:function(t){return(null==t?0:t.length)?So(t,0,-1):[]},intersection:Bl,intersectionBy:kl,intersectionWith:Sl,join:function(t,e){return null==t?"":Xl.call(t,e)},last:_a,lastIndexOf:function(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n;return void 0!==i&&(o=(o=ke(i))<0?id(n+o,0):nd(o,n-1)),e==e?function(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}(t,e,o):xi(t,Bi,o,!0)},nth:function(t,e){return t&&t.length?yd(t,ke(e)):void 0},pull:cc,pullAll:dc,pullAllBy:function(t,e,i){return t&&t.length&&e&&e.length?lc(t,e,js(i)):t},pullAllWith:function(t,e,i){return t&&t.length&&e&&e.length?lc(t,e,void 0,i):t},pullAt:Ac,remove:function(t,e){var i=[];if(!t||!t.length)return i;var n=-1,o=[],r=t.length;for(e=js(e);++n<r;){var s=t[n];e(s,n,t)&&(i.push(s),o.push(n))}return uc(t,o),i},reverse:Sc,slice:function(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&tn(t,e,i)?(e=0,i=n):(e=null==e?0:ke(e),i=void 0===i?n:ke(i)),So(t,e,i)):[]},sortedIndex:function(t,e){return qc(t,e)},sortedIndexBy:function(t,e,i){return Gc(t,e,js(i))},sortedIndexOf:function(t,e){var i=null==t?0:t.length;if(i){var n=qc(t,e);if(n<i&&qi(t[n],e))return n}return-1},sortedLastIndex:function(t,e){return qc(t,e,!0)},sortedLastIndexBy:function(t,e,i){return Gc(t,e,js(i),!0)},sortedLastIndexOf:function(t,e){if(null==t?0:t.length){var i=qc(t,e,!0)-1;if(qi(t[i],e))return i}return-1},sortedUniq:function(t){return t&&t.length?Yc(t):[]},sortedUniqBy:function(t,e){return t&&t.length?Yc(t,js(e)):[]},tail:function(t){var e=null==t?0:t.length;return e?So(t,1,e):[]},take:function(t,e,i){return t&&t.length?So(t,0,(e=i||void 0===e?1:ke(e))<0?0:e):[]},takeRight:function(t,e,i){var n=null==t?0:t.length;return n?So(t,(e=n-(e=i||void 0===e?1:ke(e)))<0?0:e,n):[]},takeRightWhile:function(t,e){return t&&t.length?Ea(t,js(e),!1,!0):[]},takeWhile:function(t,e){return t&&t.length?Ea(t,js(e)):[]},union:Eh,unionBy:xh,unionWith:Bh,uniq:function(t){return t&&t.length?Ih(t):[]},uniqBy:function(t,e){return t&&t.length?Ih(t,js(e)):[]},uniqWith:function(t,e){return e="function"==typeof e?e:void 0,t&&t.length?Ih(t,void 0,e):[]},unzip:Dh,unzipWith:Qh,without:Oh,xor:Nh,xorBy:Fh,xorWith:Lh,zip:jh,zipObject:function(t,e){return zh(t||[],e||[],$i)},zipObjectDeep:function(t,e){return zh(t||[],e||[],Id)},zipWith:Uh},Gh={countBy:Ks,each:Ba,eachRight:Ma,every:function(t,e,i){var n=he(t)?Ua:Ha;return i&&tn(t,e,i)&&(e=void 0),n(t,js(e))},filter:function(t,e){return(he(t)?Rr:qa)(t,js(e))},find:Va,findLast:tl,flatMap:function(t,e){return uo(nl(t,e),1)},flatMapDeep:function(t,e){return uo(nl(t,e),Infinity)},flatMapDepth:function(t,e,i){return i=void 0===i?1:ke(i),uo(nl(t,e),i)},forEach:Ba,forEachRight:Ma,groupBy:cl,includes:function(t,e,i,n){t=Xi(t)?t:_l(t),i=i&&!n?ke(i):0;var o=t.length;return i<0&&(i=wl(o+i,0)),bl(t)?i<=o&&t.indexOf(e,i)>-1:!!o&&ki(t,e,i)>-1},invokeMap:jl,keyBy:ed,map:nl,orderBy:function(t,e,i,n){return null==t?[]:(he(e)||(e=null==e?[]:[e]),he(i=n?void 0:i)||(i=null==i?[]:[i]),kd(t,e,i))},partition:oc,reduce:function(t,e,i){var n=he(t)?$o:xc,o=arguments.length<3;return n(t,js(e),i,o,$s)},reduceRight:function(t,e,i){var n=he(t)?Bc:xc,o=arguments.length<3;return n(t,js(e),i,o,Qa)},reject:function(t,e){return(he(t)?Rr:qa)(t,fd(js(e)))},sample:function(t){return(he(t)?Qc:Mc)(t)},sampleSize:function(t,e,i){return e=(i?tn(t,e,i):void 0===e)?1:ke(e),(he(t)?Oc:Rc)(t,e)},shuffle:function(t){return(he(t)?Nc:Fc)(t)},size:function(t){if(null==t)return 0;if(Xi(t))return bl(t)?Vd(t):t.length;var e=Xr(t);return"[object Map]"==e||"[object Set]"==e?t.size:Sn(t).length},some:function(t,e,i){var n=he(t)?fs:jc;return i&&tn(t,e,i)&&(e=void 0),n(t,js(e))},sortBy:zc},qh=ta,Yh={after:function(t,e){if("function"!=typeof e)throw new TypeError("Expected a function");return t=ke(t),function(){if(--t<1)return e.apply(this,arguments)}},ary:Hi,before:Eo,bind:xo,bindKey:ko,curry:Zs,curryRight:Xs,debounce:na,defer:ga,delay:fa,flip:function(t){return Ui(t,512)},memoize:Zn,negate:fd,once:function(t){return Eo(2,t)},overArgs:Td,partial:ic,partialRight:nc,rearg:Ec,rest:function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return Ki(t,e=void 0===e?e:ke(e))},spread:function(t,e){if("function"!=typeof t)throw new TypeError("Expected a function");return e=null==e?0:$c(ke(e),0),Ki((function(i){var n=i[e],o=Do(i,0,e);return n&&lo(o,n),Je(t,this,o)}))},throttle:hh,unary:function(t){return Hi(t,1)},wrap:function(t,e){return ic(xa(e),t)}},$h={castArray:function(){if(!arguments.length)return[];var t=arguments[0];return he(t)?t:[t]},clone:function(t){return ps(t,4)},cloneDeep:ms,cloneDeepWith:function(t,e){return ps(t,5,e="function"==typeof e?e:void 0)},cloneWith:function(t,e){return ps(t,4,e="function"==typeof e?e:void 0)},conformsTo:function(t,e){return null==e||zs(t,e,Dn(e))},eq:qi,gt:Al,gte:pl,isArguments:cn,isArray:he,isArrayBuffer:Ul,isArrayLike:Xi,isArrayLikeObject:la,isBoolean:function(t){return!0===t||!1===t||ae(t)&&"[object Boolean]"==se(t)},isBuffer:mn,isDate:Gl,isElement:function(t){return ae(t)&&1===t.nodeType&&!wo(t)},isEmpty:function(t){if(null==t)return!0;if(Xi(t)&&(he(t)||"string"==typeof t||"function"==typeof t.splice||mn(t)||Cn(t)||cn(t)))return!t.length;var e=Xr(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(on(t))return!Sn(t).length;for(var i in t)if(ql.call(t,i))return!1;return!0},isEqual:Yl,isEqualWith:function(t,e,i){var n=(i="function"==typeof i?i:void 0)?i(t,e):void 0;return void 0===n?ks(t,e,void 0,i):!!n},isError:Co,isFinite:function(t){return"number"==typeof t&&$l(t)},isFunction:De,isInteger:Wl,isLength:Zi,isMap:cs,isMatch:function(t,e){return t===e||Ss(t,e,Qs(e))},isMatchWith:function(t,e,i){return i="function"==typeof i?i:void 0,Ss(t,e,Qs(e),i)},isNaN:function(t){return Vl(t)&&t!=+t},isNative:function(t){if(Jl(t))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ue(t)},isNil:function(t){return null==t},isNull:function(t){return null===t},isNumber:Vl,isObject:_e,isObjectLike:ae,isPlainObject:wo,isRegExp:Zl,isSafeInteger:function(t){return Wl(t)&&t>=-9007199254740991&&t<=9007199254740991},isSet:us,isString:bl,isSymbol:le,isTypedArray:Cn,isUndefined:function(t){return void 0===t},isWeakMap:function(t){return ae(t)&&"[object WeakMap]"==Xr(t)},isWeakSet:function(t){return ae(t)&&"[object WeakSet]"==se(t)},lt:ad,lte:ld,toArray:bd,toFinite:Be,toInteger:ke,toLength:Ga,toNumber:xe,toPlainObject:ca,toSafeInteger:function(t){return t?Br(ke(t),-9007199254740991,9007199254740991):0===t?t:0},toString:io},Wh={add:ge,ceil:Cr,divide:Ia,floor:ol,max:function(t){return t&&t.length?dd(t,Se,hl):void 0},maxBy:function(t,e){return t&&t.length?dd(t,js(e),hl):void 0},mean:function(t){return hd(t,Se)},meanBy:function(t,e){return hd(t,js(e))},min:function(t){return t&&t.length?dd(t,Se,sd):void 0},minBy:function(t,e){return t&&t.length?dd(t,js(e),sd):void 0},multiply:gd,round:Dc,subtract:Vc,sum:function(t){return t&&t.length?cd(t,Se):0},sumBy:function(t,e){return t&&t.length?cd(t,js(e)):0}},Vh=function(t,e,i){return void 0===i&&(i=e,e=void 0),void 0!==i&&(i=(i=xe(i))==i?i:0),void 0!==e&&(e=(e=xe(e))==e?e:0),Br(xe(t),e,i)},Jh=function(t,e,i){return e=Be(e),void 0===i?(i=e,e=0):i=Be(i),function(t,e,i){return t>=vl(e,i)&&t<fl(e,i)}(t=xe(t),e,i)},Kh=function(t,e,i){if(i&&"boolean"!=typeof i&&tn(t,e,i)&&(e=i=void 0),void 0===i&&("boolean"==typeof e?(i=e,e=void 0):"boolean"==typeof t&&(i=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=Be(t),void 0===e?(e=t,t=0):e=Be(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var o=bc();return vc(t+o*(e-t+fc("1e-"+((o+"").length-1))),e)}return gc(t,e)},Zh={assign:Mn,assignIn:Pn,assignInWith:Nn,assignWith:Fn,at:mo,create:function(t,e){var i=We(t);return null==e?i:Sr(i,e)},defaults:sa,defaultsDeep:pa,entries:Oa,entriesIn:Ra,extend:Pn,extendWith:Nn,findKey:function(t,e){return Ja(t,js(e),qs)},findLastKey:function(t,e){return Ja(t,js(e),Da)},forIn:function(t,e){return null==t?t:Gs(t,xa(e),Rn)},forInRight:function(t,e){return null==t?t:Sa(t,xa(e),Rn)},forOwn:function(t,e){return t&&qs(t,xa(e))},forOwnRight:function(t,e){return t&&Da(t,xa(e))},functions:function(t){return null==t?[]:ll(t,Dn(t))},functionsIn:function(t){return null==t?[]:ll(t,Rn(t))},get:so,has:function(t,e){return null!=t&&Rs(t,e,gl)},hasIn:Ps,invert:Ml,invertBy:Pl,invoke:Ll,keys:Dn,keysIn:Rn,mapKeys:function(t,e){var i={};return e=js(e),qs(t,(function(t,n,o){Gi(i,e(t,n,o),t)})),i},mapValues:function(t,e){var i={};return e=js(e),qs(t,(function(t,n,o){Gi(i,n,e(t,n,o))})),i},merge:ud,mergeWith:Aa,omit:Cd,omitBy:function(t,e){return xd(t,fd(js(e)))},pick:rc,pickBy:xd,result:function(t,e,i){var n=-1,o=(e=no(e,t)).length;for(o||(o=1,t=void 0);++n<o;){var r=null==t?void 0:t[oo(e[n])];void 0===r&&(n=o,r=i),t=De(r)?r.call(t):r}return t},set:Pc,setWith:function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:Id(t,e,i,n)},toPairs:Oa,toPairsIn:Ra,transform:function(t,e,i){var n=he(t),o=n||mn(t)||Cn(t);if(e=js(e),null==i){var r=t&&t.constructor;i=o?n?new r:[]:_e(t)&&De(r)?We(go(t)):{}}return(o?Ei:qs)(t,(function(t,n,o){return e(i,t,n,o)})),i},unset:function(t,e){return null==t||_d(t,e)},update:function(t,e,i){return null==t?t:Mh(t,e,xa(i))},updateWith:function(t,e,i,n){return n="function"==typeof n?n:void 0,null==t?t:Mh(t,e,xa(i),n)},values:_l,valuesIn:function(t){return null==t?[]:yl(t,Rn(t))}},Xh={at:Rh,chain:Ir,commit:function(){return new di(this.value(),this.__chain__)},lodash:Ai,next:function(){void 0===this.__values__&&(this.__values__=bd(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?void 0:this.__values__[this.__index__++]}},plant:function(t){for(var e,i=this;i instanceof ii;){var n=hi(i);n.__index__=0,n.__values__=void 0,e?o.__wrapped__=n:e=n;var o=n;i=i.__wrapped__}return o.__wrapped__=t,e},reverse:function(){var t=this.__wrapped__;if(t instanceof ni){var e=t;return this.__actions__.length&&(e=new ni(this)),(e=e.reverse()).__actions__.push({func:uh,args:[Sc],thisArg:void 0}),new di(e,this.__chain__)}return this.thru(Sc)},tap:function(t,e){return e(t),t},thru:uh,toIterator:function(){return this},toJSON:mh,value:mh,valueOf:mh,wrapperChain:function(){return Ir(this)}},tu={camelCase:br,capitalize:Yo,deburr:Zo,endsWith:function(t,e,i){t=io(t),e=pe(e);var n=t.length,o=i=void 0===i?n:Br(ke(i),0,n);return(i-=e.length)>=0&&t.slice(i,o)==e},escape:La,escapeRegExp:function(t){return(t=io(t))&&za.test(t)?t.replace(ja,"\\$&"):t},kebabCase:td,lowerCase:od,lowerFirst:rd,pad:function(t,e,i){t=io(t);var n=(e=ke(e))?Vd(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return Kd(Xd(o),i)+t+Kd(Zd(o),i)},padEnd:function(t,e,i){t=io(t);var n=(e=ke(e))?Vd(t):0;return e&&n<e?t+Kd(e-n,i):t},padStart:function(t,e,i){t=io(t);var n=(e=ke(e))?Vd(t):0;return e&&n<e?Kd(e-n,i)+t:t},parseInt:function(t,e,i){return i||null==e?e=0:e&&(e=+e),ec(io(t).replace(tc,""),e||0)},repeat:function(t,e,i){return e=(i?tn(t,e,i):void 0===e)?1:ke(e),Nd(io(t),e)},replace:function(){var t=arguments,e=io(t[0]);return t.length<3?e:e.replace(t[1],t[2])},snakeCase:Lc,split:function(t,e,i){return i&&"number"!=typeof i&&tn(t,e,i)&&(e=i=void 0),(i=void 0===i?4294967295:i>>>0)?(t=io(t))&&("string"==typeof e||null!=e&&!Zl(e))&&!(e=pe(e))&&Mo(t)?Do(Ho(t),0,i):t.split(e,i):[]},startCase:Wc,startsWith:function(t,e,i){return t=io(t),i=null==i?0:Br(ke(i),0,t.length),e=pe(e),t.slice(i,i+e.length)==e},template:function(t,e,i){var n=ih.imports._.templateSettings||ih;i&&tn(t,e,i)&&(e=void 0),t=io(t),e=Nn({},e,n,Zc);var o,r,s=Nn({},e.imports,n.imports,Zc),a=Dn(s),l=yl(s,a),d=0,c=e.interpolate||lh,h="__p += '",u=RegExp((e.escape||lh).source+"|"+c.source+"|"+(c===eh?ah:lh).source+"|"+(e.evaluate||lh).source+"|$","g"),A=ch.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+"\n":"";t.replace(u,(function(e,i,n,s,a,l){return n||(n=s),h+=t.slice(d,l).replace(dh,th),i&&(o=!0,h+="' +\n__e("+i+") +\n'"),a&&(r=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),d=l+e.length,e})),h+="';\n";var p=ch.call(e,"variable")&&e.variable;if(p){if(sh.test(p))throw new Error("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(r?h.replace(nh,""):h).replace(oh,"$1").replace(rh,"$1;"),h="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Io((function(){return Function(a,A+"return "+h).apply(void 0,l)}));if(m.source=h,Co(m))throw m;return m},templateSettings:ih,toLower:function(t){return io(t).toLowerCase()},toUpper:function(t){return io(t).toUpperCase()},trim:function(t,e,i){if((t=io(t))&&(i||void 0===e))return ye(t);if(!t||!(e=pe(e)))return t;var n=Ho(t),o=Ho(e);return Do(n,fh(n,o),gh(n,o)+1).join("")},trimEnd:function(t,e,i){if((t=io(t))&&(i||void 0===e))return t.slice(0,ve(t)+1);if(!t||!(e=pe(e)))return t;var n=Ho(t);return Do(n,0,gh(n,Ho(e))+1).join("")},trimStart:function(t,e,i){if((t=io(t))&&(i||void 0===e))return t.replace(vh,"");if(!t||!(e=pe(e)))return t;var n=Ho(t);return Do(n,fh(n,Ho(e))).join("")},truncate:function(t,e){var i=30,n="...";if(_e(e)){var o="separator"in e?e.separator:o;i="length"in e?ke(e.length):i,n="omission"in e?pe(e.omission):n}var r=(t=io(t)).length;if(Mo(t)){var s=Ho(t);r=s.length}if(i>=r)return t;var a=i-Vd(n);if(a<1)return n;var l=s?Do(s,0,a).join(""):t.slice(0,a);if(void 0===o)return l+n;if(s&&(a+=l.length-a),Zl(o)){if(t.slice(a).search(o)){var d,c=l;for(o.global||(o=RegExp(o.source,io(bh.exec(o))+"g")),o.lastIndex=0;d=o.exec(c);)var h=d.index;l=l.slice(0,void 0===h?a:h)}}else if(t.indexOf(pe(o),a)!=a){var u=l.lastIndexOf(o);u>-1&&(l=l.slice(0,u))}return l+n},unescape:function(t){return(t=io(t))&&wh.test(t)?t.replace(_h,yh):t},upperCase:Th,upperFirst:qo,words:gr},eu={attempt:Io,bindAll:Bo,cond:function(t){var e=null==t?0:t.length,i=js;return t=e?ce(t,(function(t){if("function"!=typeof t[1])throw new TypeError("Expected a function");return[i(t[0]),t[1]]})):[],Ki((function(i){for(var n=-1;++n<e;){var o=t[n];if(Je(o[0],this,i))return Je(o[1],this,i)}}))},conforms:function(t){return function(t){var e=Dn(t);return function(i){return zs(i,t,e)}}(ps(t,1))},constant:_i,defaultTo:function(t,e){return null==t||t!=t?e:t},flow:sl,flowRight:al,identity:Se,iteratee:function(t){return js("function"==typeof t?t:ps(t,1))},matches:function(t){return Ts(ps(t,1))},matchesProperty:function(t,e){return Ns(t,ps(e,1))},method:Ad,methodOf:pd,mixin:md,noop:oi,nthArg:function(t){return t=ke(t),Ki((function(e){return yd(e,t)}))},over:Dd,overEvery:Od,overSome:Rd,property:Ls,propertyOf:function(t){return function(e){return null==t?void 0:ro(t,e)}},range:Cc,rangeRight:Ic,stubArray:Pr,stubFalse:hn,stubObject:function(){return{}},stubString:function(){return""},stubTrue:function(){return!0},times:function(t,e){if((t=ke(t))<1||t>9007199254740991)return[];var i=4294967295,n=Ah(t,4294967295);t-=4294967295;for(var o=rn(n,e=xa(e));++i<t;)e(i);return o},toPath:function(t){return he(t)?ce(t,oo):le(t)?[t]:ci(eo(io(t)))},uniqueId:function(t){var e=++kh;return io(t)+e}};var iu=Math.max,nu=Math.min;var ou=Math.min;
/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
var ru,su=Array.prototype,au=Object.prototype.hasOwnProperty,lu=Xt?Xt.iterator:void 0,du=Math.max,cu=Math.min,hu=function(t){return function(e,i,n){if(null==n){var o=_e(i),r=o&&Dn(i),s=r&&r.length&&ll(i,r);(s?s.length:o)||(n=i,i=e,e=this)}return t(e,i,n)}}(md);Ai.after=Yh.after,Ai.ary=Yh.ary,Ai.assign=Zh.assign,Ai.assignIn=Zh.assignIn,Ai.assignInWith=Zh.assignInWith,Ai.assignWith=Zh.assignWith,Ai.at=Zh.at,Ai.before=Yh.before,Ai.bind=Yh.bind,Ai.bindAll=eu.bindAll,Ai.bindKey=Yh.bindKey,Ai.castArray=$h.castArray,Ai.chain=Xh.chain,Ai.chunk=Hh.chunk,Ai.compact=Hh.compact,Ai.concat=Hh.concat,Ai.cond=eu.cond,Ai.conforms=eu.conforms,Ai.constant=eu.constant,Ai.countBy=Gh.countBy,Ai.create=Zh.create,Ai.curry=Yh.curry,Ai.curryRight=Yh.curryRight,Ai.debounce=Yh.debounce,Ai.defaults=Zh.defaults,Ai.defaultsDeep=Zh.defaultsDeep,Ai.defer=Yh.defer,Ai.delay=Yh.delay,Ai.difference=Hh.difference,Ai.differenceBy=Hh.differenceBy,Ai.differenceWith=Hh.differenceWith,Ai.drop=Hh.drop,Ai.dropRight=Hh.dropRight,Ai.dropRightWhile=Hh.dropRightWhile,Ai.dropWhile=Hh.dropWhile,Ai.fill=Hh.fill,Ai.filter=Gh.filter,Ai.flatMap=Gh.flatMap,Ai.flatMapDeep=Gh.flatMapDeep,Ai.flatMapDepth=Gh.flatMapDepth,Ai.flatten=Hh.flatten,Ai.flattenDeep=Hh.flattenDeep,Ai.flattenDepth=Hh.flattenDepth,Ai.flip=Yh.flip,Ai.flow=eu.flow,Ai.flowRight=eu.flowRight,Ai.fromPairs=Hh.fromPairs,Ai.functions=Zh.functions,Ai.functionsIn=Zh.functionsIn,Ai.groupBy=Gh.groupBy,Ai.initial=Hh.initial,Ai.intersection=Hh.intersection,Ai.intersectionBy=Hh.intersectionBy,Ai.intersectionWith=Hh.intersectionWith,Ai.invert=Zh.invert,Ai.invertBy=Zh.invertBy,Ai.invokeMap=Gh.invokeMap,Ai.iteratee=eu.iteratee,Ai.keyBy=Gh.keyBy,Ai.keys=Dn,Ai.keysIn=Zh.keysIn,Ai.map=Gh.map,Ai.mapKeys=Zh.mapKeys,Ai.mapValues=Zh.mapValues,Ai.matches=eu.matches,Ai.matchesProperty=eu.matchesProperty,Ai.memoize=Yh.memoize,Ai.merge=Zh.merge,Ai.mergeWith=Zh.mergeWith,Ai.method=eu.method,Ai.methodOf=eu.methodOf,Ai.mixin=hu,Ai.negate=fd,Ai.nthArg=eu.nthArg,Ai.omit=Zh.omit,Ai.omitBy=Zh.omitBy,Ai.once=Yh.once,Ai.orderBy=Gh.orderBy,Ai.over=eu.over,Ai.overArgs=Yh.overArgs,Ai.overEvery=eu.overEvery,Ai.overSome=eu.overSome,Ai.partial=Yh.partial,Ai.partialRight=Yh.partialRight,Ai.partition=Gh.partition,Ai.pick=Zh.pick,Ai.pickBy=Zh.pickBy,Ai.property=eu.property,Ai.propertyOf=eu.propertyOf,Ai.pull=Hh.pull,Ai.pullAll=Hh.pullAll,Ai.pullAllBy=Hh.pullAllBy,Ai.pullAllWith=Hh.pullAllWith,Ai.pullAt=Hh.pullAt,Ai.range=eu.range,Ai.rangeRight=eu.rangeRight,Ai.rearg=Yh.rearg,Ai.reject=Gh.reject,Ai.remove=Hh.remove,Ai.rest=Yh.rest,Ai.reverse=Hh.reverse,Ai.sampleSize=Gh.sampleSize,Ai.set=Zh.set,Ai.setWith=Zh.setWith,Ai.shuffle=Gh.shuffle,Ai.slice=Hh.slice,Ai.sortBy=Gh.sortBy,Ai.sortedUniq=Hh.sortedUniq,Ai.sortedUniqBy=Hh.sortedUniqBy,Ai.split=tu.split,Ai.spread=Yh.spread,Ai.tail=Hh.tail,Ai.take=Hh.take,Ai.takeRight=Hh.takeRight,Ai.takeRightWhile=Hh.takeRightWhile,Ai.takeWhile=Hh.takeWhile,Ai.tap=Xh.tap,Ai.throttle=Yh.throttle,Ai.thru=uh,Ai.toArray=$h.toArray,Ai.toPairs=Zh.toPairs,Ai.toPairsIn=Zh.toPairsIn,Ai.toPath=eu.toPath,Ai.toPlainObject=$h.toPlainObject,Ai.transform=Zh.transform,Ai.unary=Yh.unary,Ai.union=Hh.union,Ai.unionBy=Hh.unionBy,Ai.unionWith=Hh.unionWith,Ai.uniq=Hh.uniq,Ai.uniqBy=Hh.uniqBy,Ai.uniqWith=Hh.uniqWith,Ai.unset=Zh.unset,Ai.unzip=Hh.unzip,Ai.unzipWith=Hh.unzipWith,Ai.update=Zh.update,Ai.updateWith=Zh.updateWith,Ai.values=Zh.values,Ai.valuesIn=Zh.valuesIn,Ai.without=Hh.without,Ai.words=tu.words,Ai.wrap=Yh.wrap,Ai.xor=Hh.xor,Ai.xorBy=Hh.xorBy,Ai.xorWith=Hh.xorWith,Ai.zip=Hh.zip,Ai.zipObject=Hh.zipObject,Ai.zipObjectDeep=Hh.zipObjectDeep,Ai.zipWith=Hh.zipWith,Ai.entries=Zh.toPairs,Ai.entriesIn=Zh.toPairsIn,Ai.extend=Zh.assignIn,Ai.extendWith=Zh.assignInWith,hu(Ai,Ai),Ai.add=Wh.add,Ai.attempt=eu.attempt,Ai.camelCase=tu.camelCase,Ai.capitalize=tu.capitalize,Ai.ceil=Wh.ceil,Ai.clamp=Vh,Ai.clone=$h.clone,Ai.cloneDeep=$h.cloneDeep,Ai.cloneDeepWith=$h.cloneDeepWith,Ai.cloneWith=$h.cloneWith,Ai.conformsTo=$h.conformsTo,Ai.deburr=tu.deburr,Ai.defaultTo=eu.defaultTo,Ai.divide=Wh.divide,Ai.endsWith=tu.endsWith,Ai.eq=$h.eq,Ai.escape=tu.escape,Ai.escapeRegExp=tu.escapeRegExp,Ai.every=Gh.every,Ai.find=Gh.find,Ai.findIndex=Hh.findIndex,Ai.findKey=Zh.findKey,Ai.findLast=Gh.findLast,Ai.findLastIndex=Hh.findLastIndex,Ai.findLastKey=Zh.findLastKey,Ai.floor=Wh.floor,Ai.forEach=Gh.forEach,Ai.forEachRight=Gh.forEachRight,Ai.forIn=Zh.forIn,Ai.forInRight=Zh.forInRight,Ai.forOwn=Zh.forOwn,Ai.forOwnRight=Zh.forOwnRight,Ai.get=Zh.get,Ai.gt=$h.gt,Ai.gte=$h.gte,Ai.has=Zh.has,Ai.hasIn=Zh.hasIn,Ai.head=Hh.head,Ai.identity=Se,Ai.includes=Gh.includes,Ai.indexOf=Hh.indexOf,Ai.inRange=Jh,Ai.invoke=Zh.invoke,Ai.isArguments=$h.isArguments,Ai.isArray=he,Ai.isArrayBuffer=$h.isArrayBuffer,Ai.isArrayLike=$h.isArrayLike,Ai.isArrayLikeObject=$h.isArrayLikeObject,Ai.isBoolean=$h.isBoolean,Ai.isBuffer=$h.isBuffer,Ai.isDate=$h.isDate,Ai.isElement=$h.isElement,Ai.isEmpty=$h.isEmpty,Ai.isEqual=$h.isEqual,Ai.isEqualWith=$h.isEqualWith,Ai.isError=$h.isError,Ai.isFinite=$h.isFinite,Ai.isFunction=$h.isFunction,Ai.isInteger=$h.isInteger,Ai.isLength=$h.isLength,Ai.isMap=$h.isMap,Ai.isMatch=$h.isMatch,Ai.isMatchWith=$h.isMatchWith,Ai.isNaN=$h.isNaN,Ai.isNative=$h.isNative,Ai.isNil=$h.isNil,Ai.isNull=$h.isNull,Ai.isNumber=$h.isNumber,Ai.isObject=_e,Ai.isObjectLike=$h.isObjectLike,Ai.isPlainObject=$h.isPlainObject,Ai.isRegExp=$h.isRegExp,Ai.isSafeInteger=$h.isSafeInteger,Ai.isSet=$h.isSet,Ai.isString=$h.isString,Ai.isSymbol=$h.isSymbol,Ai.isTypedArray=$h.isTypedArray,Ai.isUndefined=$h.isUndefined,Ai.isWeakMap=$h.isWeakMap,Ai.isWeakSet=$h.isWeakSet,Ai.join=Hh.join,Ai.kebabCase=tu.kebabCase,Ai.last=_a,Ai.lastIndexOf=Hh.lastIndexOf,Ai.lowerCase=tu.lowerCase,Ai.lowerFirst=tu.lowerFirst,Ai.lt=$h.lt,Ai.lte=$h.lte,Ai.max=Wh.max,Ai.maxBy=Wh.maxBy,Ai.mean=Wh.mean,Ai.meanBy=Wh.meanBy,Ai.min=Wh.min,Ai.minBy=Wh.minBy,Ai.stubArray=eu.stubArray,Ai.stubFalse=eu.stubFalse,Ai.stubObject=eu.stubObject,Ai.stubString=eu.stubString,Ai.stubTrue=eu.stubTrue,Ai.multiply=Wh.multiply,Ai.nth=Hh.nth,Ai.noop=eu.noop,Ai.now=qh,Ai.pad=tu.pad,Ai.padEnd=tu.padEnd,Ai.padStart=tu.padStart,Ai.parseInt=tu.parseInt,Ai.random=Kh,Ai.reduce=Gh.reduce,Ai.reduceRight=Gh.reduceRight,Ai.repeat=tu.repeat,Ai.replace=tu.replace,Ai.result=Zh.result,Ai.round=Wh.round,Ai.sample=Gh.sample,Ai.size=Gh.size,Ai.snakeCase=tu.snakeCase,Ai.some=Gh.some,Ai.sortedIndex=Hh.sortedIndex,Ai.sortedIndexBy=Hh.sortedIndexBy,Ai.sortedIndexOf=Hh.sortedIndexOf,Ai.sortedLastIndex=Hh.sortedLastIndex,Ai.sortedLastIndexBy=Hh.sortedLastIndexBy,Ai.sortedLastIndexOf=Hh.sortedLastIndexOf,Ai.startCase=tu.startCase,Ai.startsWith=tu.startsWith,Ai.subtract=Wh.subtract,Ai.sum=Wh.sum,Ai.sumBy=Wh.sumBy,Ai.template=tu.template,Ai.times=eu.times,Ai.toFinite=$h.toFinite,Ai.toInteger=ke,Ai.toLength=$h.toLength,Ai.toLower=tu.toLower,Ai.toNumber=$h.toNumber,Ai.toSafeInteger=$h.toSafeInteger,Ai.toString=$h.toString,Ai.toUpper=tu.toUpper,Ai.trim=tu.trim,Ai.trimEnd=tu.trimEnd,Ai.trimStart=tu.trimStart,Ai.truncate=tu.truncate,Ai.unescape=tu.unescape,Ai.uniqueId=eu.uniqueId,Ai.upperCase=tu.upperCase,Ai.upperFirst=tu.upperFirst,Ai.each=Gh.forEach,Ai.eachRight=Gh.forEachRight,Ai.first=Hh.head,hu(Ai,(ru={},qs(Ai,(function(t,e){au.call(Ai.prototype,e)||(ru[e]=t)})),ru),{chain:!1}),Ai.VERSION="4.17.21",(Ai.templateSettings=tu.templateSettings).imports._=Ai,Ei(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ai[t].placeholder=Ai})),Ei(["drop","take"],(function(t,e){ni.prototype[t]=function(i){i=void 0===i?1:du(ke(i),0);var n=this.__filtered__&&!e?new ni(this):this.clone();return n.__filtered__?n.__takeCount__=cu(i,n.__takeCount__):n.__views__.push({size:cu(i,4294967295),type:t+(n.__dir__<0?"Right":"")}),n},ni.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Ei(["filter","map","takeWhile"],(function(t,e){var i=e+1,n=1==i||3==i;ni.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:js(t),type:i}),e.__filtered__=e.__filtered__||n,e}})),Ei(["head","last"],(function(t,e){var i="take"+(e?"Right":"");ni.prototype[t]=function(){return this[i](1).value()[0]}})),Ei(["initial","tail"],(function(t,e){var i="drop"+(e?"":"Right");ni.prototype[t]=function(){return this.__filtered__?new ni(this):this[i](1)}})),ni.prototype.compact=function(){return this.filter(Se)},ni.prototype.find=function(t){return this.filter(t).head()},ni.prototype.findLast=function(t){return this.reverse().find(t)},ni.prototype.invokeMap=Ki((function(t,e){return"function"==typeof t?new ni(this):this.map((function(i){return Fl(i,t,e)}))})),ni.prototype.reject=function(t){return this.filter(fd(js(t)))},ni.prototype.slice=function(t,e){t=ke(t);var i=this;return i.__filtered__&&(t>0||e<0)?new ni(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),void 0!==e&&(i=(e=ke(e))<0?i.dropRight(-e):i.take(e-t)),i)},ni.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},ni.prototype.toArray=function(){return this.take(4294967295)},qs(ni.prototype,(function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),n=/^(?:head|last)$/.test(e),o=Ai[n?"take"+("last"==e?"Right":""):e],r=n||/^find/.test(e);o&&(Ai.prototype[e]=function(){var e=this.__wrapped__,s=n?[1]:arguments,a=e instanceof ni,l=s[0],d=a||he(e),c=function(t){var e=o.apply(Ai,lo([t],s));return n&&h?e[0]:e};d&&i&&"function"==typeof l&&1!=l.length&&(a=d=!1);var h=this.__chain__,u=!!this.__actions__.length,A=r&&!h,p=a&&!u;if(!r&&d){e=p?e:new ni(this);var m=t.apply(e,s);return m.__actions__.push({func:uh,args:[c],thisArg:void 0}),new di(m,h)}return A&&p?t.apply(this,s):(m=this.thru(c),A?n?m.value()[0]:m.value():m)})})),Ei(["pop","push","shift","sort","splice","unshift"],(function(t){var e=su[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);Ai.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var o=this.value();return e.apply(he(o)?o:[],t)}return this[i]((function(i){return e.apply(he(i)?i:[],t)}))}})),qs(ni.prototype,(function(t,e){var i=Ai[e];if(i){var n=i.name+"";au.call(si,n)||(si[n]=[]),si[n].push({name:e,func:i})}})),si[Li(void 0,2).name]=[{name:"wrapper",func:void 0}],ni.prototype.clone=function(){var t=new ni(this.__wrapped__);return t.__actions__=ci(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ci(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ci(this.__views__),t},ni.prototype.reverse=function(){if(this.__filtered__){var t=new ni(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},ni.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,i=he(t),n=e<0,o=i?t.length:0,r=function(t,e,i){for(var n=-1,o=i.length;++n<o;){var r=i[n],s=r.size;switch(r.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=nu(e,t+s);break;case"takeRight":t=iu(t,e-s)}}return{start:t,end:e}}(0,o,this.__views__),s=r.start,a=r.end,l=a-s,d=n?a:s-1,c=this.__iteratees__,h=c.length,u=0,A=ou(l,this.__takeCount__);if(!i||!n&&o==l&&A==l)return ph(t,this.__actions__);var p=[];t:for(;l--&&u<A;){for(var m=-1,g=t[d+=e];++m<h;){var f=c[m],v=f.iteratee,b=f.type,y=v(g);if(2==b)g=y;else if(!y){if(1==b)continue t;break t}}p[u++]=g}return p},Ai.prototype.at=Xh.at,Ai.prototype.chain=Xh.wrapperChain,Ai.prototype.commit=Xh.commit,Ai.prototype.next=Xh.next,Ai.prototype.plant=Xh.plant,Ai.prototype.reverse=Xh.reverse,Ai.prototype.toJSON=Ai.prototype.valueOf=Ai.prototype.value=Xh.value,Ai.prototype.first=Ai.prototype.head,lu&&(Ai.prototype[lu]=Xh.toIterator);const uu=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Au=(()=>{if("undefined"==typeof document)return!1;const t=uu[0],e={};for(const i of uu){const n=i?.[1];if(n in document){for(const[n,o]of i.entries())e[t[n]]=o;return e}}return!1})(),pu={change:Au.fullscreenchange,error:Au.fullscreenerror};let mu={request:(t=document.documentElement,e)=>new Promise(((i,n)=>{const o=()=>{mu.off("change",o),i()};mu.on("change",o);const r=t[Au.requestFullscreen](e);r instanceof Promise&&r.then(o).catch(n)})),exit:()=>new Promise(((t,e)=>{if(!mu.isFullscreen)return void t();const i=()=>{mu.off("change",i),t()};mu.on("change",i);const n=document[Au.exitFullscreen]();n instanceof Promise&&n.then(i).catch(e)})),toggle:(t,e)=>mu.isFullscreen?mu.exit():mu.request(t,e),onchange(t){mu.on("change",t)},onerror(t){mu.on("error",t)},on(t,e){const i=pu[t];i&&document.addEventListener(i,e,!1)},off(t,e){const i=pu[t];i&&document.removeEventListener(i,e,!1)},raw:Au};Object.defineProperties(mu,{isFullscreen:{get:()=>Boolean(document[Au.fullscreenElement])},element:{enumerable:!0,get:()=>document[Au.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>Boolean(document[Au.fullscreenEnabled])}}),Au||(mu={isEnabled:!1});var gu,fu=mu;!function(t){t.assertEqual=t=>t,t.assertIs=function(t){},t.assertNever=function(t){throw new Error},t.arrayToEnum=t=>{const e={};for(const i of t)e[i]=i;return e},t.getValidEnumValues=e=>{const i=t.objectKeys(e).filter((t=>"number"!=typeof e[e[t]])),n={};for(const t of i)n[t]=e[t];return t.objectValues(n)},t.objectValues=e=>t.objectKeys(e).map((function(t){return e[t]})),t.objectKeys="function"==typeof Object.keys?t=>Object.keys(t):t=>{const e=[];for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e},t.find=(t,e)=>{for(const i of t)if(e(i))return i},t.isInteger="function"==typeof Number.isInteger?t=>Number.isInteger(t):t=>"number"==typeof t&&isFinite(t)&&Math.floor(t)===t,t.joinValues=function(t,e=" | "){return t.map((t=>"string"==typeof t?`'${t}'`:t)).join(e)},t.jsonStringifyReplacer=(t,e)=>"bigint"==typeof e?e.toString():e}(gu||(gu={}));const vu=gu.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bu=t=>{switch(typeof t){case"undefined":return vu.undefined;case"string":return vu.string;case"number":return isNaN(t)?vu.nan:vu.number;case"boolean":return vu.boolean;case"function":return vu.function;case"bigint":return vu.bigint;case"object":return Array.isArray(t)?vu.array:null===t?vu.null:t.then&&"function"==typeof t.then&&t.catch&&"function"==typeof t.catch?vu.promise:"undefined"!=typeof Map&&t instanceof Map?vu.map:"undefined"!=typeof Set&&t instanceof Set?vu.set:"undefined"!=typeof Date&&t instanceof Date?vu.date:vu.object;default:return vu.unknown}},yu=gu.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of"]);class _u extends Error{constructor(t){super(),this.issues=[],this.addIssue=t=>{this.issues=[...this.issues,t]},this.addIssues=(t=[])=>{this.issues=[...this.issues,...t]};const e=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,e):this.__proto__=e,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const e=t||function(t){return t.message},i={_errors:[]},n=t=>{for(const o of t.issues)if("invalid_union"===o.code)o.unionErrors.map(n);else if("invalid_return_type"===o.code)n(o.returnTypeError);else if("invalid_arguments"===o.code)n(o.argumentsError);else if(0===o.path.length)i._errors.push(e(o));else{let t=i,n=0;for(;n<o.path.length;){const i=o.path[n];n===o.path.length-1?(t[i]=t[i]||{_errors:[]},t[i]._errors.push(e(o))):t[i]=t[i]||{_errors:[]},t=t[i],n++}}};return n(this),i}toString(){return this.message}get message(){return JSON.stringify(this.issues,gu.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(t=(t=>t.message)){const e={},i=[];for(const n of this.issues)n.path.length>0?(e[n.path[0]]=e[n.path[0]]||[],e[n.path[0]].push(t(n))):i.push(t(n));return{formErrors:i,fieldErrors:e}}get formErrors(){return this.flatten()}}_u.create=t=>new _u(t);const wu=(t,e)=>{let i;switch(t.code){case yu.invalid_type:i=t.received===vu.undefined?"Required":`Expected ${t.expected}, received ${t.received}`;break;case yu.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,gu.jsonStringifyReplacer)}`;break;case yu.unrecognized_keys:i=`Unrecognized key(s) in object: ${gu.joinValues(t.keys,", ")}`;break;case yu.invalid_union:i="Invalid input";break;case yu.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${gu.joinValues(t.options)}`;break;case yu.invalid_enum_value:i=`Invalid enum value. Expected ${gu.joinValues(t.options)}, received '${t.received}'`;break;case yu.invalid_arguments:i="Invalid function arguments";break;case yu.invalid_return_type:i="Invalid function return type";break;case yu.invalid_date:i="Invalid date";break;case yu.invalid_string:"object"==typeof t.validation?"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:gu.assertNever(t.validation):i="regex"!==t.validation?`Invalid ${t.validation}`:"Invalid";break;case yu.too_small:i="array"===t.type?`Array must contain ${t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:"string"===t.type?`String must contain ${t.inclusive?"at least":"over"} ${t.minimum} character(s)`:"number"===t.type?`Number must be greater than ${t.inclusive?"or equal to ":""}${t.minimum}`:"date"===t.type?`Date must be greater than ${t.inclusive?"or equal to ":""}${new Date(t.minimum)}`:"Invalid input";break;case yu.too_big:i="array"===t.type?`Array must contain ${t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:"string"===t.type?`String must contain ${t.inclusive?"at most":"under"} ${t.maximum} character(s)`:"number"===t.type?`Number must be less than ${t.inclusive?"or equal to ":""}${t.maximum}`:"date"===t.type?`Date must be smaller than ${t.inclusive?"or equal to ":""}${new Date(t.maximum)}`:"Invalid input";break;case yu.custom:i="Invalid input";break;case yu.invalid_intersection_types:i="Intersection results could not be merged";break;case yu.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;default:i=e.defaultError,gu.assertNever(t)}return{message:i}};let Cu=wu;function Iu(){return Cu}const Eu=t=>{const{data:e,path:i,errorMaps:n,issueData:o}=t,r=[...i,...o.path||[]],s={...o,path:r};let a="";const l=n.filter((t=>!!t)).slice().reverse();for(const t of l)a=t(s,{data:e,defaultError:a}).message;return{...o,path:r,message:o.message||a}};function xu(t,e){const i=Eu({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Iu(),wu].filter((t=>!!t))});t.common.issues.push(i)}class Bu{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(t,e){const i=[];for(const n of e){if("aborted"===n.status)return ku;"dirty"===n.status&&t.dirty(),i.push(n.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,e){const i=[];for(const t of e)i.push({key:await t.key,value:await t.value});return Bu.mergeObjectSync(t,i)}static mergeObjectSync(t,e){const i={};for(const n of e){const{key:e,value:o}=n;if("aborted"===e.status)return ku;if("aborted"===o.status)return ku;"dirty"===e.status&&t.dirty(),"dirty"===o.status&&t.dirty(),(void 0!==o.value||n.alwaysSet)&&(i[e.value]=o.value)}return{status:t.value,value:i}}}const ku=Object.freeze({status:"aborted"}),Su=t=>({status:"valid",value:t}),Du=t=>"aborted"===t.status,Qu=t=>"dirty"===t.status,Mu=t=>"valid"===t.status,Tu=t=>void 0!==typeof Promise&&t instanceof Promise;var Ou;!function(t){t.errToObj=t=>"string"==typeof t?{message:t}:t||{},t.toString=t=>"string"==typeof t?t:null==t?void 0:t.message}(Ou||(Ou={}));class Ru{constructor(t,e,i,n){this.parent=t,this.data=e,this._path=i,this._key=n}get path(){return this._path.concat(this._key)}}const Pu=(t,e)=>{if(Mu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,error:new _u(t.common.issues)}};function Nu(t){if(!t)return{};const{errorMap:e,invalid_type_error:i,required_error:n,description:o}=t;if(e&&(i||n))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(e)return{errorMap:e,description:o};return{errorMap:(t,e)=>"invalid_type"!==t.code?{message:e.defaultError}:void 0===e.data?{message:null!=n?n:e.defaultError}:{message:null!=i?i:e.defaultError},description:o}}class Fu{constructor(t){this.spa=this.safeParseAsync,this.superRefine=this._refinement,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.default=this.default.bind(this),this.describe=this.describe.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return bu(t.data)}_getOrReturnCtx(t,e){return e||{common:t.parent.common,data:t.data,parsedType:bu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Bu,ctx:{common:t.parent.common,data:t.data,parsedType:bu(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const e=this._parse(t);if(Tu(e))throw new Error("Synchronous parse encountered promise.");return e}_parseAsync(t){const e=this._parse(t);return Promise.resolve(e)}parse(t,e){const i=this.safeParse(t,e);if(i.success)return i.data;throw i.error}safeParse(t,e){var i;const n={common:{issues:[],async:null!==(i=null==e?void 0:e.async)&&void 0!==i&&i,contextualErrorMap:null==e?void 0:e.errorMap},path:(null==e?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bu(t)},o=this._parseSync({data:t,path:n.path,parent:n});return Pu(n,o)}async parseAsync(t,e){const i=await this.safeParseAsync(t,e);if(i.success)return i.data;throw i.error}async safeParseAsync(t,e){const i={common:{issues:[],contextualErrorMap:null==e?void 0:e.errorMap,async:!0},path:(null==e?void 0:e.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bu(t)},n=this._parse({data:t,path:[],parent:i}),o=await(Tu(n)?n:Promise.resolve(n));return Pu(i,o)}refine(t,e){const i=t=>"string"==typeof e||void 0===e?{message:e}:"function"==typeof e?e(t):e;return this._refinement(((e,n)=>{const o=t(e),r=()=>n.addIssue({code:yu.custom,...i(e)});return"undefined"!=typeof Promise&&o instanceof Promise?o.then((t=>!!t||(r(),!1))):!!o||(r(),!1)}))}refinement(t,e){return this._refinement(((i,n)=>!!t(i)||(n.addIssue("function"==typeof e?e(i,n):e),!1)))}_refinement(t){return new yA({schema:this,typeName:SA.ZodEffects,effect:{type:"refinement",refinement:t}})}optional(){return _A.create(this)}nullable(){return wA.create(this)}nullish(){return this.optional().nullable()}array(){return tA.create(this)}promise(){return bA.create(this)}or(t){return rA.create([this,t])}and(t){return lA.create(this,t)}transform(t){return new yA({schema:this,typeName:SA.ZodEffects,effect:{type:"transform",transform:t}})}default(t){return new CA({innerType:this,defaultValue:"function"==typeof t?t:()=>t,typeName:SA.ZodDefault})}brand(){return new xA({typeName:SA.ZodBranded,type:this,...Nu(void 0)})}describe(t){return new(0,this.constructor)({...this._def,description:t})}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Lu=/^c[^\s-]{8,}$/i,ju=/^([a-f0-9]{8}-[a-f0-9]{4}-[1-5][a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}|00000000-0000-0000-0000-000000000000)$/i,zu=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;class Uu extends Fu{constructor(){super(...arguments),this._regex=(t,e,i)=>this.refinement((e=>t.test(e)),{validation:e,code:yu.invalid_string,...Ou.errToObj(i)}),this.nonempty=t=>this.min(1,Ou.errToObj(t)),this.trim=()=>new Uu({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}_parse(t){if(this._getType(t)!==vu.string){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.string,received:e.parsedType}),ku}const e=new Bu;let i;for(const n of this._def.checks)if("min"===n.kind)t.data.length<n.value&&(i=this._getOrReturnCtx(t,i),xu(i,{code:yu.too_small,minimum:n.value,type:"string",inclusive:!0,message:n.message}),e.dirty());else if("max"===n.kind)t.data.length>n.value&&(i=this._getOrReturnCtx(t,i),xu(i,{code:yu.too_big,maximum:n.value,type:"string",inclusive:!0,message:n.message}),e.dirty());else if("email"===n.kind)zu.test(t.data)||(i=this._getOrReturnCtx(t,i),xu(i,{validation:"email",code:yu.invalid_string,message:n.message}),e.dirty());else if("uuid"===n.kind)ju.test(t.data)||(i=this._getOrReturnCtx(t,i),xu(i,{validation:"uuid",code:yu.invalid_string,message:n.message}),e.dirty());else if("cuid"===n.kind)Lu.test(t.data)||(i=this._getOrReturnCtx(t,i),xu(i,{validation:"cuid",code:yu.invalid_string,message:n.message}),e.dirty());else if("url"===n.kind)try{new URL(t.data)}catch(o){i=this._getOrReturnCtx(t,i),xu(i,{validation:"url",code:yu.invalid_string,message:n.message}),e.dirty()}else if("regex"===n.kind){n.regex.lastIndex=0;n.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),xu(i,{validation:"regex",code:yu.invalid_string,message:n.message}),e.dirty())}else"trim"===n.kind?t.data=t.data.trim():"startsWith"===n.kind?t.data.startsWith(n.value)||(i=this._getOrReturnCtx(t,i),xu(i,{code:yu.invalid_string,validation:{startsWith:n.value},message:n.message}),e.dirty()):"endsWith"===n.kind?t.data.endsWith(n.value)||(i=this._getOrReturnCtx(t,i),xu(i,{code:yu.invalid_string,validation:{endsWith:n.value},message:n.message}),e.dirty()):gu.assertNever(n);return{status:e.value,value:t.data}}_addCheck(t){return new Uu({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ou.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ou.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ou.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ou.errToObj(t)})}regex(t,e){return this._addCheck({kind:"regex",regex:t,...Ou.errToObj(e)})}startsWith(t,e){return this._addCheck({kind:"startsWith",value:t,...Ou.errToObj(e)})}endsWith(t,e){return this._addCheck({kind:"endsWith",value:t,...Ou.errToObj(e)})}min(t,e){return this._addCheck({kind:"min",value:t,...Ou.errToObj(e)})}max(t,e){return this._addCheck({kind:"max",value:t,...Ou.errToObj(e)})}length(t,e){return this.min(t,e).max(t,e)}get isEmail(){return!!this._def.checks.find((t=>"email"===t.kind))}get isURL(){return!!this._def.checks.find((t=>"url"===t.kind))}get isUUID(){return!!this._def.checks.find((t=>"uuid"===t.kind))}get isCUID(){return!!this._def.checks.find((t=>"cuid"===t.kind))}get minLength(){let t=null;for(const e of this._def.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxLength(){let t=null;for(const e of this._def.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}}function Hu(t,e){const i=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=i>n?i:n;return parseInt(t.toFixed(o).replace(".",""))%parseInt(e.toFixed(o).replace(".",""))/Math.pow(10,o)}Uu.create=t=>new Uu({checks:[],typeName:SA.ZodString,...Nu(t)});class Gu extends Fu{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._getType(t)!==vu.number){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.number,received:e.parsedType}),ku}let e;const i=new Bu;for(const n of this._def.checks)if("int"===n.kind)gu.isInteger(t.data)||(e=this._getOrReturnCtx(t,e),xu(e,{code:yu.invalid_type,expected:"integer",received:"float",message:n.message}),i.dirty());else if("min"===n.kind){(n.inclusive?t.data<n.value:t.data<=n.value)&&(e=this._getOrReturnCtx(t,e),xu(e,{code:yu.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),i.dirty())}else if("max"===n.kind){(n.inclusive?t.data>n.value:t.data>=n.value)&&(e=this._getOrReturnCtx(t,e),xu(e,{code:yu.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,message:n.message}),i.dirty())}else"multipleOf"===n.kind?0!==Hu(t.data,n.value)&&(e=this._getOrReturnCtx(t,e),xu(e,{code:yu.not_multiple_of,multipleOf:n.value,message:n.message}),i.dirty()):gu.assertNever(n);return{status:i.value,value:t.data}}gte(t,e){return this.setLimit("min",t,!0,Ou.toString(e))}gt(t,e){return this.setLimit("min",t,!1,Ou.toString(e))}lte(t,e){return this.setLimit("max",t,!0,Ou.toString(e))}lt(t,e){return this.setLimit("max",t,!1,Ou.toString(e))}setLimit(t,e,i,n){return new Gu({...this._def,checks:[...this._def.checks,{kind:t,value:e,inclusive:i,message:Ou.toString(n)}]})}_addCheck(t){return new Gu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ou.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ou.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ou.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ou.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ou.toString(t)})}multipleOf(t,e){return this._addCheck({kind:"multipleOf",value:t,message:Ou.toString(e)})}get minValue(){let t=null;for(const e of this._def.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return t}get maxValue(){let t=null;for(const e of this._def.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return t}get isInt(){return!!this._def.checks.find((t=>"int"===t.kind))}}Gu.create=t=>new Gu({checks:[],typeName:SA.ZodNumber,...Nu(t)});class qu extends Fu{_parse(t){if(this._getType(t)!==vu.bigint){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.bigint,received:e.parsedType}),ku}return Su(t.data)}}qu.create=t=>new qu({typeName:SA.ZodBigInt,...Nu(t)});class Yu extends Fu{_parse(t){if(this._getType(t)!==vu.boolean){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.boolean,received:e.parsedType}),ku}return Su(t.data)}}Yu.create=t=>new Yu({typeName:SA.ZodBoolean,...Nu(t)});class $u extends Fu{_parse(t){if(this._getType(t)!==vu.date){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.date,received:e.parsedType}),ku}if(isNaN(t.data.getTime())){return xu(this._getOrReturnCtx(t),{code:yu.invalid_date}),ku}const e=new Bu;let i;for(const n of this._def.checks)"min"===n.kind?t.data.getTime()<n.value&&(i=this._getOrReturnCtx(t,i),xu(i,{code:yu.too_small,message:n.message,inclusive:!0,minimum:n.value,type:"date"}),e.dirty()):"max"===n.kind?t.data.getTime()>n.value&&(i=this._getOrReturnCtx(t,i),xu(i,{code:yu.too_big,message:n.message,inclusive:!0,maximum:n.value,type:"date"}),e.dirty()):gu.assertNever(n);return{status:e.value,value:new Date(t.data.getTime())}}_addCheck(t){return new $u({...this._def,checks:[...this._def.checks,t]})}min(t,e){return this._addCheck({kind:"min",value:t.getTime(),message:Ou.toString(e)})}max(t,e){return this._addCheck({kind:"max",value:t.getTime(),message:Ou.toString(e)})}get minDate(){let t=null;for(const e of this._def.checks)"min"===e.kind&&(null===t||e.value>t)&&(t=e.value);return null!=t?new Date(t):null}get maxDate(){let t=null;for(const e of this._def.checks)"max"===e.kind&&(null===t||e.value<t)&&(t=e.value);return null!=t?new Date(t):null}}$u.create=t=>new $u({checks:[],typeName:SA.ZodDate,...Nu(t)});class Wu extends Fu{_parse(t){if(this._getType(t)!==vu.undefined){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.undefined,received:e.parsedType}),ku}return Su(t.data)}}Wu.create=t=>new Wu({typeName:SA.ZodUndefined,...Nu(t)});class Vu extends Fu{_parse(t){if(this._getType(t)!==vu.null){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.null,received:e.parsedType}),ku}return Su(t.data)}}Vu.create=t=>new Vu({typeName:SA.ZodNull,...Nu(t)});class Ju extends Fu{constructor(){super(...arguments),this._any=!0}_parse(t){return Su(t.data)}}Ju.create=t=>new Ju({typeName:SA.ZodAny,...Nu(t)});class Ku extends Fu{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Su(t.data)}}Ku.create=t=>new Ku({typeName:SA.ZodUnknown,...Nu(t)});class Zu extends Fu{_parse(t){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.never,received:e.parsedType}),ku}}Zu.create=t=>new Zu({typeName:SA.ZodNever,...Nu(t)});class Xu extends Fu{_parse(t){if(this._getType(t)!==vu.undefined){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.void,received:e.parsedType}),ku}return Su(t.data)}}Xu.create=t=>new Xu({typeName:SA.ZodVoid,...Nu(t)});class tA extends Fu{_parse(t){const{ctx:e,status:i}=this._processInputParams(t),n=this._def;if(e.parsedType!==vu.array)return xu(e,{code:yu.invalid_type,expected:vu.array,received:e.parsedType}),ku;if(null!==n.minLength&&e.data.length<n.minLength.value&&(xu(e,{code:yu.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,message:n.minLength.message}),i.dirty()),null!==n.maxLength&&e.data.length>n.maxLength.value&&(xu(e,{code:yu.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,message:n.maxLength.message}),i.dirty()),e.common.async)return Promise.all(e.data.map(((t,i)=>n.type._parseAsync(new Ru(e,t,e.path,i))))).then((t=>Bu.mergeArray(i,t)));const o=e.data.map(((t,i)=>n.type._parseSync(new Ru(e,t,e.path,i))));return Bu.mergeArray(i,o)}get element(){return this._def.type}min(t,e){return new tA({...this._def,minLength:{value:t,message:Ou.toString(e)}})}max(t,e){return new tA({...this._def,maxLength:{value:t,message:Ou.toString(e)}})}length(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}var eA;tA.create=(t,e)=>new tA({type:t,minLength:null,maxLength:null,typeName:SA.ZodArray,...Nu(e)}),function(t){t.mergeShapes=(t,e)=>({...t,...e})}(eA||(eA={}));const iA=t=>e=>new oA({...t,shape:()=>({...t.shape(),...e})});function nA(t){if(t instanceof oA){const e={};for(const i in t.shape){const n=t.shape[i];e[i]=_A.create(nA(n))}return new oA({...t._def,shape:()=>e})}return t instanceof tA?tA.create(nA(t.element)):t instanceof _A?_A.create(nA(t.unwrap())):t instanceof wA?wA.create(nA(t.unwrap())):t instanceof dA?dA.create(t.items.map((t=>nA(t)))):t}class oA extends Fu{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=iA(this._def),this.extend=iA(this._def)}_getCached(){if(null!==this._cached)return this._cached;const t=this._def.shape(),e=gu.objectKeys(t);return this._cached={shape:t,keys:e}}_parse(t){if(this._getType(t)!==vu.object){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.object,received:e.parsedType}),ku}const{status:e,ctx:i}=this._processInputParams(t),{shape:n,keys:o}=this._getCached(),r=[];for(const t in i.data)o.includes(t)||r.push(t);const s=[];for(const t of o){const e=n[t],o=i.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new Ru(i,o,i.path,t)),alwaysSet:t in i.data})}if(this._def.catchall instanceof Zu){const t=this._def.unknownKeys;if("passthrough"===t)for(const t of r)s.push({key:{status:"valid",value:t},value:{status:"valid",value:i.data[t]}});else if("strict"===t)r.length>0&&(xu(i,{code:yu.unrecognized_keys,keys:r}),e.dirty());else if("strip"!==t)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const t=this._def.catchall;for(const e of r){const n=i.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new Ru(i,n,i.path,e)),alwaysSet:e in i.data})}}return i.common.async?Promise.resolve().then((async()=>{const t=[];for(const e of s){const i=await e.key;t.push({key:i,value:await e.value,alwaysSet:e.alwaysSet})}return t})).then((t=>Bu.mergeObjectSync(e,t))):Bu.mergeObjectSync(e,s)}get shape(){return this._def.shape()}strict(t){return Ou.errToObj,new oA({...this._def,unknownKeys:"strict",...void 0!==t?{errorMap:(e,i)=>{var n,o,r,s;const a=null!==(r=null===(o=(n=this._def).errorMap)||void 0===o?void 0:o.call(n,e,i).message)&&void 0!==r?r:i.defaultError;return"unrecognized_keys"===e.code?{message:null!==(s=Ou.errToObj(t).message)&&void 0!==s?s:a}:{message:a}}}:{}})}strip(){return new oA({...this._def,unknownKeys:"strip"})}passthrough(){return new oA({...this._def,unknownKeys:"passthrough"})}setKey(t,e){return this.augment({[t]:e})}merge(t){return new oA({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>eA.mergeShapes(this._def.shape(),t._def.shape()),typeName:SA.ZodObject})}catchall(t){return new oA({...this._def,catchall:t})}pick(t){const e={};return gu.objectKeys(t).map((t=>{this.shape[t]&&(e[t]=this.shape[t])})),new oA({...this._def,shape:()=>e})}omit(t){const e={};return gu.objectKeys(this.shape).map((i=>{-1===gu.objectKeys(t).indexOf(i)&&(e[i]=this.shape[i])})),new oA({...this._def,shape:()=>e})}deepPartial(){return nA(this)}partial(t){const e={};if(t)return gu.objectKeys(this.shape).map((i=>{-1===gu.objectKeys(t).indexOf(i)?e[i]=this.shape[i]:e[i]=this.shape[i].optional()})),new oA({...this._def,shape:()=>e});for(const t in this.shape){const i=this.shape[t];e[t]=i.optional()}return new oA({...this._def,shape:()=>e})}required(){const t={};for(const e in this.shape){let i=this.shape[e];for(;i instanceof _A;)i=i._def.innerType;t[e]=i}return new oA({...this._def,shape:()=>t})}keyof(){return gA(gu.objectKeys(this.shape))}}oA.create=(t,e)=>new oA({shape:()=>t,unknownKeys:"strip",catchall:Zu.create(),typeName:SA.ZodObject,...Nu(e)}),oA.strictCreate=(t,e)=>new oA({shape:()=>t,unknownKeys:"strict",catchall:Zu.create(),typeName:SA.ZodObject,...Nu(e)}),oA.lazycreate=(t,e)=>new oA({shape:t,unknownKeys:"strip",catchall:Zu.create(),typeName:SA.ZodObject,...Nu(e)});class rA extends Fu{_parse(t){const{ctx:e}=this._processInputParams(t),i=this._def.options;if(e.common.async)return Promise.all(i.map((async t=>{const i={...e,common:{...e.common,issues:[]},parent:null};return{result:await t._parseAsync({data:e.data,path:e.path,parent:i}),ctx:i}}))).then((function(t){for(const e of t)if("valid"===e.result.status)return e.result;for(const i of t)if("dirty"===i.result.status)return e.common.issues.push(...i.ctx.common.issues),i.result;const i=t.map((t=>new _u(t.ctx.common.issues)));return xu(e,{code:yu.invalid_union,unionErrors:i}),ku}));{let t;const n=[];for(const o of i){const i={...e,common:{...e.common,issues:[]},parent:null},r=o._parseSync({data:e.data,path:e.path,parent:i});if("valid"===r.status)return r;"dirty"!==r.status||t||(t={result:r,ctx:i}),i.common.issues.length&&n.push(i.common.issues)}if(t)return e.common.issues.push(...t.ctx.common.issues),t.result;const o=n.map((t=>new _u(t)));return xu(e,{code:yu.invalid_union,unionErrors:o}),ku}}get options(){return this._def.options}}rA.create=(t,e)=>new rA({options:t,typeName:SA.ZodUnion,...Nu(e)});class sA extends Fu{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==vu.object)return xu(e,{code:yu.invalid_type,expected:vu.object,received:e.parsedType}),ku;const i=this.discriminator,n=e.data[i],o=this.options.get(n);return o?e.common.async?o._parseAsync({data:e.data,path:e.path,parent:e}):o._parseSync({data:e.data,path:e.path,parent:e}):(xu(e,{code:yu.invalid_union_discriminator,options:this.validDiscriminatorValues,path:[i]}),ku)}get discriminator(){return this._def.discriminator}get validDiscriminatorValues(){return Array.from(this.options.keys())}get options(){return this._def.options}static create(t,e,i){const n=new Map;try{e.forEach((e=>{const i=e.shape[t].value;n.set(i,e)}))}catch(t){throw new Error("The discriminator value could not be extracted from all the provided schemas")}if(n.size!==e.length)throw new Error("Some of the discriminator values are not unique");return new sA({typeName:SA.ZodDiscriminatedUnion,discriminator:t,options:n,...Nu(i)})}}function aA(t,e){const i=bu(t),n=bu(e);if(t===e)return{valid:!0,data:t};if(i===vu.object&&n===vu.object){const i=gu.objectKeys(e),n=gu.objectKeys(t).filter((t=>-1!==i.indexOf(t))),o={...t,...e};for(const i of n){const n=aA(t[i],e[i]);if(!n.valid)return{valid:!1};o[i]=n.data}return{valid:!0,data:o}}if(i===vu.array&&n===vu.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let n=0;n<t.length;n++){const o=aA(t[n],e[n]);if(!o.valid)return{valid:!1};i.push(o.data)}return{valid:!0,data:i}}return i===vu.date&&n===vu.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class lA extends Fu{_parse(t){const{status:e,ctx:i}=this._processInputParams(t),n=(t,n)=>{if(Du(t)||Du(n))return ku;const o=aA(t.value,n.value);return o.valid?((Qu(t)||Qu(n))&&e.dirty(),{status:e.value,value:o.data}):(xu(i,{code:yu.invalid_intersection_types}),ku)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then((([t,e])=>n(t,e))):n(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}lA.create=(t,e,i)=>new lA({left:t,right:e,typeName:SA.ZodIntersection,...Nu(i)});class dA extends Fu{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==vu.array)return xu(i,{code:yu.invalid_type,expected:vu.array,received:i.parsedType}),ku;if(i.data.length<this._def.items.length)return xu(i,{code:yu.too_small,minimum:this._def.items.length,inclusive:!0,type:"array"}),ku;!this._def.rest&&i.data.length>this._def.items.length&&(xu(i,{code:yu.too_big,maximum:this._def.items.length,inclusive:!0,type:"array"}),e.dirty());const n=i.data.map(((t,e)=>{const n=this._def.items[e]||this._def.rest;return n?n._parse(new Ru(i,t,i.path,e)):null})).filter((t=>!!t));return i.common.async?Promise.all(n).then((t=>Bu.mergeArray(e,t))):Bu.mergeArray(e,n)}get items(){return this._def.items}rest(t){return new dA({...this._def,rest:t})}}dA.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new dA({items:t,typeName:SA.ZodTuple,rest:null,...Nu(e)})};class cA extends Fu{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==vu.object)return xu(i,{code:yu.invalid_type,expected:vu.object,received:i.parsedType}),ku;const n=[],o=this._def.keyType,r=this._def.valueType;for(const t in i.data)n.push({key:o._parse(new Ru(i,t,i.path,t)),value:r._parse(new Ru(i,i.data[t],i.path,t))});return i.common.async?Bu.mergeObjectAsync(e,n):Bu.mergeObjectSync(e,n)}get element(){return this._def.valueType}static create(t,e,i){return new cA(e instanceof Fu?{keyType:t,valueType:e,typeName:SA.ZodRecord,...Nu(i)}:{keyType:Uu.create(),valueType:t,typeName:SA.ZodRecord,...Nu(e)})}}class hA extends Fu{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==vu.map)return xu(i,{code:yu.invalid_type,expected:vu.map,received:i.parsedType}),ku;const n=this._def.keyType,o=this._def.valueType,r=[...i.data.entries()].map((([t,e],r)=>({key:n._parse(new Ru(i,t,i.path,[r,"key"])),value:o._parse(new Ru(i,e,i.path,[r,"value"]))})));if(i.common.async){const t=new Map;return Promise.resolve().then((async()=>{for(const i of r){const n=await i.key,o=await i.value;if("aborted"===n.status||"aborted"===o.status)return ku;"dirty"!==n.status&&"dirty"!==o.status||e.dirty(),t.set(n.value,o.value)}return{status:e.value,value:t}}))}{const t=new Map;for(const i of r){const n=i.key,o=i.value;if("aborted"===n.status||"aborted"===o.status)return ku;"dirty"!==n.status&&"dirty"!==o.status||e.dirty(),t.set(n.value,o.value)}return{status:e.value,value:t}}}}hA.create=(t,e,i)=>new hA({valueType:e,keyType:t,typeName:SA.ZodMap,...Nu(i)});class uA extends Fu{_parse(t){const{status:e,ctx:i}=this._processInputParams(t);if(i.parsedType!==vu.set)return xu(i,{code:yu.invalid_type,expected:vu.set,received:i.parsedType}),ku;const n=this._def;null!==n.minSize&&i.data.size<n.minSize.value&&(xu(i,{code:yu.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,message:n.minSize.message}),e.dirty()),null!==n.maxSize&&i.data.size>n.maxSize.value&&(xu(i,{code:yu.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,message:n.maxSize.message}),e.dirty());const o=this._def.valueType;function r(t){const i=new Set;for(const n of t){if("aborted"===n.status)return ku;"dirty"===n.status&&e.dirty(),i.add(n.value)}return{status:e.value,value:i}}const s=[...i.data.values()].map(((t,e)=>o._parse(new Ru(i,t,i.path,e))));return i.common.async?Promise.all(s).then((t=>r(t))):r(s)}min(t,e){return new uA({...this._def,minSize:{value:t,message:Ou.toString(e)}})}max(t,e){return new uA({...this._def,maxSize:{value:t,message:Ou.toString(e)}})}size(t,e){return this.min(t,e).max(t,e)}nonempty(t){return this.min(1,t)}}uA.create=(t,e)=>new uA({valueType:t,minSize:null,maxSize:null,typeName:SA.ZodSet,...Nu(e)});class AA extends Fu{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==vu.function)return xu(e,{code:yu.invalid_type,expected:vu.function,received:e.parsedType}),ku;function i(t,i){return Eu({data:t,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Iu(),wu].filter((t=>!!t)),issueData:{code:yu.invalid_arguments,argumentsError:i}})}function n(t,i){return Eu({data:t,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,Iu(),wu].filter((t=>!!t)),issueData:{code:yu.invalid_return_type,returnTypeError:i}})}const o={errorMap:e.common.contextualErrorMap},r=e.data;return this._def.returns instanceof bA?Su((async(...t)=>{const e=new _u([]),s=await this._def.args.parseAsync(t,o).catch((n=>{throw e.addIssue(i(t,n)),e})),a=await r(...s),l=await this._def.returns._def.type.parseAsync(a,o).catch((t=>{throw e.addIssue(n(a,t)),e}));return l})):Su(((...t)=>{const e=this._def.args.safeParse(t,o);if(!e.success)throw new _u([i(t,e.error)]);const s=r(...e.data),a=this._def.returns.safeParse(s,o);if(!a.success)throw new _u([n(s,a.error)]);return a.data}))}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new AA({...this._def,args:dA.create(t).rest(Ku.create())})}returns(t){return new AA({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,e,i){return new AA({args:t||dA.create([]).rest(Ku.create()),returns:e||Ku.create(),typeName:SA.ZodFunction,...Nu(i)})}}class pA extends Fu{get schema(){return this._def.getter()}_parse(t){const{ctx:e}=this._processInputParams(t);return this._def.getter()._parse({data:e.data,path:e.path,parent:e})}}pA.create=(t,e)=>new pA({getter:t,typeName:SA.ZodLazy,...Nu(e)});class mA extends Fu{_parse(t){if(t.data!==this._def.value){return xu(this._getOrReturnCtx(t),{code:yu.invalid_literal,expected:this._def.value}),ku}return{status:"valid",value:t.data}}get value(){return this._def.value}}function gA(t,e){return new fA({values:t,typeName:SA.ZodEnum,...Nu(e)})}mA.create=(t,e)=>new mA({value:t,typeName:SA.ZodLiteral,...Nu(e)});class fA extends Fu{_parse(t){if("string"!=typeof t.data){const e=this._getOrReturnCtx(t),i=this._def.values;return xu(e,{expected:gu.joinValues(i),received:e.parsedType,code:yu.invalid_type}),ku}if(-1===this._def.values.indexOf(t.data)){const e=this._getOrReturnCtx(t),i=this._def.values;return xu(e,{received:e.data,code:yu.invalid_enum_value,options:i}),ku}return Su(t.data)}get options(){return this._def.values}get enum(){const t={};for(const e of this._def.values)t[e]=e;return t}get Values(){const t={};for(const e of this._def.values)t[e]=e;return t}get Enum(){const t={};for(const e of this._def.values)t[e]=e;return t}}fA.create=gA;class vA extends Fu{_parse(t){const e=gu.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==vu.string&&i.parsedType!==vu.number){const t=gu.objectValues(e);return xu(i,{expected:gu.joinValues(t),received:i.parsedType,code:yu.invalid_type}),ku}if(-1===e.indexOf(t.data)){const t=gu.objectValues(e);return xu(i,{received:i.data,code:yu.invalid_enum_value,options:t}),ku}return Su(t.data)}get enum(){return this._def.values}}vA.create=(t,e)=>new vA({values:t,typeName:SA.ZodNativeEnum,...Nu(e)});class bA extends Fu{_parse(t){const{ctx:e}=this._processInputParams(t);if(e.parsedType!==vu.promise&&!1===e.common.async)return xu(e,{code:yu.invalid_type,expected:vu.promise,received:e.parsedType}),ku;const i=e.parsedType===vu.promise?e.data:Promise.resolve(e.data);return Su(i.then((t=>this._def.type.parseAsync(t,{path:e.path,errorMap:e.common.contextualErrorMap}))))}}bA.create=(t,e)=>new bA({type:t,typeName:SA.ZodPromise,...Nu(e)});class yA extends Fu{innerType(){return this._def.schema}_parse(t){const{status:e,ctx:i}=this._processInputParams(t),n=this._def.effect||null;if("preprocess"===n.type){const t=n.transform(i.data);return i.common.async?Promise.resolve(t).then((t=>this._def.schema._parseAsync({data:t,path:i.path,parent:i}))):this._def.schema._parseSync({data:t,path:i.path,parent:i})}const o={addIssue:t=>{xu(i,t),t.fatal?e.abort():e.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),"refinement"===n.type){const t=t=>{const e=n.refinement(t,o);if(i.common.async)return Promise.resolve(e);if(e instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return t};if(!1===i.common.async){const n=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===n.status?ku:("dirty"===n.status&&e.dirty(),t(n.value),{status:e.value,value:n.value})}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((i=>"aborted"===i.status?ku:("dirty"===i.status&&e.dirty(),t(i.value).then((()=>({status:e.value,value:i.value}))))))}if("transform"===n.type){if(!1===i.common.async){const t=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Mu(t))return t;const r=n.transform(t.value,o);if(r instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:e.value,value:r}}return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then((t=>Mu(t)?Promise.resolve(n.transform(t.value,o)).then((t=>({status:e.value,value:t}))):t))}gu.assertNever(n)}}yA.create=(t,e,i)=>new yA({schema:t,typeName:SA.ZodEffects,effect:e,...Nu(i)}),yA.createWithPreprocess=(t,e,i)=>new yA({schema:e,effect:{type:"preprocess",transform:t},typeName:SA.ZodEffects,...Nu(i)});class _A extends Fu{_parse(t){return this._getType(t)===vu.undefined?Su(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_A.create=(t,e)=>new _A({innerType:t,typeName:SA.ZodOptional,...Nu(e)});class wA extends Fu{_parse(t){return this._getType(t)===vu.null?Su(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wA.create=(t,e)=>new wA({innerType:t,typeName:SA.ZodNullable,...Nu(e)});class CA extends Fu{_parse(t){const{ctx:e}=this._processInputParams(t);let i=e.data;return e.parsedType===vu.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:e.path,parent:e})}removeDefault(){return this._def.innerType}}CA.create=(t,e)=>new _A({innerType:t,typeName:SA.ZodOptional,...Nu(e)});class IA extends Fu{_parse(t){if(this._getType(t)!==vu.nan){const e=this._getOrReturnCtx(t);return xu(e,{code:yu.invalid_type,expected:vu.nan,received:e.parsedType}),ku}return{status:"valid",value:t.data}}}IA.create=t=>new IA({typeName:SA.ZodNaN,...Nu(t)});const EA=Symbol("zod_brand");class xA extends Fu{_parse(t){const{ctx:e}=this._processInputParams(t),i=e.data;return this._def.type._parse({data:i,path:e.path,parent:e})}unwrap(){return this._def.type}}const BA=(t,e={},i)=>t?Ju.create().superRefine(((n,o)=>{if(!t(n)){const t="function"==typeof e?e(n):e,r="string"==typeof t?{message:t}:t;o.addIssue({code:"custom",...r,fatal:i})}})):Ju.create(),kA={object:oA.lazycreate};var SA;!function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded"}(SA||(SA={}));const DA=Uu.create,QA=Gu.create,MA=IA.create,TA=qu.create,OA=Yu.create,RA=$u.create,PA=Wu.create,NA=Vu.create,FA=Ju.create,LA=Ku.create,jA=Zu.create,zA=Xu.create,UA=tA.create,HA=oA.create,GA=oA.strictCreate,qA=rA.create,YA=sA.create,$A=lA.create,WA=dA.create,VA=cA.create,JA=hA.create,KA=uA.create,ZA=AA.create,XA=pA.create,tp=mA.create,ep=fA.create,ip=vA.create,np=bA.create,op=yA.create,rp=_A.create,sp=wA.create,ap=yA.createWithPreprocess,lp=ku;var dp=Object.freeze({__proto__:null,getParsedType:bu,ZodParsedType:vu,defaultErrorMap:wu,setErrorMap:function(t){Cu=t},getErrorMap:Iu,makeIssue:Eu,EMPTY_PATH:[],addIssueToContext:xu,ParseStatus:Bu,INVALID:ku,DIRTY:t=>({status:"dirty",value:t}),OK:Su,isAborted:Du,isDirty:Qu,isValid:Mu,isAsync:Tu,ZodType:Fu,ZodString:Uu,ZodNumber:Gu,ZodBigInt:qu,ZodBoolean:Yu,ZodDate:$u,ZodUndefined:Wu,ZodNull:Vu,ZodAny:Ju,ZodUnknown:Ku,ZodNever:Zu,ZodVoid:Xu,ZodArray:tA,get objectUtil(){return eA},ZodObject:oA,ZodUnion:rA,ZodDiscriminatedUnion:sA,ZodIntersection:lA,ZodTuple:dA,ZodRecord:cA,ZodMap:hA,ZodSet:uA,ZodFunction:AA,ZodLazy:pA,ZodLiteral:mA,ZodEnum:fA,ZodNativeEnum:vA,ZodPromise:bA,ZodEffects:yA,ZodTransformer:yA,ZodOptional:_A,ZodNullable:wA,ZodDefault:CA,ZodNaN:IA,BRAND:EA,ZodBranded:xA,custom:BA,Schema:Fu,ZodSchema:Fu,late:kA,get ZodFirstPartyTypeKind(){return SA},any:FA,array:UA,bigint:TA,boolean:OA,date:RA,discriminatedUnion:YA,effect:op,enum:ep,function:ZA,instanceof:(t,e={message:`Input not instance of ${t.name}`})=>BA((e=>e instanceof t),e,!0),intersection:$A,lazy:XA,literal:tp,map:JA,nan:MA,nativeEnum:ip,never:jA,null:NA,nullable:sp,number:QA,object:HA,oboolean:()=>OA().optional(),onumber:()=>QA().optional(),optional:rp,ostring:()=>DA().optional(),preprocess:ap,promise:np,record:VA,set:KA,strictObject:GA,string:DA,transformer:op,tuple:WA,undefined:PA,union:qA,unknown:LA,void:zA,NEVER:lp,ZodIssueCode:yu,quotelessJson:t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:_u});function cp(t){if(t instanceof dp.ZodDefault)return cp(t.removeDefault());if(t instanceof dp.ZodObject){const e={};for(const i in t.shape){const n=t.shape[i];e[i]=dp.ZodOptional.create(cp(n))}return new dp.ZodObject(Object.assign(Object.assign({},t._def),{shape:()=>e}))}return t instanceof dp.ZodArray?dp.ZodArray.create(cp(t.element)):t instanceof dp.ZodOptional?dp.ZodOptional.create(cp(t.unwrap())):t instanceof dp.ZodNullable?dp.ZodNullable.create(cp(t.unwrap())):t instanceof dp.ZodTuple?dp.ZodTuple.create(t.items.map((t=>cp(t)))):t}function hp(t){const e=t.format();return Object.keys(e).filter((t=>!t.startsWith("_")))}const up=["live","clip","clips","snapshot","snapshots","image","timeline"],Ap=["left","right","top","bottom"],pp=Ap,mp=["all","unselected","hidden","never"],gp=["all","selected","visible","never"];class fp extends Error{constructor(t,e){super(t),this.context=e}}const vp=dp.object({confirmation:dp.boolean().or(dp.object({text:dp.string().optional(),exemptions:dp.object({user:dp.string()}).array().optional()})).optional()}),bp=vp.extend({action:dp.literal("toggle")}),yp=vp.extend({action:dp.literal("call-service"),service:dp.string(),service_data:dp.object({}).passthrough().optional()}),_p=vp.extend({action:dp.literal("navigate"),navigation_path:dp.string()}),wp=vp.extend({action:dp.literal("url"),url_path:dp.string()}),Cp=vp.extend({action:dp.literal("more-info")}),Ip=vp.extend({action:dp.literal("fire-dom-event")}).passthrough(),Ep=vp.extend({action:dp.literal("none")}),xp=Ip.extend({action:dp.literal("custom:frigate-card-action").transform((()=>"fire-dom-event")).or(dp.literal("fire-dom-event"))}),Bp=["default","clip","clips","image","live","snapshot","snapshots","timeline","download","frigate_ui","fullscreen","menu_toggle","diagnostics"],kp=xp.extend({frigate_card_action:dp.enum(Bp)}),Sp=xp.extend({frigate_card_action:dp.literal("camera_select"),camera:dp.string()}),Dp=xp.extend({frigate_card_action:dp.literal("media_player"),media_player:dp.string(),media_player_action:dp.enum(["play","stop"])}),Qp=dp.union([kp,Sp,Dp]),Mp=dp.union([bp,yp,_p,wp,Cp,Ep,Ip,Qp]),Tp=dp.object({tap_action:Mp.or(Mp.array()).optional(),hold_action:Mp.or(Mp.array()).optional(),double_tap_action:Mp.or(Mp.array()).optional(),start_tap_action:Mp.or(Mp.array()).optional(),end_tap_action:Mp.or(Mp.array()).optional()}).passthrough(),Op=dp.object({actions:Tp.optional()}),Rp=Tp.extend({style:dp.object({}).passthrough().optional(),title:dp.string().nullable().optional()}),Pp=Rp.extend({type:dp.literal("state-badge"),entity:dp.string()}),Np=Rp.extend({type:dp.literal("state-icon"),entity:dp.string(),icon:dp.string().optional(),state_color:dp.boolean().default(!0)}),Fp=Rp.extend({type:dp.literal("state-label"),entity:dp.string(),attribute:dp.string().optional(),prefix:dp.string().optional(),suffix:dp.string().optional()}),Lp=Rp.extend({type:dp.literal("service-button"),title:dp.string(),service:dp.string(),service_data:dp.object({}).passthrough().optional()}),jp=Rp.extend({type:dp.literal("icon"),icon:dp.string(),entity:dp.string().optional()}),zp=Rp.extend({type:dp.literal("image"),entity:dp.string().optional(),image:dp.string().optional(),camera_image:dp.string().optional(),camera_view:dp.string().optional(),state_image:dp.object({}).passthrough().optional(),filter:dp.string().optional(),state_filter:dp.object({}).passthrough().optional(),aspect_ratio:dp.string().optional()}),Up=dp.object({entity:dp.string(),state:dp.string().optional(),state_not:dp.string().optional()}).array(),Hp=dp.object({type:dp.literal("conditional"),conditions:Up,elements:dp.lazy((()=>nm))}),Gp=dp.object({type:dp.string().superRefine(((t,e)=>{t.match(/^custom:(?!frigate-card).+/)||e.addIssue({code:dp.ZodIssueCode.custom,message:"Frigate-card custom elements must match specific schemas",fatal:!0})}))}).passthrough(),qp={live_provider:"auto",frigate:{client_id:"frigate"},dependencies:{all_cameras:!1,cameras:[]},triggers:{motion:!1,occupancy:!0,entities:[]}},Yp=dp.object({entity:dp.string().optional(),url:dp.string().optional()}),$p=dp.object({camera_entity:dp.string().optional(),live_provider:dp.enum(["auto","ha","frigate-jsmpeg","webrtc-card"]).default(qp.live_provider),icon:dp.string().optional(),title:dp.string().optional(),id:dp.string().optional(),frigate:dp.object({url:dp.string().optional(),client_id:dp.string().default(qp.frigate.client_id),camera_name:dp.string().optional(),label:dp.string().optional(),zone:dp.string().optional()}).default(qp.frigate),webrtc_card:Yp.optional(),dependencies:dp.object({all_cameras:dp.boolean().default(qp.dependencies.all_cameras),cameras:dp.string().array().default(qp.dependencies.cameras)}).default(qp.dependencies),triggers:dp.object({motion:dp.boolean().default(qp.triggers.motion),occupancy:dp.boolean().default(qp.triggers.occupancy),entities:dp.string().array().default(qp.triggers.entities)}).default(qp.triggers)}).default(qp),Wp=dp.object({enabled:dp.boolean().default(!0).optional(),priority:dp.number().min(0).max(100).default(50).optional(),alignment:dp.enum(["matching","opposing"]).default("matching").optional(),icon:dp.string().optional()}),Vp=Wp.merge(jp).extend({type:dp.literal("custom:frigate-card-menu-icon")}),Jp=Wp.merge(Np).extend({type:dp.literal("custom:frigate-card-menu-state-icon")}).merge(Wp),Kp=Rp.extend({entity:dp.string().optional(),icon:dp.string().optional(),state_color:dp.boolean().default(!0),selected:dp.boolean().default(!1),subtitle:dp.string().optional(),enabled:dp.boolean().default(!0)}),Zp=Wp.merge(jp).extend({type:dp.literal("custom:frigate-card-menu-submenu"),items:Kp.array()}),Xp=Wp.merge(Np).extend({type:dp.literal("custom:frigate-card-menu-submenu-select"),options:dp.record(Kp.deepPartial()).optional()}),tm=dp.object({view:dp.string().array().optional(),fullscreen:dp.boolean().optional(),camera:dp.string().array().optional(),mediaLoaded:dp.boolean().optional(),state:Up.optional()}),em=dp.object({type:dp.literal("custom:frigate-card-conditional"),conditions:tm,elements:dp.lazy((()=>nm))}),im=dp.preprocess((t=>{if(!t||"object"!=typeof t||!t.service)return t;const e=Object.assign({},t);return["left","right","up","down","zoom_in","zoom_out","home"].forEach((i=>{`data_${i}`in t&&!(`actions_${i}`in t)&&(e[`actions_${i}`]={tap_action:{action:"call-service",service:t.service,service_data:t[`data_${i}`]}},delete e[`data_${i}`])})),e}),dp.object({type:dp.literal("custom:frigate-card-ptz"),style:dp.object({}).passthrough().optional(),orientation:dp.enum(["vertical","horizontal"]).default("vertical").optional(),service:dp.string().optional(),actions_left:Tp.optional(),actions_right:Tp.optional(),actions_up:Tp.optional(),actions_down:Tp.optional(),actions_zoom_in:Tp.optional(),actions_zoom_out:Tp.optional(),actions_home:Tp.optional()})),nm=dp.union([Jp,Vp,Zp,Xp,em,im,Pp,Np,Fp,Lp,jp,zp,Hp,Gp]).array().optional(),om=dp.object({fit:dp.enum(["contain","cover","fill"]).optional(),position:dp.object({x:dp.number().min(0).max(100).optional(),y:dp.number().min(0).max(100).optional()}).optional()}),rm={default:"live",camera_select:"current",timeout_seconds:300,update_seconds:0,update_force:!1,update_cycle_camera:!1,dark_mode:"off",scan:{enabled:!1,show_trigger_status:!0,untrigger_seconds:0,untrigger_reset:!0}},sm=dp.object({default:dp.enum(up).default(rm.default),camera_select:dp.enum([...up,"current"]).default(rm.camera_select),timeout_seconds:dp.number().default(rm.timeout_seconds),update_seconds:dp.number().default(rm.update_seconds),update_force:dp.boolean().default(rm.update_force),update_cycle_camera:dp.boolean().default(rm.update_cycle_camera),update_entities:dp.string().array().optional(),render_entities:dp.string().array().optional(),dark_mode:dp.enum(["on","off","auto"]).optional(),scan:dp.object({enabled:dp.boolean().default(rm.scan.enabled),show_trigger_status:dp.boolean().default(rm.scan.show_trigger_status),untrigger_seconds:dp.number().default(rm.scan.untrigger_seconds),untrigger_reset:dp.boolean().default(rm.scan.untrigger_reset)}).default(rm.scan)}).merge(Op).default(rm),am={mode:"url",refresh_seconds:0},lm=dp.object({mode:dp.enum(["screensaver","camera","url"]).default(am.mode),url:dp.string().optional(),refresh_seconds:dp.number().min(0).default(am.refresh_seconds),layout:om.optional()}).merge(Op).default(am),dm=dp.object({mode:dp.enum(["none","above","below","left","right"]),size:dp.number().min(75).max(175).optional(),show_details:dp.boolean().optional(),show_favorite_control:dp.boolean().optional(),show_timeline_control:dp.boolean().optional()}),cm=dp.object({style:dp.enum(["none","chevrons","icons","thumbnails"]),size:dp.number().min(20)}),hm=dp.enum(["none","slide"]),um=dp.object({mode:dp.enum(["none","popup-top-right","popup-top-left","popup-bottom-right","popup-bottom-left"]),duration_seconds:dp.number().min(0).max(60)}),Am={auto_play:"all",auto_pause:"never",auto_mute:"all",auto_unmute:"never",preload:!1,lazy_load:!0,lazy_unload:"never",draggable:!0,transition_effect:"slide",show_image_during_load:!0,controls:{next_previous:{size:48,style:"chevrons"},thumbnails:{media:"clips",size:100,show_details:!0,show_favorite_control:!0,show_timeline_control:!0,mode:"left"},title:{mode:"popup-bottom-right",duration_seconds:2}}},pm=Yp.passthrough().optional(),mm=dp.object({options:dp.object({audio:dp.boolean().optional(),video:dp.boolean().optional(),pauseWhenHidden:dp.boolean().optional(),disableGl:dp.boolean().optional(),disableWebAssembly:dp.boolean().optional(),preserveDrawingBuffer:dp.boolean().optional(),progressive:dp.boolean().optional(),throttled:dp.boolean().optional(),chunkSize:dp.number().optional(),maxAudioLag:dp.number().optional(),videoBufferSize:dp.number().optional(),audioBufferSize:dp.number().optional()}).optional()}).optional(),gm=dp.object({webrtc_card:pm,jsmpeg:mm,controls:dp.object({next_previous:cm.extend({style:dp.enum(["none","chevrons","icons"]).default(Am.controls.next_previous.style),size:cm.shape.size.default(Am.controls.next_previous.size)}).default(Am.controls.next_previous),thumbnails:dm.extend({mode:dm.shape.mode.default(Am.controls.thumbnails.mode),size:dm.shape.size.default(Am.controls.thumbnails.size),show_details:dm.shape.show_details.default(Am.controls.thumbnails.show_details),show_favorite_control:dm.shape.show_favorite_control.default(Am.controls.thumbnails.show_favorite_control),show_timeline_control:dm.shape.show_timeline_control.default(Am.controls.thumbnails.show_timeline_control),media:dp.enum(["clips","snapshots"]).default(Am.controls.thumbnails.media)}).default(Am.controls.thumbnails),title:um.extend({mode:um.shape.mode.default(Am.controls.title.mode),duration_seconds:um.shape.duration_seconds.default(Am.controls.title.duration_seconds)}).default(Am.controls.title)}).default(Am.controls),show_image_during_load:dp.boolean().default(Am.show_image_during_load),layout:om.optional()}).merge(Op),fm=gm.extend({auto_play:dp.enum(gp).default(Am.auto_play),auto_pause:dp.enum(mp).default(Am.auto_pause),auto_mute:dp.enum(mp).default(Am.auto_mute),auto_unmute:dp.enum(gp).default(Am.auto_unmute),preload:dp.boolean().default(Am.preload),lazy_load:dp.boolean().default(Am.lazy_load),lazy_unload:dp.enum(mp).default(Am.lazy_unload),draggable:dp.boolean().default(Am.draggable),transition_effect:hm.default(Am.transition_effect)}).default(Am),vm={priority:50,enabled:!0},bm={priority:50,enabled:!1},ym={style:"hidden",position:"top",alignment:"left",buttons:{frigate:vm,cameras:vm,live:vm,clips:vm,snapshots:vm,image:bm,timeline:vm,download:vm,frigate_ui:vm,fullscreen:vm,media_player:vm},button_size:40},_m=Wp.extend({enabled:Wp.shape.enabled.default(vm.enabled),priority:Wp.shape.priority.default(vm.priority)}),wm=Wp.extend({enabled:Wp.shape.enabled.default(bm.enabled),priority:Wp.shape.priority.default(bm.priority)}),Cm=dp.object({style:dp.enum(["none","hidden","overlay","hover","outside"]).default(ym.style),position:dp.enum(Ap).default(ym.position),alignment:dp.enum(pp).default(ym.alignment),buttons:dp.object({frigate:_m.default(ym.buttons.frigate),cameras:_m.default(ym.buttons.cameras),live:_m.default(ym.buttons.live),clips:_m.default(ym.buttons.clips),snapshots:_m.default(ym.buttons.snapshots),image:wm.default(ym.buttons.image),timeline:_m.default(ym.buttons.timeline),download:_m.default(ym.buttons.download),frigate_ui:_m.default(ym.buttons.frigate_ui),fullscreen:_m.default(ym.buttons.fullscreen),media_player:_m.default(ym.buttons.media_player)}).default(ym.buttons),button_size:dp.number().min(20).default(ym.button_size)}).default(ym),Im={auto_play:"all",auto_pause:"all",auto_mute:"all",auto_unmute:"never",lazy_load:!0,draggable:!0,transition_effect:"slide",controls:{next_previous:{size:48,style:"thumbnails"},thumbnails:{size:100,show_details:!0,show_favorite_control:!0,show_timeline_control:!0,mode:"left"},title:{mode:"popup-bottom-right",duration_seconds:2}}},Em=cm.extend({style:dp.enum(["none","thumbnails","chevrons"]).default(Im.controls.next_previous.style),size:cm.shape.size.default(Im.controls.next_previous.size)}),xm=dp.object({auto_play:dp.enum(gp).default(Im.auto_play),auto_pause:dp.enum(mp).default(Im.auto_pause),auto_mute:dp.enum(mp).default(Im.auto_mute),auto_unmute:dp.enum(gp).default(Im.auto_unmute),lazy_load:dp.boolean().default(Im.lazy_load),draggable:dp.boolean().default(Im.draggable),transition_effect:hm.default(Im.transition_effect),controls:dp.object({next_previous:Em.default(Im.controls.next_previous),thumbnails:dm.extend({mode:dm.shape.mode.default(Im.controls.thumbnails.mode),size:dm.shape.size.default(Im.controls.thumbnails.size),show_details:dm.shape.show_details.default(Im.controls.thumbnails.show_details),show_favorite_control:dm.shape.show_favorite_control.default(Im.controls.thumbnails.show_favorite_control),show_timeline_control:dm.shape.show_timeline_control.default(Im.controls.thumbnails.show_timeline_control)}).default(Im.controls.thumbnails),title:um.extend({mode:um.shape.mode.default(Im.controls.title.mode),duration_seconds:um.shape.duration_seconds.default(Im.controls.title.duration_seconds)}).default(Im.controls.title)}).default(Im.controls),layout:om.optional()}).merge(Op).default(Im),Bm={controls:{thumbnails:{size:100,show_details:!1,show_favorite_control:!0,show_timeline_control:!0}}},km=dp.object({controls:dp.object({thumbnails:dm.omit({mode:!0}).extend({size:dm.shape.size.default(Bm.controls.thumbnails.size),show_details:dm.shape.show_details.default(Bm.controls.thumbnails.show_details),show_favorite_control:dm.shape.show_favorite_control.default(Bm.controls.thumbnails.show_favorite_control),show_timeline_control:dm.shape.show_timeline_control.default(Bm.controls.thumbnails.show_timeline_control)}).default(Bm.controls.thumbnails)}).default(Bm.controls)}).merge(Op).default(Bm),Sm={aspect_ratio_mode:"dynamic",aspect_ratio:[16,9]},Dm=dp.object({aspect_ratio_mode:dp.enum(["dynamic","static","unconstrained"]).default(Sm.aspect_ratio_mode),aspect_ratio:dp.number().array().length(2).or(dp.string().regex(/^\s*\d+\s*[:\/]\s*\d+\s*$/).transform((t=>t.split(/[:\/]/).map((t=>Number(t)))))).default(Sm.aspect_ratio)}).default(Sm),Qm={clustering_threshold:3,media:"all",window_seconds:3600,show_recordings:!0,controls:{thumbnails:{mode:"left",size:100,show_details:!0,show_favorite_control:!0,show_timeline_control:!0}}},Mm=dp.object({clustering_threshold:dp.number().optional().default(Qm.clustering_threshold),media:dp.enum(["all","clips","snapshots"]).optional().default(Qm.media),window_seconds:dp.number().min(60).max(86400).optional().default(Qm.window_seconds),show_recordings:dp.boolean().optional().default(Qm.show_recordings),controls:dp.object({thumbnails:dm.extend({mode:dm.shape.mode.default(Qm.controls.thumbnails.mode),size:dm.shape.size.default(Qm.controls.thumbnails.size),show_details:dm.shape.show_details.default(Qm.controls.thumbnails.show_details),show_favorite_control:dm.shape.show_favorite_control.default(Qm.controls.thumbnails.show_favorite_control),show_timeline_control:dm.shape.show_timeline_control.default(Qm.controls.thumbnails.show_timeline_control)}).default(Qm.controls.thumbnails)}).default(Qm.controls)}).default(Qm),Tm=dp.object({live:cp(gm).optional(),menu:cp(Cm).optional(),image:cp(lm).optional(),view:cp(sm).optional(),dimensions:cp(Dm).optional()}),Om=dp.object({conditions:tm,overrides:Tm}).array().optional();dp.object({conditions:tm,overrides:gm}).array().optional();const Rm=dp.object({cameras:$p.array().nonempty(),view:sm,menu:Cm,live:fm,media_viewer:xm,event_gallery:km,image:lm,elements:nm,dimensions:Dm,timeline:Mm,overrides:Om,card_mod:dp.unknown(),type:dp.string(),test_gui:dp.boolean().optional()}),Pm={cameras:qp,view:rm,menu:ym,live:Am,media_viewer:Im,event_gallery:Bm,image:am,timeline:Qm};dp.discriminatedUnion("type",[Vp,Jp,Zp,Xp]);const Nm={info:10,error:20,connection:30,diagnostics:40},Fm=dp.lazy((()=>dp.object({title:dp.string(),media_class:dp.string(),media_content_type:dp.string(),media_content_id:dp.string(),can_play:dp.boolean(),can_expand:dp.boolean(),children_media_class:dp.string().nullable().optional(),thumbnail:dp.string().nullable(),children:dp.array(Fm).nullable().optional(),frigate:dp.object({event:dp.object({camera:dp.string(),end_time:dp.number().nullable(),false_positive:dp.boolean().nullable(),has_clip:dp.boolean(),has_snapshot:dp.boolean(),id:dp.string(),label:dp.string(),start_time:dp.number(),top_score:dp.number(),zones:dp.string().array(),retain_indefinitely:dp.boolean().optional()})}).optional()}))),Lm=dp.object({url:dp.string(),mime_type:dp.string()}),jm=dp.object({path:dp.string()}),zm=dp.object({config_entry_id:dp.string().nullable(),disabled_by:dp.string().nullable(),entity_id:dp.string(),platform:dp.string()}),Um=zm.extend({unique_id:dp.string().optional()}),Hm=zm.array();function Gm(t){if(!t)return null;const e=Qp.safeParse(t);return e.success?e.data:null}function qm(t,e){return"camera_select"===t?(null==e?void 0:e.camera)?{action:"fire-dom-event",frigate_card_action:t,camera:e.camera}:null:"media_player"===t?(null==e?void 0:e.media_player)&&e.media_player_action?{action:"fire-dom-event",frigate_card_action:t,media_player:e.media_player,media_player_action:e.media_player_action}:null:{action:"fire-dom-event",frigate_card_action:t}}function Ym(t,e){if(t&&e)return"tap"==t&&e.tap_action?e.tap_action:"hold"==t&&e.hold_action?e.hold_action:"double_tap"==t&&e.double_tap_action?e.double_tap_action:"end_tap"==t&&e.end_tap_action?e.end_tap_action:"start_tap"==t&&e.start_tap_action?e.start_tap_action:void 0}const $m=(t,e,i,n,o)=>!(!o&&"tap"!=n)&&(Array.isArray(o)?o.forEach((n=>A(t,e,i,n))):A(t,e,i,o),!0),Wm=t=>Array.isArray(t)?!!t.find((t=>p(t))):p(t),Vm=t=>{t.stopPropagation()};class Jm extends HTMLElement{constructor(){super(...arguments),this.holdTime=400,this.held=!1}connectedCallback(){["touchcancel","mouseout","mouseup","touchmove","mousewheel","wheel","scroll"].forEach((t=>{document.addEventListener(t,(()=>{this.timer&&(clearTimeout(this.timer),this.timer=void 0)}),{passive:!0})}))}bind(t,e){if(t.actionHandlerOptions)return void(t.actionHandlerOptions=e);t.actionHandlerOptions=e,t.addEventListener("contextmenu",(t=>{const e=t||window.event;return e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0,e.returnValue=!1,!1}));const i=()=>{const e=t.actionHandlerOptions;(null==e?void 0:e.hasHold)&&(this.held=!1,this.timer=window.setTimeout((()=>{this.held=!0}),this.holdTime)),c(t,"action",{action:"start_tap"})},n=e=>{const i=t.actionHandlerOptions;(null==i?void 0:i.allowPropagation)||Vm(e),(!["touchend","touchcancel"].includes(e.type)||(null==i?void 0:i.hasHold)&&this.held)&&((null==i?void 0:i.hasHold)&&(clearTimeout(this.timer),this.timer=void 0),c(t,"action",{action:"end_tap"}),(null==i?void 0:i.hasHold)&&this.held?c(t,"action",{action:"hold"}):(null==i?void 0:i.hasDoubleClick)?"click"===e.type&&e.detail<2||!this.dblClickTimeout?this.dblClickTimeout=window.setTimeout((()=>{this.dblClickTimeout=void 0,c(t,"action",{action:"tap"})}),250):(clearTimeout(this.dblClickTimeout),this.dblClickTimeout=void 0,c(t,"action",{action:"double_tap"})):c(t,"action",{action:"tap"}))};t.addEventListener("touchstart",i,{passive:!0}),t.addEventListener("touchend",n),t.addEventListener("touchcancel",n),t.addEventListener("mousedown",i,{passive:!0}),t.addEventListener("click",n),t.addEventListener("keyup",(t=>{"Enter"===t.key&&n(t)}))}}customElements.define("action-handler-frigate-card",Jm);const Km=(t,e)=>{const i=(()=>{const t=document.body;if(t.querySelector("action-handler-frigate-card"))return t.querySelector("action-handler-frigate-card");const e=document.createElement("action-handler-frigate-card");return t.appendChild(e),e})();i&&i.bind(t,e)},Zm=kt(class extends St{update(t,[e]){return Km(t.element,e),Z}render(t){}});class Xm extends Event{}function tg(t,e){var i,n,o;if(!e)return!1;let r=!0;if((null===(i=null==t?void 0:t.view)||void 0===i?void 0:i.length)&&r&&(r=!!e.view&&t.view.includes(e.view)),void 0!==(null==t?void 0:t.fullscreen)&&r&&(r=void 0!==e.fullscreen&&t.fullscreen==e.fullscreen),(null===(n=null==t?void 0:t.camera)||void 0===n?void 0:n.length)&&r&&(r=!!e.camera&&t.camera.includes(e.camera)),null===(o=null==t?void 0:t.state)||void 0===o?void 0:o.length)for(const i of null==t?void 0:t.state)r&&(r=!(!e.state||(i.state||i.state_not)&&(!(i.entity in e.state)||i.state&&e.state[i.entity].state!==i.state||i.state_not&&e.state[i.entity].state===i.state_not)));return void 0!==(null==t?void 0:t.mediaLoaded)&&r&&(r=void 0!==e.mediaLoaded&&t.mediaLoaded==e.mediaLoaded),r}function eg(t,e,i){const n=ms(t);let o=!1;if(e)for(const t of e)tg(t.conditions,i)&&(ud(n,t.overrides),o=!0);return o?n:t}var ig={frigate_card:"Frigate card",frigate_card_description:"A Lovelace card for use with Frigate",live:"Live",no_clip:"No recent clip",no_clips:"No clips",no_snapshot:"No recent snapshot",no_snapshots:"No snapshots",recordings:"Recordings",version:"Version"},ng={cameras:{camera_entity:"Camera Entity",dependencies:{all_cameras:"Show events for all cameras with this camera",cameras:"Show events for specific cameras with this camera",options:"Dependency Options"},frigate:{camera_name:"Frigate camera name (Autodetected from entity)",client_id:"Frigate client id (For >1 Frigate server)",label:"Frigate label/object filter",options:"Frigate Options",url:"Frigate server URL",zone:"Frigate zone"},icon:"Icon for this camera (Autodetected from entity)",id:"Unique id for this camera in this card",live_provider:"Live view provider for this camera",live_providers:{auto:"Automatic","frigate-jsmpeg":"Frigate JSMpeg",ha:"Home Assistant (i.e. HLS, LL-HLS, WebRTC native)","webrtc-card":"WebRTC Card (i.e. AlexxIT's WebRTC Card)"},title:"Title for this camera (Autodetected from entity)",triggers:{entities:"Trigger from other entities",motion:"Trigger by auto-detecting the motion sensor",occupancy:"Trigger by auto-detecting the occupancy sensor",options:"Trigger Options"},webrtc_card:{entity:"WebRTC Card Camera Entity (Not a Frigate camera)",options:"WebRTC Card Options",url:"WebRTC Card Camera URL"}},common:{media_action_conditions:{all:"All opportunities",hidden:"On browser/tab hiding",never:"Never",selected:"On selection",unselected:"On unselection",visible:"On browser/tab visibility"},layout:{fit:"Layout fit",fits:{cover:"Media expands proportionally to cover the card",contain:"Media is contained/letterboxed",fill:"Media is stretched to fill the card"},position:{x:"Horizontal placement percentage",y:"Vertical placement percentage"}}},dimensions:{aspect_ratio:"Default aspect ratio (e.g. '16:9')",aspect_ratio_mode:"Aspect ratio mode",aspect_ratio_modes:{dynamic:"Aspect ratio adjusts to media",static:"Static aspect ratio",unconstrained:"Unconstrained aspect ratio"}},event_gallery:{controls:{options:"Event Gallery Controls",thumbnails:{show_details:"Show event details with thumbnails",show_favorite_control:"Show favorite control on thumbnails",show_timeline_control:"Show timeline control on thumbnails",size:"Event Gallery thumbnails size in pixels"}}},image:{layout:"Image Layout",mode:"Image view mode",modes:{camera:"Home Assistant camera snapshot of camera entity",screensaver:"Embedded Frigate logo",url:"Arbitrary image specified by URL"},refresh_seconds:"Number of seconds after which to refresh (0=never)",url:"Static image URL for image view"},live:{auto_mute:"Automatically mute live cameras",auto_pause:"Automatically pause live cameras",auto_play:"Automatically play live cameras",auto_unmute:"Automatically unmute live cameras",controls:{next_previous:{size:"Live view next & previous control size in pixels",style:"Live view next & previous control style",styles:{chevrons:"Chevrons",icons:"Icons",none:"None"}},options:"Live Controls",thumbnails:{media:"Whether to show thumbnails of clips or snapshots",medias:{clips:"Clip thumbnails",snapshots:"Snapshot thumbnails"},mode:"Live thumbnails mode",show_details:"Show event details with thumbnails",show_favorite_control:"Show favorite control on thumbnails",show_timeline_control:"Show timeline control on thumbnails",size:"Live thumbnails size in pixels"},title:{duration_seconds:"Seconds to display popup title (0=forever)",mode:"Live media title display mode"}},draggable:"Live cameras view can be dragged/swiped",layout:"Live Layout",lazy_load:"Live cameras are lazily loaded",lazy_unload:"Live cameras are lazily unloaded",preload:"Preload live view in the background",show_image_during_load:"Show still image while the live stream is loading",transition_effect:"Live camera transition effect"},media_viewer:{auto_mute:"Automatically mute media",auto_pause:"Automatically pause media",auto_play:"Automatically play media",auto_unmute:"Automatically unmute media",controls:{next_previous:{size:"Media Viewer next & previous control size in pixels",style:"Media Viewer next & previous control style",styles:{chevrons:"Chevrons",none:"None",thumbnails:"Thumbnails"}},options:"Media Viewer Controls",thumbnails:{mode:"Media Viewer thumbnails mode",modes:{above:"Thumbnails above the media",below:"Thumbnails below the media",left:"Thumbnails in a drawer left of the media",none:"No thumbnails",right:"Thumbnails in a drawer right of the media"},show_details:"Show details with thumbnails",show_favorite_control:"Show favorite control on thumbnails",show_timeline_control:"Show timeline control on thumbnails",size:"Media Viewer thumbnails size in pixels"},title:{duration_seconds:"Seconds to display popup title (0=forever)",mode:"Media Viewer media title display mode",modes:{none:"No title display","popup-bottom-left":"Popup on the bottom left","popup-bottom-right":"Popup on the bottom right","popup-top-left":"Popup on the top left","popup-top-right":"Popup on the top right"}}},draggable:"Media Viewer can be dragged/swiped",lazy_load:"Media Viewer media is lazily loaded in carousel",layout:"Media Viewer Layout",transition_effect:"Media Viewer transition effect",transition_effects:{none:"No transition",slide:"Slide transition"}},menu:{alignment:"Menu alignment",alignments:{bottom:"Aligned to the bottom",left:"Aligned to the left",right:"Aligned to the right",top:"Aligned to the top"},button_size:"Menu button size in pixels",buttons:{alignment:"Button alignment",alignments:{matching:"Matching the menu alignment",opposing:"Opposing the menu alignment"},cameras:"Cameras",clips:"Clips",download:"Download",enabled:"Button enabled",frigate:"Frigate menu / Default view",frigate_ui:"Frigate user interface",fullscreen:"Fullscreen",icon:"Icon",image:"Image",live:"Live",media_player:"Send to media player",priority:"Priority",snapshots:"Snapshots",timeline:"Timeline"},position:"Menu position",positions:{bottom:"Positioned on the bottom",left:"Positioned on the left",right:"Positioned on the right",top:"Positioned on the top"},style:"Menu style",styles:{hidden:"Hidden menu",hover:"Hover menu",none:"No menu",outside:"Outside menu",overlay:"Overlay menu"}},overrides:{info:"This card configuration has manually specified overrides configured which may override values shown in the visual editor, please consult the code editor to view/modify these overrides"},timeline:{clustering_threshold:"The count of events at which they are clustered (0=no clustering)",controls:{options:"Timeline Controls",thumbnails:{mode:"Timeline thumbnails mode",show_details:"Show event details with thumbnails",show_favorite_control:"Show favorite control on thumbnails",show_timeline_control:"Show timeline control on thumbnails",size:"Timeline thumbnails size in pixels"}},media:"The media the timeline displays",medias:{all:"All media types",clips:"Clips",snapshots:"Snapshots"},show_recordings:"Show recordings",window_seconds:"The default length of the timeline view in seconds"},view:{camera_select:"View for newly selected cameras",dark_mode:"Dark mode",dark_modes:{auto:"Auto",off:"Off",on:"On"},default:"Default view",scan:{enabled:"Scan mode enabled",scan_mode:"Scan mode",show_trigger_status:"Show pulsing border when triggered",untrigger_reset:"Reset the view to default after untrigger",untrigger_seconds:"Seconds after inactive state change to untrigger"},timeout_seconds:"Reset to default view X seconds after user action (0=never)",update_cycle_camera:"Cycle through cameras when default view updates",update_force:"Force card updates (ignore user interaction)",update_seconds:"Refresh default view every X seconds (0=never)",views:{clip:"Most recent clip",clips:"Clips gallery",current:"Current view",image:"Static image",live:"Live view",snapshot:"Most recent snapshot",snapshots:"Snapshots gallery",timeline:"Timeline view"}}},og={add_new_camera:"Add new camera",button:"Button",camera:"Camera",cameras:"Cameras",cameras_secondary:"What cameras to render on this card",delete:"Delete",dimensions:"Dimensions",dimensions_secondary:"Dimensions & shape options",event_gallery:"Event gallery",event_gallery_secondary:"Snapshots & clips gallery options",image:"Image",image_secondary:"Static image view options",live:"Live",live_secondary:"Live camera view options",media_viewer:"Media viewer",media_viewer_secondary:"Viewer for static media (clips, snapshots or recordings)",menu:"Menu",menu_secondary:"Menu look & feel options",move_down:"Move down",move_up:"Move up",overrides:"Overrides are active",overrides_secondary:"Dynamic configuration overrides detected",timeline:"Timeline",timeline_secondary:"Event timeline options",upgrade:"Upgrade",upgrade_available:"An automatic card configuration upgrade is available",view:"View",view_secondary:"What the card should show and how to show it"},rg={could_not_render_elements:"Could not render picture elements",could_not_resolve:"Could not resolve media URL",diagnostics:"Card diagnostics. Please review for confidential information prior to sharing",download_no_event_id:"Could not extract Frigate event id from media",download_no_media:"No media to download",download_sign_failed:"Could not sign media URL for download",duplicate_camera_id:"Duplicate Frigate camera id for the following camera, use the 'id' parameter to uniquely identify cameras",empty_response:"Received empty response from Home Assistant for request",failed_response:"Failed to receive response from Home Assistant for request",failed_retain:"Could not retain event",failed_sign:"Could not sign Home Assistant URL",image_load_error:"The image could not be loaded",invalid_configuration:"Invalid configuration",invalid_configuration_no_hint:"No location hint available (bad or missing type?)",invalid_elements_config:"Invalid picture elements configuration",invalid_response:"Received invalid response from Home Assistant for request",jsmpeg_no_player:"Could not start JSMPEG player",jsmpeg_no_sign:"Could not retrieve or sign JSMPEG websocket path",live_camera_not_found:"The configured camera_entity was not found",live_camera_unavailable:"Camera unavailable",no_camera_id:"Could not determine camera id for the following camera, may need to set 'id' parameter manually",no_camera_name:"Could not determine a Frigate camera name for camera (or one of its dependents), please specify either 'camera_entity' or 'camera_name'",no_cameras:"No valid cameras found, you must configure at least one camera entry",no_live_camera:"The camera_entity parameter must be set and valid for this live provider",reconnecting:"Reconnecting",timeline_no_cameras:"No Frigate cameras to show in timeline",troubleshooting:"Check troubleshooting",unknown:"Unknown error",upgrade_available:"An automated card configuration upgrade is available, please visit the visual card editor",webrtc_card_reported_error:"WebRTC Card reported an error",webrtc_card_waiting:"Waiting for WebRTC Card to load ..."},sg={duration:"Duration",in_progress:"In Progress",score:"Score",start:"Start"},ag={events:"Events",seek:"Seek"},lg={no_thumbnail:"No thumbnail available",retain_indefinitely:"Event will be indefinitely retained",timeline:"See event in timeline"},dg={ptz:{up:"Up",down:"Down",left:"Left",right:"Right",zoom_in:"Zoom In",zoom_out:"Zoom Out",home:"Home"}},cg={common:ig,config:ng,editor:og,error:rg,event:sg,recording:ag,thumbnail:lg,elements:dg},hg={frigate_card:"Cartão Frigate",frigate_card_description:"Um cartão da Lovelace para usar com Frigate",live:"Ao Vivo",no_clip:"Sem clip recente",no_clips:"Sem clips",no_snapshot:"Sem snapshot recente",no_snapshots:"Sem snapshots",recordings:"Gravações",version:"Versão"},ug={cameras:{camera_entity:"Entidade da Câmera",dependencies:{all_cameras:"Mostrar eventos para todas as câmeras nesta câmera",cameras:"Mostrar eventos para câmeras específicas nesta câmera",options:"Opções de dependência"},frigate:{camera_name:"Nome da câmera do Frigate (detectado automaticamente pela entidade)",client_id:"ID do cliente do Frigate (para >1 servidor Frigate)",label:"Filtro de rótulo/objeto do Frigate",options:"Opções do Frigate",url:"URL do servidor Frigate",zone:"Zona do Frigate"},icon:"Ícone para esta câmera (detectado automaticamente pela entidade)",id:"ID exclusivo para esta câmera nesse cartão",live_provider:"Provedor de visualização ao vivo para esta câmera",live_providers:{auto:"Automatico","frigate-jsmpeg":"Frigate JSMpeg",ha:"Home Assistant (HLS, LL-HLS ou WebRTC nativo)","webrtc-card":"Cartão WebRTC (de @AlexxIT)"},title:"Título para esta câmera (detectado automaticamente pela entidade)",triggers:{entities:"Acionar a partir de outras entidades",motion:"Acionar detectando automaticamente o sensor de movimento",occupancy:"Acionar detectando automaticamente o sensor de ocupação",options:"Opções de acionamento"},webrtc_card:{entity:"Entidade de câmera de cartão WebRTC (não é uma câmera Frigate)",options:"Opções do cartão WebRTC",url:"URL da câmera do cartão WebRTC"}},common:{media_action_conditions:{all:"Todas as oportunidades",hidden:"Ao ocultar o navegador/aba",never:"Nunca",selected:"Ao selecionar",unselected:"Ao desselecionar",visible:"Ao mostrar o navegador/aba"}},dimensions:{aspect_ratio:"Proporção padrão (e.g. '16:9')",aspect_ratio_mode:"Modo de proporção",aspect_ratio_modes:{dynamic:"A proporção se ajusta à mídia",static:"Proporção estática",unconstrained:"Proporção irrestrita"}},event_gallery:{controls:{options:"Controles da Galeria de Eventos",thumbnails:{show_details:"Mostrar detalhes do evento com miniaturas",show_favorite_control:"Mostrar controle de favorito nas miniaturas",show_timeline_control:"Mostrar controle da linha do tempo nas miniaturas",size:"Tamanho das miniaturas da Galeria de eventos em pixels"}}},image:{mode:"Modo de visualização de imagem",modes:{camera:"Instantâneo da câmera do Home Assistant, da entidade de câmera",screensaver:"Logo Frigate embutido",url:"Imagem arbitrária especificada por URL"},refresh_seconds:"Número de segundos após o qual atualizar (0 = nunca)",url:"Imagem arbitrária especificada por URL"},live:{auto_mute:"Silenciar câmeras ao vivo automaticamente",auto_pause:"Pausar câmeras ao vivo automaticamente",auto_play:"Reproduzir câmeras ao vivo automaticamente",auto_unmute:"Ativar automaticamente o som das câmeras ao vivo",controls:{next_previous:{size:"Tamanho de controle próximo e anterior na visualização ao vivo (por exemplo, '48px')",style:"Estilo do controle próximo e anterior na visualização ao vivo",styles:{chevrons:"Setas",icons:"Ícones",none:"Nenhum"}},options:"Controles da visualização ao vivo",thumbnails:{media:"Se deve mostrar miniaturas de clipes ou snapshots",medias:{clips:"Miniaturas de clipes",snapshots:"Miniaturas de Snapshots"},mode:"Miniaturas do modo ao vivo",show_details:"Mostrar detalhes do evento com miniaturas",show_favorite_control:"Mostrar controle de favorito nas miniaturas",show_timeline_control:"Mostrar controle da linha do tempo nas miniaturas",size:"Tamanho das miniaturas ao vivo (e.g. '100px')"},title:{duration_seconds:"Segundos para exibir o pop-up na visualização ao vivo (0 = para sempre)",mode:"Modo de exibição de título de mídia ao vivo"}},draggable:"A visualização ao vivo das câmeras pode ser arrastada/deslizada",lazy_load:"As câmeras ao vivo são carregadas lentamente",lazy_unload:"As câmeras ao vivo são descarregadas preguiçosamente",preload:"Pré-carregar a visualização ao vivo em segundo plano",show_image_during_load:"",transition_effect:"Efeito de transição de câmera ao vivo"},media_viewer:{auto_mute:"Silenciar mídia automaticamente",auto_pause:"Pausar mídia automaticamente",auto_play:"Reproduzir mídia automaticamente",auto_unmute:"Ativar mídia automaticamente",controls:{next_previous:{size:"Tamanho do controle próximo e anterior do Visualizador de eventos (por exemplo, '48px')",style:"Estilo do controle próximo e anterior do Visualizador de eventos",styles:{chevrons:"Setas",none:"Nenhum",thumbnails:"Miniaturas"}},options:"Controles do visualizador de mídia",thumbnails:{mode:"Modo de miniaturas do Visualizador de eventos",modes:{above:"Miniaturas acima da mídia",below:"Miniaturas abaixo da mídia",left:"Miniaturas em uma gaveta à esquerda da mídia",none:"Sem miniaturas",right:"Miniaturas em uma gaveta à direita da mídia"},show_details:"Mostrar detalhes com miniaturas",show_favorite_control:"Mostrar controle de favorito nas miniaturas",show_timeline_control:"Mostrar controle da linha do tempo nas miniaturas",size:"Tamanho das miniaturas do Visualizador de eventos (por exemplo, '100px')"},title:{duration_seconds:"Segundos de exibição do pop-up no Visualizador de Eventos (0 = para sempre)",mode:"Modo de exibição de título de mídia do Visualizador de eventos",modes:{none:"Sem exibição de título","popup-bottom-left":"Pop-up no canto inferior esquerdo","popup-bottom-right":"Pop-up no canto inferior direito","popup-top-left":"Pop-up no canto superior esquerdo","popup-top-right":"Pop-up no canto superior direito"}}},draggable:"Visualizador de eventos pode ser arrastado/deslizado",lazy_load:"A mídia do Visualizador de eventos é carregada lentamente no carrossel",transition_effect:"Efeito de transição do Visualizador de eventos",transition_effects:{none:"Sem transição",slide:"Transição de slides"}},menu:{alignment:"Alinhamento do menu",alignments:{bottom:"Alinhado à parte inferior",left:"Alinhado à esquerda",right:"Alinhado à direita",top:"Alinhado ao topo"},button_size:"Tamanho do botão de menu (e.g. '40px')",buttons:{alignment:"Alinhamento do botão",alignments:{matching:"Mesmo alinhamento do menu",opposing:"Opor-se ao alinhamento do menu"},cameras:"Selecionar câmera",clips:"Clipes",download:"Baixe a mídia do evento",enabled:"Botão ativado",frigate:"Frigate menu / Visualização padrão",frigate_ui:"Frigate Interface de usuário",fullscreen:"Tela cheia",icon:"Ícone",image:"Imagem",live:"Ao vivo",media_player:"Enviar para o reprodutor de mídia",priority:"Prioridade",snapshots:"Instantâneos",timeline:"Linha do tempo"},position:"Posição do menu",positions:{bottom:"Posicionado na parte inferior",left:"Posicionado à esquerda",right:"Posicionado à direita",top:"Posicionado no topo"},style:"Estilo do menu",styles:{hidden:"Menu oculto",hover:"Menu suspenso",none:"Sem menu",outside:"Menu externo",overlay:"Menu sobreposto"}},overrides:{info:"Esta configuração do cartão especificou manualmente as substituições configuradas que podem substituir os valores mostrados no editor visual, consulte o editor de código para visualizar/modificar essas substituições"},timeline:{clustering_threshold:"A contagem de eventos nos quais eles são agrupados (0 = sem agrupamento)",controls:{options:"Controles de linha do tempo",thumbnails:{mode:"Modo de miniaturas da linha do tempo",show_details:"Mostrar detalhes do evento com miniaturas",show_favorite_control:"Mostrar controle de favorito nas miniaturas",show_timeline_control:"Mostrar controle da linha do tempo nas miniaturas",size:"Tamanho das miniaturas da linha do tempo em pixels"}},media:"A mídia que a linha do tempo exibe",medias:{all:"Todos os tipos de mídia",clips:"Clipes",snapshots:"Instantâneos"},show_recordings:"Mostrar gravações",window_seconds:"A duração padrão da visualização da linha do tempo em segundos"},view:{camera_select:"Visualização de câmeras recém-selecionadas",dark_mode:"Modo escuro",dark_modes:{auto:"Automático",off:"Desligado",on:"Ligado"},default:"Visualização padrão",scan:{enabled:"Modo scan ativado",scan_mode:"Modo scan",show_trigger_status:"Pulsar borda quando acionado",untrigger_reset:"Redefinir a visualização para o padrão após desacionar",untrigger_seconds:"Segundos após a mudar para o estado inativo para desacionar"},timeout_seconds:"Redefinir para a visualização padrão X segundos após a ação do usuário (0 = nunca)",update_cycle_camera:"Percorrer as câmeras quando a visualização padrão for atualizada",update_force:"Forçar atualizações do cartão (ignore a interação do usuário)",update_seconds:"Atualize a visualização padrão a cada X segundos (0 = nunca)",views:{clip:"Clipe mais recente",clips:"Galeria de clipes",current:"Visualização atual",image:"Imagem estática",live:"Visualização ao vivo",snapshot:"Snapshot mais recente",snapshots:"Galeria de Snapshots",timeline:"Visualização da linha do tempo"}}},Ag={add_new_camera:"Adicionar nova câmera",button:"Botão",camera:"Câmera",cameras:"Câmeras",cameras_secondary:"Quais câmeras renderizar neste cartão",delete:"Excluir",dimensions:"Dimensões",dimensions_secondary:"Dimensões e opções de forma",event_gallery:"Galeria de eventos",event_gallery_secondary:"Opções da galeria de Snapshots e clipes",image:"Imagem",image_secondary:"Opções de visualização de imagem estática",live:"Ao vivo",live_secondary:"Opções de visualização da câmera ao vivo",media_viewer:"Visualizador de eventos",media_viewer_secondary:"Opções do visualizador de Snapshots e clipes",menu:"Menu",menu_secondary:"Opções de aparência do menu",move_down:"Descer",move_up:"Subir",overrides:"As substituições estão ativas",overrides_secondary:"Substituições de configuração dinâmica detectadas",timeline:"Linha do tempo",timeline_secondary:"Opções do evento da linha do tempo",upgrade:"Upgrade",upgrade_available:"Um upgrade automático da configuração de cartão está disponível",view:"Visualizar",view_secondary:"O que o cartão deve mostrar e como mostrá-lo"},pg={could_not_render_elements:"Não foi possível renderizar os elementos da imagem",could_not_resolve:"Não foi possível resolver o URL de mídia",diagnostics:"Diagnósticos do cartão. Revise as informações confidenciais antes de compartilhar",download_no_event_id:"Não foi possível extrair o Frigate ID do evento da mídia",download_no_media:"Nenhuma mídia para download",download_sign_failed:"Não foi possível assinar o URL de mídia para download",duplicate_camera_id:"Duplique o ID da câmera Frigate para a câmera a seguir, use o parâmetro 'id' para identificar exclusivamente as câmeras",empty_response:"Sem resposta do Home Assistant para a solicitação",failed_response:"Falha ao receber resposta do Home Assistant para solicitação",failed_retain:"Não foi possível reter o evento",failed_sign:"Não foi possível assinar a URL do Home Assistant",image_load_error:"A imagem não pôde ser carregada",invalid_configuration:"Configuração inválida",invalid_configuration_no_hint:"Nenhuma dica de local disponível (tipo incorreto ou ausente?)",invalid_elements_config:"Configuração de elementos de imagem inválida",invalid_response:"Resposta inválida recebida do Home Assistant para a solicitação",jsmpeg_no_player:"Não foi possível iniciar o player JSMPEG",jsmpeg_no_sign:"Não foi possível recuperar ou assinar o caminho do websocket JSMPEG",live_camera_not_found:"",live_camera_unavailable:"",no_camera_id:"Não foi possível determinar o ID da câmera para a câmera a seguir, pode ser necessário definir o parâmetro 'id' manualmente",no_camera_name:"Não foi possível determinar o nome da câmera da Frigate, especifique 'camera_entity' ou 'camera_name' para a câmera a seguir",no_cameras:"Nenhuma câmera válida encontrada, você deve configurar pelo menos uma câmera",no_live_camera:"O parâmetro camera_entity deve ser definido e válido para este provedor ativo",reconnecting:"Reconectando",timeline_no_cameras:"Nenhuma câmera do Frigate para mostrar na linha do tempo",troubleshooting:"Verifique a solução de problemas",unknown:"Erro desconhecido",upgrade_available:"Uma atualização automatizada da configuração do cartão está disponível, visite o editor visual do cartão",webrtc_card_reported_error:"O cartão WebRTC relatou um erro",webrtc_card_waiting:"Aguardando o cartão WebRTC carregar ..."},mg={duration:"Duração",in_progress:"Em andamento",score:"Pontuação",start:"Início"},gg={events:"Eventos",seek:"Procurar"},fg={no_thumbnail:"Nenhuma miniatura disponível",retain_indefinitely:"Evento será retido por tempo indeterminado",timeline:"Ver evento na linha do tempo"},vg={common:hg,config:ug,editor:Ag,error:pg,event:mg,recording:gg,thumbnail:fg},bg={frigate_card:"Frigate card",frigate_card_description:"Una scheda Lovelace per l'uso con Frigate",live:"Live",no_clip:"Nessuna clip recente",no_clips:"Nessun clip",no_snapshot:"Nessuna istantanea recente",no_snapshots:"Nessuna istantanea",recordings:"Registrazioni",version:"Versione"},yg={cameras:{camera_entity:"Entità della telecamera",dependencies:{all_cameras:"Mostra eventi per tutte le telecamere con questa telecamera",cameras:"Mostra eventi per telecamere specifiche con questa telecamera",options:"Opzioni di dipendenza"},frigate:{camera_name:"Nome della telecamera frigate (autodificato dall'entità)",client_id:"ID client Frigate (per > 1 Frigate server)",label:"Filtro etichetta/oggetto Frigate",options:"Frigate Opzione",url:"Frigate URL del server",zone:"Frigate zona"},icon:"Icona per questa telecamera (Autoidentificato dall'entità)",id:"ID univoco per questa telecamera in questa carta",live_provider:"Provider di visualizzazione dal vivo per questa telecamera",live_providers:{auto:"Automatica","frigate-jsmpeg":"Frigate JSMpeg",ha:"Home Assistant (ovvero HLS, LL-HLS, WebRTC nativo)","webrtc-card":"Scheda WebRTC (ovvero la scheda WebRTC di Alexxit)"},title:"Titolo per questa telecamera (Autoidentificato dall'entità)",triggers:{entities:"Trigger da altre entità",motion:"Trigger rilevando automaticamente dal sensore di movimento",occupancy:"Attivare rilevando automatico tramite il sensore di presenza",options:"Trigger Opzioni"},webrtc_card:{entity:"Entità della telecamera della scheda WebRTC (non una telecamera Frigate)",options:"Opzioni della scheda WebRTC",url:"URL della telecamera della scheda WebRTC"}},common:{media_action_conditions:{all:"Tutte le opportunità",hidden:"Sul browser/nascondere le schede",never:"Mai",selected:"Sulla selezione",unselected:"Sulla non selezione",visible:"Sul browser/visibilità della scheda"}},dimensions:{aspect_ratio:"Proporzioni predefinite (ad es. '16:9')",aspect_ratio_mode:"Modalità proporzioni",aspect_ratio_modes:{dynamic:"Le proporzioni si adattano ai media",static:"Proporzioni statiche",unconstrained:"Proporzioni non vincolate"}},event_gallery:{controls:{options:"Controlli della galleria degli eventi",thumbnails:{show_details:"Mostra i dettagli dell'evento con le miniature",show_favorite_control:"Mostra il controllo preferito sulle miniature",show_timeline_control:"Mostra il controllo della sequenza temporale sulle miniature",size:"Dimensione delle miniature della galleria di eventi nei pixel"}}},image:{mode:"Modalità Visualizza immagine",modes:{camera:"Istantanea della telecamera di Home Assistant dell'entità telecamera",screensaver:"Logo Frigate incorporato",url:"Immagine arbitraria specificata dall'URL"},refresh_seconds:"Numero di secondi dopo i quali aggiornare (0 = mai)",url:"URL di immagine statica per la vista dell'immagine"},live:{auto_mute:"Muta automaticamente le telecamere in diretta",auto_pause:"Metti in pausa automaticamente le telecamere in diretta",auto_play:"Gioca automaticamente le telecamere dal vivo",auto_unmute:"Riattiva automaticamente l'audio delle telecamere live",controls:{next_previous:{size:"Vista live Successiva e Precedenti dimensioni di controllo nei pixel",style:"Stile di controllo successivo e precedente della vista dal vivo",styles:{chevrons:"Chevrons",icons:"Icone",none:"Icone"}},options:"Controlli dal vivo",thumbnails:{media:"Se mostrare miniature di clip o istantanee",medias:{clips:"Miniature di clip",snapshots:"Miniature istantanee"},mode:"Modalità di miniatura dal vivo",show_details:"Mostra i dettagli dell'evento con le miniature",show_favorite_control:"Mostra il controllo preferito sulle miniature",show_timeline_control:"Mostra il controllo della sequenza temporale sulle miniature",size:"Dimensione delle miniature dal vivo nei pixel"},title:{duration_seconds:"Secondi per visualizzare il titolo popup (0 = per sempre)",mode:"Modalità di visualizzazione del titolo multimediale dal vivo"}},draggable:"Il Visualizzatore eventi può essere trascinato oppure puoi scorrere",lazy_load:"Le telecamere dal vivo sono pigramente cariche",lazy_unload:"Le telecamere dal vivo sono pigramente non caricate",preload:"Precarica Live View in background",show_image_during_load:"",transition_effect:"Effetto di transizione della telecamera dal vivo"},media_viewer:{auto_mute:"Muta automaticamente i media",auto_pause:"Metti in Pausa automaticamente i media",auto_play:"Riproduci automaticamente i contenuti multimediali",auto_unmute:"Riattiva automaticamente i contenuti multimediali",controls:{next_previous:{size:"Media Viewer successivo e precedente controllo dimensione in pixel",style:"Visualizzatore multimediale successivo e stile di controllo precedente",styles:{chevrons:"chevrons",none:"Nessuno",thumbnails:"Miniature"}},options:"Controlli di visualizzatore multimediale",thumbnails:{mode:"Modalità miniature del visualizzatore multimediale",modes:{above:"Miniature sopra i media",below:"Miniature sotto i media",left:"Miniature in un cassetto a sinistra del supporto",none:"Nessuna miniatura",right:"Miniature in un cassetto a destra dei media"},show_details:"Mostra i dettagli con le miniature",show_favorite_control:"Mostra il controllo preferito sulle miniature",show_timeline_control:"Mostra il controllo della sequenza temporale sulle miniature",size:"Dimensioni delle miniature di Media Viewer in pixel"},title:{duration_seconds:"Secondi per visualizzare il titolo popup (0 = per sempre)",mode:"Media Viewer modalità di visualizzazione del titolo multimediale",modes:{none:"Nessuna visualizzazione del titolo","popup-bottom-left":"Popup in basso a sinistra","popup-bottom-right":"Popup in basso a destra","popup-top-left":"Popup in alto a sinistra","popup-top-right":"Popup in alto a destra"}}},draggable:"Il visualizzatore multimediale può essere trascinato oppure può scorrere",lazy_load:"Il media Viewer viene caricato pigramente nel carosello",transition_effect:"Effetto di transizione del visualizzatore multimediale",transition_effects:{none:"Nessuna transizione",slide:"Transizione diapositiva"}},menu:{alignment:"Allineamento dei menu",alignments:{bottom:"Allineato al fondo",left:"Allineato a sinistra",right:"Allineato a destra",top:"Allineato in cima"},button_size:"Dimensione del pulsante menu in pixel",buttons:{alignment:"Allineamento dei pulsanti",alignments:{matching:"Corrispondenza con l'allineamento del menu",opposing:"Contrastare l'allineamento del menu"},cameras:"Telecamere",clips:"Clip",download:"Download",enabled:"Pulsante abilitato",frigate:"Frigate menu / Visualizzazione predefinita",frigate_ui:"Frigate interfaccia utente",fullscreen:"A schermo intero",icon:"Icona",image:"Immagine",live:"Abitare",media_player:"Invia a Media Player",priority:"Priorità",snapshots:"Istantanee",timeline:"Timeline"},position:"Posizione del menu",positions:{bottom:"Posizionato sul fondo",left:"Posizionato a sinistra",right:"Posizionato a destra",top:"Posizionato in alto"},style:"Stile menu",styles:{hidden:"Menu nascosto",hover:"Menu al passaggio del mouse",none:"Nessun menu",outside:"Menu esterno",overlay:"Menu di overlay"}},overrides:{info:"Questa configurazione della scheda ha specificato manualmente le sostituzioni configurate che possono sostituire i valori mostrati nell'editor visivo, consultare l'editor di codice per visualizzare/modificare queste sostituzioni"},timeline:{clustering_threshold:"Il conteggio degli eventi in cui sono raggruppati (0 = nessun clustering)",controls:{options:"Controlli della sequenza temporale",thumbnails:{mode:"Modalità miniatura della sequenza temporale",show_details:"Mostra i dettagli dell'evento con le miniature",show_favorite_control:"Mostra il controllo preferito sulle miniature",show_timeline_control:"Mostra il controllo della sequenza temporale sulle miniature",size:"Dimensione delle miniature della sequenza temporale in pixel"}},media:"I media vengono visualizzati la sequenza temporale",medias:{all:"Tutti i tipi di media",clips:"Clip",snapshots:"Istantanee"},show_recordings:"Mostra registrazioni",window_seconds:"La lunghezza predefinita della vista della sequenza temporale in secondi"},view:{camera_select:"Visualizza per le telecamere appena selezionate",dark_mode:"Tema scuro",dark_modes:{auto:"auto",off:"Off",on:"On"},default:"Visualizzazione predefinita",scan:{enabled:"Modalità di scansione abilitata",scan_mode:"Modalità di scansione",show_trigger_status:"Mostra bordo pulsante quando attivato",untrigger_reset:"Reset the view to default after untrigger",untrigger_seconds:"Reimposta la vista ai valori predefiniti dopo aver annullato l'attivazione"},timeout_seconds:"Ripristina la vista predefinita x secondi dopo l'azione dell'utente (0 = mai)",update_cycle_camera:"Scorri le telecamere quando si aggiorna la visualizzazione predefinita",update_force:"Aggiornamenti della scheda forza (ignora l'interazione dell'utente)",update_seconds:"Aggiorna la visualizzazione predefinita ogni x secondi (0 = mai)",views:{clip:"Clip più recente",clips:"Galleria delle clip",current:"Vista corrente",image:"Immagine statica",live:"Dal vivo",snapshot:"Snapshot più recente",snapshots:"Galleria delle istantanee",timeline:"Vista della timeline"}}},_g={add_new_camera:"Aggiungi nuova telecamera",button:"Pulsante",camera:"Telecamera",cameras:"Telecamere",cameras_secondary:"Quali telecamere visualizzare su questa card",delete:"Elimina",dimensions:"Dimensioni",dimensions_secondary:"Dimensioni e opzioni di forma",event_gallery:"Galleria degli eventi",event_gallery_secondary:"Opzioni della galleria di istantanee e clips",image:"Immagine",image_secondary:"Opzioni di visualizzazione dell'immagine statica",live:"Live",live_secondary:"Opzioni di visualizzazione della telecamera live",media_viewer:"Visualizzatore dei media",media_viewer_secondary:"Visualizzatore per supporti statici (clip, istantanee o registrazioni)",menu:"Menu",menu_secondary:"Opzioni di aspetto e funzionalità del menu",move_down:"Sposta verso il basso",move_up:"Sposta verso l'alto",overrides:"La sovrascrittura è attiva",overrides_secondary:"Rilevate sovrascritture della configurazione dinamica",timeline:"Timeline",timeline_secondary:"Opzioni della timeline degli eventi",upgrade:"Aggiornamento",upgrade_available:"È disponibile un aggiornamento della configurazione della scheda automatica",view:"Visualizzazione",view_secondary:"Cosa dovrebbe mostrare la carta e come mostrarla"},wg={could_not_render_elements:"Impossibile renderizzare gli elementi dell'immagine",could_not_resolve:"Impossibile risolvere l'URL dei media",diagnostics:"Diagnostica delle carte.Si prega di rivedere per informazioni riservate prima di condividere",download_no_event_id:"Impossibile estrarre l'evento ID tramite media",download_no_media:"Nessun media da scaricare",download_sign_failed:"Impossibile firmare URL multimediale per il download",duplicate_camera_id:"Duplicato ID dellla telecamera Frigate, utilizzare il parametro 'ID' per identificare in modo univoco le telecamere",empty_response:"Ricevuto risposta vuota da Home Assistant per la richiesta",failed_response:"Impossibile ricevere risposta da Home Assistant per la richiesta",failed_retain:"Impossibile conservare l'evento",failed_sign:"Impossibile firmare l'URL ad Home Assistant",image_load_error:"L'immagine non può essere caricata",invalid_configuration:"Configurazione non valida",invalid_configuration_no_hint:"Nessun suggerimento di posizione disponibile (tipo difettoso o mancante?)",invalid_elements_config:"Configurazione degli elementi di immagine non valida",invalid_response:"Ricevuta una risposta non valida da Home Assistant per la richiesta",jsmpeg_no_player:"Impossibile avviare JSMPEG Player",jsmpeg_no_sign:"Impossibile recuperare o firmare il percorso WebSocket JSMPEG",live_camera_not_found:"La telecamera configurata non è stata trovata",live_camera_unavailable:"Telecamera non disponibile",no_camera_id:"Impossibile determinare l'ID della telecamera , potrebbe essere necessario impostare manualmente il parametro 'ID'",no_camera_name:"Impossibile determinare un nome della telecamera in Frigate, si prega di specificare 'camera_enty' o 'camera_name'",no_cameras:"Nessuna telecamera valida trovata, è necessario configurare almeno una voce della telecamera",no_live_camera:"Il parametro fotocamera_enty deve essere impostato e valido per questo provider live",reconnecting:"Riconnessione",timeline_no_cameras:"Nessuna telecamera damostrare in Frigate nella timeline",troubleshooting:"Controllare la risoluzione dei problemi",unknown:"Errore sconosciuto",upgrade_available:"È disponibile un aggiornamento di configurazione della scheda automatizzato, visitare l'editor di schede visive",webrtc_card_reported_error:"La scheda WebRTC ha riportato un errore",webrtc_card_waiting:"Aspettando che la scheda WebRTC si carichi ..."},Cg={duration:"Durata",in_progress:"In corso",score:"Punteggio",start:"Avvia"},Ig={events:"Eventi",seek:"Cercare"},Eg={no_thumbnail:"Nessuna miniatura disponibile",retain_indefinitely:"L'evento sarà mantenuto indefinitamente",timeline:"Vedi evento nella timeline"},xg={common:bg,config:yg,editor:_g,error:wg,event:Cg,recording:Ig,thumbnail:Eg};const Bg={en:Object.freeze({__proto__:null,common:ig,config:ng,editor:og,error:rg,event:sg,recording:ag,thumbnail:lg,elements:dg,default:cg}),pt_BR:Object.freeze({__proto__:null,common:hg,config:ug,editor:Ag,error:pg,event:mg,recording:gg,thumbnail:fg,default:vg}),it:Object.freeze({__proto__:null,common:bg,config:yg,editor:_g,error:wg,event:Cg,recording:Ig,thumbnail:Eg,default:xg})};function kg(){const t=t=>t?t.replace("-","_"):null;let e=null;const i=localStorage.getItem("selectedLanguage");if(i){const n=t(JSON.parse(i));n&&(e=n)}if(!e)for(const i of navigator.languages){const n=t(i);n&&n in Bg&&(e=i)}return e||"en"}function Sg(t,e="",i=""){const n=kg();let o;try{o=t.split(".").reduce(((t,e)=>t[e]),Bg[n])}catch(e){o=t.split(".").reduce(((t,e)=>t[e]),Bg.en)}return o||(o=t.split(".").reduce(((t,e)=>t[e]),Bg.en)),""!==e&&""!==i&&(o=o.replace(e,i)),o}function Dg(t,e,i){t.dispatchEvent(new CustomEvent(`frigate-card:${e}`,{bubbles:!0,composed:!0,detail:i}))}function Qg(t){if(!t)return;return t.split(/[_\s]+/).map((t=>t[0].toUpperCase()+t.substring(1))).join(" ")}function Mg(t,e,i){const n=t[e];t.splice(e,1),t.splice(i,0,n)}function Tg(t,e){return!Yl(t,e)}function Og(t,e){e||(e=console.warn),t instanceof fp&&t.context?e(t,t.context):e(t)}const Rg=()=>window.matchMedia("(hover: hover) and (pointer: fine)").matches,Pg="https://github.com/dermotduffy/frigate-hass-card",Ng=`${Pg}#troubleshooting`;var Fg=':host {\n  min-height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  user-select: text;\n  -webkit-user-select: text;\n  color: var(--primary-text-color);\n}\n\ndiv.wrapper {\n  height: 100%;\n}\n\ndiv.message {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 20px;\n  height: 100%;\n}\n\ndiv.message div.contents {\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n  margin-top: auto;\n  margin-bottom: auto;\n  min-width: 0;\n}\n\ndiv.message div.icon {\n  padding: 10px;\n}\n\n.vertical {\n  flex-direction: column;\n}\n\n.message a {\n  color: var(--primary-text-color, white);\n  word-break: break-word;\n}\n\n.message pre {\n  margin-top: 20px;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.dotdotdot:after {\n  animation: dots 2s linear infinite;\n  content: "";\n  display: inline-block;\n  width: 3em;\n}\n@keyframes dots {\n  0%, 20% {\n    content: ".";\n  }\n  40% {\n    content: "..";\n  }\n  60% {\n    content: "...";\n  }\n  90%, 100% {\n    content: "";\n  }\n}';let Lg=class extends gt{constructor(){super(...arguments),this.message=""}render(){const t=this.icon?this.icon:"mdi:information-outline",e={dotdotdot:!!this.dotdotdot};return K` <div class="wrapper">
      <div class="message">
        <div class="icon">
          <ha-icon icon="${t}"> </ha-icon>
        </div>
        <div class="contents">
          <span class="${Dt(e)}">
            ${this.message?K`${this.message}${this.context&&"string"==typeof this.context?": "+this.context:""}`:""}
          </span>
          ${this.context&&"string"!=typeof this.context?K`<pre>${JSON.stringify(this.context,null,2)}</pre>`:""}
        </div>
      </div>
    </div>`}static get styles(){return _(Fg)}};t([yt({attribute:!1})],Lg.prototype,"message",void 0),t([yt({attribute:!1})],Lg.prototype,"context",void 0),t([yt({attribute:!1})],Lg.prototype,"icon",void 0),t([yt({attribute:!0,type:Boolean})],Lg.prototype,"dotdotdot",void 0),Lg=t([vt("frigate-card-message")],Lg);let jg=class extends gt{render(){if(this.message)return K` <frigate-card-message
      .message=${K` ${this.message.message}.
        <a href="${Ng}"> ${Sg("error.troubleshooting")}</a>.`}
      .icon=${"mdi:alert-circle"}
      .context=${this.message.context}
      .dotdotdot=${this.message.dotdotdot}
    >
    </frigate-card-message>`}static get styles(){return _(Fg)}};t([yt({attribute:!1})],jg.prototype,"message",void 0),jg=t([vt("frigate-card-error-message")],jg);let zg=class extends gt{constructor(){super(...arguments),this.message=""}render(){return K` <div class="message vertical">
      <span>
        <ha-circular-progress active="true" size="large"> </ha-circular-progress>
      </span>
      ${this.message?K`<span>${this.message}</span>`:K``}
    </div>`}static get styles(){return _(Fg)}};function Ug(t){return K`
    <frigate-card-progress-indicator .message=${t||""}>
    </frigate-card-progress-indicator>
  `}function Hg(t,e,i,n){Dg(t,"message",{message:e,type:i,icon:null==n?void 0:n.icon,context:null==n?void 0:n.context})}function Gg(t,e,i){Hg(t,e,"error",{context:null==i?void 0:i.context})}function qg(t,e){Gg(t,e.message,{context:e.context})}t([yt({attribute:!1})],zg.prototype,"message",void 0),zg=t([vt("frigate-card-progress-indicator")],zg);let Yg=class extends gt{constructor(){super(...arguments),this._root=null}createRenderRoot(){return this}_createRoot(){const t=customElements.get("hui-conditional-element");if(!t||!this.hass)throw new Error(Sg("error.could_not_render_elements"));const e=new t;e.hass=this.hass;const i={type:"conditional",conditions:[],elements:this.elements};try{e.setConfig(i)}catch(t){throw console.error(t),new fp(Sg("error.invalid_elements_config"))}return e}willUpdate(t){try{!this.elements||this._root&&!t.has("elements")||(this._root=this._createRoot())}catch(t){return qg(this,t)}}render(){return K`${this._root||""}`}updated(){this.hass&&this._root&&(this._root.hass=this.hass)}};t([yt({attribute:!1})],Yg.prototype,"elements",void 0),t([yt({attribute:!1})],Yg.prototype,"conditionState",void 0),t([yt({attribute:!1})],Yg.prototype,"hass",void 0),Yg=t([vt("frigate-card-elements-core")],Yg);let $g=class extends gt{constructor(){super(...arguments),this._boundMenuRemoveHandler=this._menuRemoveHandler.bind(this)}_menuRemoveHandler(t){Dg(this,"menu-remove",t.detail)}_menuAddHandler(t){const e=t.composedPath();e.length&&(e[0].removeEventListener("frigate-card:menu-remove",this._boundMenuRemoveHandler),e[0].addEventListener("frigate-card:menu-remove",this._boundMenuRemoveHandler))}connectedCallback(){super.connectedCallback(),this.addEventListener("frigate-card:menu-add",this._menuAddHandler)}disconnectedCallback(){this.removeEventListener("frigate-card:menu-add",this._menuAddHandler),super.disconnectedCallback()}render(){return K` <frigate-card-elements-core
      .hass=${this.hass}
      .conditionState=${this.conditionState}
      .elements=${this.elements}
    >
    </frigate-card-elements-core>`}static get styles(){return _(":host {\n  position: absolute;\n  inset: 0;\n  overflow: hidden;\n  pointer-events: none;\n}\n\n.element {\n  position: absolute;\n  transform: translate(-50%, -50%);\n  pointer-events: auto;\n}\n\nhui-error-card.element {\n  inset: 0px;\n  transform: unset;\n}")}};t([yt({attribute:!1})],$g.prototype,"hass",void 0),t([yt({attribute:!1})],$g.prototype,"conditionState",void 0),t([yt({attribute:!1})],$g.prototype,"elements",void 0),$g=t([vt("frigate-card-elements")],$g);let Wg=class extends gt{setConfig(t){this._config=t}createRenderRoot(){return this}connectedCallback(){super.connectedCallback(),this.className=""}render(){if(function(t,e){if(!e)return!0;const i=new Xm("frigate-card:condition-state-request",{bubbles:!0,composed:!0});return t.dispatchEvent(i),tg(e,i.conditionState)}(this,this._config.conditions))return K` <frigate-card-elements-core
        .hass=${this.hass}
        .elements=${this._config.elements}
      >
      </frigate-card-elements-core>`}};t([yt({attribute:!1,hasChanged:()=>!0})],Wg.prototype,"hass",void 0),Wg=t([vt("frigate-card-conditional")],Wg);class Vg extends gt{constructor(){super(...arguments),this._config=null}setConfig(t){this._config=t}connectedCallback(){super.connectedCallback(),this._config&&Dg(this,"menu-add",this._config)}disconnectedCallback(){this._config&&Dg(this,"menu-remove",this._config),super.disconnectedCallback()}}t([_t()],Vg.prototype,"_config",void 0);let Jg=class extends Vg{};Jg=t([vt("frigate-card-menu-icon")],Jg);let Kg=class extends Vg{};Kg=t([vt("frigate-card-menu-state-icon")],Kg);let Zg=class extends Vg{};Zg=t([vt("frigate-card-menu-submenu")],Zg);let Xg=class extends Vg{};Xg=t([vt("frigate-card-menu-submenu-select")],Xg);let tf=class extends gt{constructor(){super(...arguments),this._config=null}setConfig(t){this._config=t}willUpdate(t){var e,i;t.has("_config")&&this.setAttribute("data-orientation",null!==(i=null===(e=this._config)||void 0===e?void 0:e.orientation)&&void 0!==i?i:"vertical")}_actionHandler(t,e){t.stopPropagation();const i=t.detail.action,n=Ym(i,e);e&&n&&this.hass&&$m(this,this.hass,e,i,n)}render(){if(!this._config)return;const t=(t,e,i)=>{const n=Wm(null==i?void 0:i.hold_action),o=Wm(null==i?void 0:i.double_tap_action);return K`<ha-icon
        class=${Dt({[t]:!0,disabled:!i})}
        icon=${e}
        .actionHandler=${Zm({hasHold:n,hasDoubleClick:o})}
        .title=${Sg(`elements.ptz.${t}`)}
        @action=${t=>this._actionHandler(t,i)}
      ></ha-icon>`};return K` <div class="ptz">
      <div class="ptz-move">
        ${t("right","mdi:arrow-right",this._config.actions_right)}
        ${t("left","mdi:arrow-left",this._config.actions_left)}
        ${t("up","mdi:arrow-up",this._config.actions_up)}
        ${t("down","mdi:arrow-down",this._config.actions_down)}
      </div>
      ${this._config.actions_zoom_in||this._config.actions_zoom_out?K` <div class="ptz-zoom">
            ${t("zoom_in","mdi:plus",this._config.actions_zoom_in)}
            ${t("zoom_out","mdi:minus",this._config.actions_zoom_out)}
          </div>`:K``}
      ${this._config.actions_home?K`
            <div class="ptz-home">
              ${t("home","mdi:home",this._config.actions_home)}
            </div>
          `:K``}
    </div>`}static get styles(){return _(":host {\n  position: relative;\n  width: fit-content;\n  height: fit-content;\n  --frigate-card-ptz-icon-size: 24px;\n}\n\n/*****************\n * Main Containers\n *****************/\n.ptz {\n  display: flex;\n  gap: 10px;\n  color: var(--light-primary-color);\n  opacity: 0.4;\n  transition: opacity 0.3s ease-in-out;\n}\n\n:host([data-orientation=vertical]) .ptz {\n  flex-direction: column;\n}\n\n:host([data-orientation=horizontal]) .ptz {\n  flex-direction: row;\n}\n\n.ptz:hover {\n  opacity: 1;\n}\n\n:host([data-orientation=vertical]) .ptz div {\n  width: calc(var(--frigate-card-ptz-icon-size) * 3);\n}\n\n:host([data-orientation=horizontal]) .ptz div {\n  height: calc(var(--frigate-card-ptz-icon-size) * 3);\n}\n\n.ptz-move,\n.ptz-zoom,\n.ptz-home {\n  position: relative;\n  background-color: rgba(0, 0, 0, 0.3);\n}\n\n.ptz-move {\n  height: calc(var(--frigate-card-ptz-icon-size) * 3);\n  width: calc(var(--frigate-card-ptz-icon-size) * 3);\n  border-radius: 50%;\n}\n\n:host([data-orientation=horizontal]) .ptz .ptz-zoom,\n:host([data-orientation=horizontal]) .ptz .ptz-home {\n  width: calc(var(--frigate-card-ptz-icon-size) * 1.5);\n}\n\n:host([data-orientation=vertical]) .ptz .ptz-zoom,\n:host([data-orientation=vertical]) .ptz .ptz-home {\n  height: calc(var(--frigate-card-ptz-icon-size) * 1.5);\n}\n\n.ptz-zoom,\n.ptz-home {\n  border-radius: var(--ha-card-border-radius, 4px);\n}\n\n/***********\n * PTZ Icons\n ***********/\nha-icon {\n  position: absolute;\n  --mdc-icon-size: var(--frigate-card-ptz-icon-size);\n}\n\nha-icon:not(.disabled) {\n  cursor: pointer;\n}\n\n.disabled {\n  color: var(--disabled-text-color);\n}\n\n.up {\n  top: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.down {\n  bottom: 5px;\n  left: 50%;\n  transform: translateX(-50%);\n}\n\n.left {\n  left: 5px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.right {\n  right: 5px;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n:host([data-orientation=vertical]) .zoom_in {\n  right: 5px;\n  top: 50%;\n}\n\n:host([data-orientation=vertical]) .zoom_out {\n  left: 5px;\n  top: 50%;\n}\n\n:host([data-orientation=horizontal]) .zoom_in {\n  left: 50%;\n  top: 5px;\n}\n\n:host([data-orientation=horizontal]) .zoom_out {\n  left: 50%;\n  bottom: 5px;\n}\n\n:host([data-orientation=vertical]) .zoom_in,\n:host([data-orientation=vertical]) .zoom_out {\n  transform: translateY(-50%);\n}\n\n:host([data-orientation=horizontal]) .zoom_in,\n:host([data-orientation=horizontal]) .zoom_out {\n  transform: translateX(-50%);\n}\n\n.home {\n  top: 50%;\n  left: 50%;\n  transform: translateX(-50%) translateY(-50%);\n}")}};t([yt({attribute:!1})],tf.prototype,"hass",void 0),t([_t()],tf.prototype,"_config",void 0),tf=t([vt("frigate-card-ptz")],tf);function ef(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function nf(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function of(t){nf(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function rf(t,e){nf(2,arguments);var i=of(t),n=ef(e);return isNaN(n)?new Date(NaN):n?(i.setDate(i.getDate()+n),i):i}function sf(t,e){nf(2,arguments);var i=of(t),n=ef(e);if(isNaN(n))return new Date(NaN);if(!n)return i;var o=i.getDate(),r=new Date(i.getTime());r.setMonth(i.getMonth()+n+1,0);var s=r.getDate();return o>=s?r:(i.setFullYear(r.getFullYear(),r.getMonth(),o),i)}function af(t,e){if(nf(2,arguments),!e||"object"!=typeof e)return new Date(NaN);var i=e.years?ef(e.years):0,n=e.months?ef(e.months):0,o=e.weeks?ef(e.weeks):0,r=e.days?ef(e.days):0,s=e.hours?ef(e.hours):0,a=e.minutes?ef(e.minutes):0,l=e.seconds?ef(e.seconds):0,d=of(t),c=n||i?sf(d,n+12*i):d,h=r||o?rf(c,r+7*o):c,u=a+60*s,A=l+60*u,p=1e3*A,m=new Date(h.getTime()+p);return m}function lf(t,e){nf(2,arguments);var i=of(t).getTime(),n=ef(e);return new Date(i+n)}var df={};function cf(){return df}function hf(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function uf(t){return nf(1,arguments),t instanceof Date||"object"==typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function Af(t){if(nf(1,arguments),!uf(t)&&"number"!=typeof t)return!1;var e=of(t);return!isNaN(Number(e))}function pf(t,e){return nf(2,arguments),of(t).getTime()-of(e).getTime()}var mf={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}};function gf(t){return t?mf[t]:mf.trunc}function ff(t,e,i){nf(2,arguments);var n=pf(t,e)/1e3;return gf(null==i?void 0:i.roundingMethod)(n)}function vf(t){nf(1,arguments);var e=of(t);return e.setMinutes(59,59,999),e}function bf(t,e){nf(2,arguments);var i=ef(e);return lf(t,-i)}function yf(t){nf(1,arguments);var e=1,i=of(t),n=i.getUTCDay(),o=(n<e?7:0)+n-e;return i.setUTCDate(i.getUTCDate()-o),i.setUTCHours(0,0,0,0),i}function _f(t){nf(1,arguments);var e=of(t),i=e.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(i+1,0,4),n.setUTCHours(0,0,0,0);var o=yf(n),r=new Date(0);r.setUTCFullYear(i,0,4),r.setUTCHours(0,0,0,0);var s=yf(r);return e.getTime()>=o.getTime()?i+1:e.getTime()>=s.getTime()?i:i-1}function wf(t){nf(1,arguments);var e=_f(t),i=new Date(0);i.setUTCFullYear(e,0,4),i.setUTCHours(0,0,0,0);var n=yf(i);return n}function Cf(t){nf(1,arguments);var e=of(t),i=yf(e).getTime()-wf(e).getTime();return Math.round(i/6048e5)+1}function If(t,e){var i,n,o,r,s,a,l,d;nf(1,arguments);var c=cf(),h=ef(null!==(i=null!==(n=null!==(o=null!==(r=null==e?void 0:e.weekStartsOn)&&void 0!==r?r:null==e||null===(s=e.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:c.weekStartsOn)&&void 0!==n?n:null===(l=c.locale)||void 0===l||null===(d=l.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==i?i:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=of(t),A=u.getUTCDay(),p=(A<h?7:0)+A-h;return u.setUTCDate(u.getUTCDate()-p),u.setUTCHours(0,0,0,0),u}function Ef(t,e){var i,n,o,r,s,a,l,d;nf(1,arguments);var c=of(t),h=c.getUTCFullYear(),u=cf(),A=ef(null!==(i=null!==(n=null!==(o=null!==(r=null==e?void 0:e.firstWeekContainsDate)&&void 0!==r?r:null==e||null===(s=e.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==n?n:null===(l=u.locale)||void 0===l||null===(d=l.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==i?i:1);if(!(A>=1&&A<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(h+1,0,A),p.setUTCHours(0,0,0,0);var m=If(p,e),g=new Date(0);g.setUTCFullYear(h,0,A),g.setUTCHours(0,0,0,0);var f=If(g,e);return c.getTime()>=m.getTime()?h+1:c.getTime()>=f.getTime()?h:h-1}function xf(t,e){var i,n,o,r,s,a,l,d;nf(1,arguments);var c=cf(),h=ef(null!==(i=null!==(n=null!==(o=null!==(r=null==e?void 0:e.firstWeekContainsDate)&&void 0!==r?r:null==e||null===(s=e.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:c.firstWeekContainsDate)&&void 0!==n?n:null===(l=c.locale)||void 0===l||null===(d=l.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==i?i:1),u=Ef(t,e),A=new Date(0);A.setUTCFullYear(u,0,h),A.setUTCHours(0,0,0,0);var p=If(A,e);return p}function Bf(t,e){nf(1,arguments);var i=of(t),n=If(i,e).getTime()-xf(i,e).getTime();return Math.round(n/6048e5)+1}function kf(t,e){for(var i=t<0?"-":"",n=Math.abs(t).toString();n.length<e;)n="0"+n;return i+n}var Sf=function(t,e){var i=t.getUTCFullYear(),n=i>0?i:1-i;return kf("yy"===e?n%100:n,e.length)},Df=function(t,e){var i=t.getUTCMonth();return"M"===e?String(i+1):kf(i+1,2)},Qf=function(t,e){return kf(t.getUTCDate(),e.length)},Mf=function(t,e){return kf(t.getUTCHours()%12||12,e.length)},Tf=function(t,e){return kf(t.getUTCHours(),e.length)},Of=function(t,e){return kf(t.getUTCMinutes(),e.length)},Rf=function(t,e){return kf(t.getUTCSeconds(),e.length)},Pf=function(t,e){var i=e.length,n=t.getUTCMilliseconds();return kf(Math.floor(n*Math.pow(10,i-3)),e.length)},Nf="midnight",Ff="noon",Lf="morning",jf="afternoon",zf="evening",Uf="night",Hf={G:function(t,e,i){var n=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"});case"GGGGG":return i.era(n,{width:"narrow"});default:return i.era(n,{width:"wide"})}},y:function(t,e,i){if("yo"===e){var n=t.getUTCFullYear(),o=n>0?n:1-n;return i.ordinalNumber(o,{unit:"year"})}return Sf(t,e)},Y:function(t,e,i,n){var o=Ef(t,n),r=o>0?o:1-o;return"YY"===e?kf(r%100,2):"Yo"===e?i.ordinalNumber(r,{unit:"year"}):kf(r,e.length)},R:function(t,e){return kf(_f(t),e.length)},u:function(t,e){return kf(t.getUTCFullYear(),e.length)},Q:function(t,e,i){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return kf(n,2);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});default:return i.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,i){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return kf(n,2);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});default:return i.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,i){var n=t.getUTCMonth();switch(e){case"M":case"MM":return Df(t,e);case"Mo":return i.ordinalNumber(n+1,{unit:"month"});case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});default:return i.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,i){var n=t.getUTCMonth();switch(e){case"L":return String(n+1);case"LL":return kf(n+1,2);case"Lo":return i.ordinalNumber(n+1,{unit:"month"});case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});default:return i.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,i,n){var o=Bf(t,n);return"wo"===e?i.ordinalNumber(o,{unit:"week"}):kf(o,e.length)},I:function(t,e,i){var n=Cf(t);return"Io"===e?i.ordinalNumber(n,{unit:"week"}):kf(n,e.length)},d:function(t,e,i){return"do"===e?i.ordinalNumber(t.getUTCDate(),{unit:"date"}):Qf(t,e)},D:function(t,e,i){var n=function(t){nf(1,arguments);var e=of(t),i=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var n=e.getTime(),o=i-n;return Math.floor(o/864e5)+1}(t);return"Do"===e?i.ordinalNumber(n,{unit:"dayOfYear"}):kf(n,e.length)},E:function(t,e,i){var n=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,i,n){var o=t.getUTCDay(),r=(o-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(r);case"ee":return kf(r,2);case"eo":return i.ordinalNumber(r,{unit:"day"});case"eee":return i.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(o,{width:"short",context:"formatting"});default:return i.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,i,n){var o=t.getUTCDay(),r=(o-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(r);case"cc":return kf(r,e.length);case"co":return i.ordinalNumber(r,{unit:"day"});case"ccc":return i.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(o,{width:"narrow",context:"standalone"});case"cccccc":return i.day(o,{width:"short",context:"standalone"});default:return i.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,i){var n=t.getUTCDay(),o=0===n?7:n;switch(e){case"i":return String(o);case"ii":return kf(o,e.length);case"io":return i.ordinalNumber(o,{unit:"day"});case"iii":return i.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(n,{width:"short",context:"formatting"});default:return i.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,i){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(t,e,i){var n,o=t.getUTCHours();switch(n=12===o?Ff:0===o?Nf:o/12>=1?"pm":"am",e){case"b":case"bb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(t,e,i){var n,o=t.getUTCHours();switch(n=o>=17?zf:o>=12?jf:o>=4?Lf:Uf,e){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});default:return i.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(t,e,i){if("ho"===e){var n=t.getUTCHours()%12;return 0===n&&(n=12),i.ordinalNumber(n,{unit:"hour"})}return Mf(t,e)},H:function(t,e,i){return"Ho"===e?i.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Tf(t,e)},K:function(t,e,i){var n=t.getUTCHours()%12;return"Ko"===e?i.ordinalNumber(n,{unit:"hour"}):kf(n,e.length)},k:function(t,e,i){var n=t.getUTCHours();return 0===n&&(n=24),"ko"===e?i.ordinalNumber(n,{unit:"hour"}):kf(n,e.length)},m:function(t,e,i){return"mo"===e?i.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Of(t,e)},s:function(t,e,i){return"so"===e?i.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Rf(t,e)},S:function(t,e){return Pf(t,e)},X:function(t,e,i,n){var o=(n._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return qf(o);case"XXXX":case"XX":return Yf(o);default:return Yf(o,":")}},x:function(t,e,i,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"x":return qf(o);case"xxxx":case"xx":return Yf(o);default:return Yf(o,":")}},O:function(t,e,i,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Gf(o,":");default:return"GMT"+Yf(o,":")}},z:function(t,e,i,n){var o=(n._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Gf(o,":");default:return"GMT"+Yf(o,":")}},t:function(t,e,i,n){var o=n._originalDate||t;return kf(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,i,n){return kf((n._originalDate||t).getTime(),e.length)}};function Gf(t,e){var i=t>0?"-":"+",n=Math.abs(t),o=Math.floor(n/60),r=n%60;if(0===r)return i+String(o);var s=e||"";return i+String(o)+s+kf(r,2)}function qf(t,e){return t%60==0?(t>0?"-":"+")+kf(Math.abs(t)/60,2):Yf(t,e)}function Yf(t,e){var i=e||"",n=t>0?"-":"+",o=Math.abs(t);return n+kf(Math.floor(o/60),2)+i+kf(o%60,2)}var $f=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Wf=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Vf={p:Wf,P:function(t,e){var i,n=t.match(/(P+)(p+)?/)||[],o=n[1],r=n[2];if(!r)return $f(t,e);switch(o){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;default:i=e.dateTime({width:"full"})}return i.replace("{{date}}",$f(o,e)).replace("{{time}}",Wf(r,e))}},Jf=["D","DD"],Kf=["YY","YYYY"];function Zf(t){return-1!==Jf.indexOf(t)}function Xf(t){return-1!==Kf.indexOf(t)}function tv(t,e,i){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(i,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ev={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function iv(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.width?String(e.width):t.defaultWidth,n=t.formats[i]||t.formats[t.defaultWidth];return n}}var nv={date:iv({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:iv({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:iv({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},ov={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function rv(t){return function(e,i){var n;if("formatting"===(null!=i&&i.context?String(i.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,r=null!=i&&i.width?String(i.width):o;n=t.formattingValues[r]||t.formattingValues[o]}else{var s=t.defaultWidth,a=null!=i&&i.width?String(i.width):t.defaultWidth;n=t.values[a]||t.values[s]}return n[t.argumentCallback?t.argumentCallback(e):e]}}var sv={ordinalNumber:function(t,e){var i=Number(t),n=i%100;if(n>20||n<10)switch(n%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},era:rv({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:rv({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:rv({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:rv({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:rv({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function av(t){return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.width,o=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],r=e.match(o);if(!r)return null;var s,a=r[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(l)?dv(l,(function(t){return t.test(a)})):lv(l,(function(t){return t.test(a)}));s=t.valueCallback?t.valueCallback(d):d,s=i.valueCallback?i.valueCallback(s):s;var c=e.slice(a.length);return{value:s,rest:c}}}function lv(t,e){for(var i in t)if(t.hasOwnProperty(i)&&e(t[i]))return i}function dv(t,e){for(var i=0;i<t.length;i++)if(e(t[i]))return i}var cv,hv={ordinalNumber:(cv={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.match(cv.matchPattern);if(!i)return null;var n=i[0],o=t.match(cv.parsePattern);if(!o)return null;var r=cv.valueCallback?cv.valueCallback(o[0]):o[0];r=e.valueCallback?e.valueCallback(r):r;var s=t.slice(n.length);return{value:r,rest:s}}),era:av({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:av({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:av({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:av({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:av({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},uv={code:"en-US",formatDistance:function(t,e,i){var n,o=ev[t];return n="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null!=i&&i.addSuffix?i.comparison&&i.comparison>0?"in "+n:n+" ago":n},formatLong:nv,formatRelative:function(t,e,i,n){return ov[t]},localize:sv,match:hv,options:{weekStartsOn:0,firstWeekContainsDate:1}},Av=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pv=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mv=/^'([^]*?)'?$/,gv=/''/g,fv=/[a-zA-Z]/;function vv(t,e,i){var n,o,r,s,a,l,d,c,h,u,A,p,m,g,f,v,b,y;nf(2,arguments);var _=String(e),w=cf(),C=null!==(n=null!==(o=null==i?void 0:i.locale)&&void 0!==o?o:w.locale)&&void 0!==n?n:uv,I=ef(null!==(r=null!==(s=null!==(a=null!==(l=null==i?void 0:i.firstWeekContainsDate)&&void 0!==l?l:null==i||null===(d=i.locale)||void 0===d||null===(c=d.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:w.firstWeekContainsDate)&&void 0!==s?s:null===(h=w.locale)||void 0===h||null===(u=h.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==r?r:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=ef(null!==(A=null!==(p=null!==(m=null!==(g=null==i?void 0:i.weekStartsOn)&&void 0!==g?g:null==i||null===(f=i.locale)||void 0===f||null===(v=f.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:w.weekStartsOn)&&void 0!==p?p:null===(b=w.locale)||void 0===b||null===(y=b.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==A?A:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!C.localize)throw new RangeError("locale must contain localize property");if(!C.formatLong)throw new RangeError("locale must contain formatLong property");var x=of(t);if(!Af(x))throw new RangeError("Invalid time value");var B=hf(x),k=bf(x,B),S={firstWeekContainsDate:I,weekStartsOn:E,locale:C,_originalDate:x},D=_.match(pv).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Vf[e])(t,C.formatLong):t})).join("").match(Av).map((function(n){if("''"===n)return"'";var o=n[0];if("'"===o)return bv(n);var r=Hf[o];if(r)return null!=i&&i.useAdditionalWeekYearTokens||!Xf(n)||tv(n,e,String(t)),null!=i&&i.useAdditionalDayOfYearTokens||!Zf(n)||tv(n,e,String(t)),r(k,n,C.localize,S);if(o.match(fv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return n})).join("");return D}function bv(t){var e=t.match(mv);return e?e[1].replace(gv,"'"):t}function yv(t){nf(1,arguments);var e=ef(t);return of(1e3*e)}function _v(t){nf(1,arguments);var e=of(t),i=e.getTime();return i}function wv(t){return nf(1,arguments),Math.floor(_v(t)/1e3)}function Cv(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class Iv extends class{constructor(){Cv(this,"priority",void 0),Cv(this,"subPriority",0)}validate(t,e){return!0}}{constructor(t,e,i,n,o){super(),this.value=t,this.validateValue=e,this.setValue=i,this.priority=n,o&&(this.subPriority=o)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,i){return this.setValue(t,e,this.value,i)}}function Ev(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class xv{constructor(){Ev(this,"incompatibleTokens",void 0),Ev(this,"priority",void 0),Ev(this,"subPriority",void 0)}run(t,e,i,n){var o=this.parse(t,e,i,n);return o?{setter:new Iv(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,e,i){return!0}}function Bv(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var kv=/^(1[0-2]|0?\d)/,Sv=/^(3[0-1]|[0-2]?\d)/,Dv=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Qv=/^(5[0-3]|[0-4]?\d)/,Mv=/^(2[0-3]|[0-1]?\d)/,Tv=/^(2[0-4]|[0-1]?\d)/,Ov=/^(1[0-1]|0?\d)/,Rv=/^(1[0-2]|0?\d)/,Pv=/^[0-5]?\d/,Nv=/^[0-5]?\d/,Fv=/^\d/,Lv=/^\d{1,2}/,jv=/^\d{1,3}/,zv=/^\d{1,4}/,Uv=/^-?\d+/,Hv=/^-?\d/,Gv=/^-?\d{1,2}/,qv=/^-?\d{1,3}/,Yv=/^-?\d{1,4}/,$v=/^([+-])(\d{2})(\d{2})?|Z/,Wv=/^([+-])(\d{2})(\d{2})|Z/,Vv=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,Jv=/^([+-])(\d{2}):(\d{2})|Z/,Kv=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function Zv(t,e){return t?{value:e(t.value),rest:t.rest}:t}function Xv(t,e){var i=e.match(t);return i?{value:parseInt(i[0],10),rest:e.slice(i[0].length)}:null}function tb(t,e){var i=e.match(t);return i?"Z"===i[0]?{value:0,rest:e.slice(1)}:{value:("+"===i[1]?1:-1)*(36e5*(i[2]?parseInt(i[2],10):0)+6e4*(i[3]?parseInt(i[3],10):0)+1e3*(i[5]?parseInt(i[5],10):0)),rest:e.slice(i[0].length)}:null}function eb(t){return Xv(Uv,t)}function ib(t,e){switch(t){case 1:return Xv(Fv,e);case 2:return Xv(Lv,e);case 3:return Xv(jv,e);case 4:return Xv(zv,e);default:return Xv(new RegExp("^\\d{1,"+t+"}"),e)}}function nb(t,e){switch(t){case 1:return Xv(Hv,e);case 2:return Xv(Gv,e);case 3:return Xv(qv,e);case 4:return Xv(Yv,e);default:return Xv(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ob(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function rb(t,e){var i,n=e>0,o=n?e:1-e;if(o<=50)i=t||100;else{var r=o+50;i=t+100*Math.floor(r/100)-(t>=r%100?100:0)}return n?i:1-i}function sb(t){return t%400==0||t%4==0&&t%100!=0}function ab(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function lb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function db(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function cb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ub(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ab(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function pb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function mb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function gb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var vb=[31,28,31,30,31,30,31,31,30,31,30,31],bb=[31,29,31,30,31,30,31,31,30,31,30,31];function yb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function _b(t,e,i){var n,o,r,s,a,l,d,c;nf(2,arguments);var h=cf(),u=ef(null!==(n=null!==(o=null!==(r=null!==(s=null==i?void 0:i.weekStartsOn)&&void 0!==s?s:null==i||null===(a=i.locale)||void 0===a||null===(l=a.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:h.weekStartsOn)&&void 0!==o?o:null===(d=h.locale)||void 0===d||null===(c=d.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var A=of(t),p=ef(e),m=A.getUTCDay(),g=p%7,f=(g+7)%7,v=(f<u?7:0)+p-m;return A.setUTCDate(A.getUTCDate()+v),A}function wb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Cb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ib(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Eb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function xb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Bb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function kb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Sb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Db(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Qb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Mb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Tb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ob(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Rb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Pb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Nb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Fb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Lb(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function jb(t){nf(1,arguments);var e=of(t);return e.setMinutes(0,0,0),e}function zb(t,e){nf(2,arguments);var i=ef(e);return rf(t,-i)}function Ub(t,e){nf(2,arguments);var i=ef(e);return sf(t,-i)}function Hb(t,e){if(nf(2,arguments),!e||"object"!=typeof e)return new Date(NaN);var i=e.years?ef(e.years):0,n=e.months?ef(e.months):0,o=e.weeks?ef(e.weeks):0,r=e.days?ef(e.days):0,s=e.hours?ef(e.hours):0,a=e.minutes?ef(e.minutes):0,l=e.seconds?ef(e.seconds):0,d=Ub(t,n+12*i),c=zb(d,r+7*o),h=a+60*s,u=l+60*h,A=1e3*u,p=new Date(c.getTime()-A);return p}new class extends xv{constructor(){super(...arguments),Bv(this,"priority",140),Bv(this,"incompatibleTokens",["R","u","t","T"])}parse(t,e,i){switch(e){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,e,i){return e.era=i,t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),ab(this,"priority",130),ab(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,e,i){var n=function(t){return{year:t,isTwoDigitYear:"yy"===e}};switch(e){case"y":return Zv(ib(4,t),n);case"yo":return Zv(i.ordinalNumber(t,{unit:"year"}),n);default:return Zv(ib(e.length,t),n)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i){var n=t.getUTCFullYear();if(i.isTwoDigitYear){var o=rb(i.year,n);return t.setUTCFullYear(o,0,1),t.setUTCHours(0,0,0,0),t}var r="era"in e&&1!==e.era?1-i.year:i.year;return t.setUTCFullYear(r,0,1),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),lb(this,"priority",130),lb(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,e,i){var n=function(t){return{year:t,isTwoDigitYear:"YY"===e}};switch(e){case"Y":return Zv(ib(4,t),n);case"Yo":return Zv(i.ordinalNumber(t,{unit:"year"}),n);default:return Zv(ib(e.length,t),n)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i,n){var o=Ef(t,n);if(i.isTwoDigitYear){var r=rb(i.year,o);return t.setUTCFullYear(r,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),If(t,n)}var s="era"in e&&1!==e.era?1-i.year:i.year;return t.setUTCFullYear(s,0,n.firstWeekContainsDate),t.setUTCHours(0,0,0,0),If(t,n)}},new class extends xv{constructor(){super(...arguments),db(this,"priority",130),db(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,e){return nb("R"===e?4:e.length,t)}set(t,e,i){var n=new Date(0);return n.setUTCFullYear(i,0,4),n.setUTCHours(0,0,0,0),yf(n)}},new class extends xv{constructor(){super(...arguments),cb(this,"priority",130),cb(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,e){return nb("u"===e?4:e.length,t)}set(t,e,i){return t.setUTCFullYear(i,0,1),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),hb(this,"priority",120),hb(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,i){switch(e){case"Q":case"QQ":return ib(e.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setUTCMonth(3*(i-1),1),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),ub(this,"priority",120),ub(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,i){switch(e){case"q":case"qq":return ib(e.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setUTCMonth(3*(i-1),1),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Ab(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ab(this,"priority",110)}parse(t,e,i){var n=function(t){return t-1};switch(e){case"M":return Zv(Xv(kv,t),n);case"MM":return Zv(ib(2,t),n);case"Mo":return Zv(i.ordinalNumber(t,{unit:"month"}),n);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setUTCMonth(i,1),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),pb(this,"priority",110),pb(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,e,i){var n=function(t){return t-1};switch(e){case"L":return Zv(Xv(kv,t),n);case"LL":return Zv(ib(2,t),n);case"Lo":return Zv(i.ordinalNumber(t,{unit:"month"}),n);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setUTCMonth(i,1),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),mb(this,"priority",100),mb(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,e,i){switch(e){case"w":return Xv(Qv,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ib(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i,n){return If(function(t,e,i){nf(2,arguments);var n=of(t),o=ef(e),r=Bf(n,i)-o;return n.setUTCDate(n.getUTCDate()-7*r),n}(t,i,n),n)}},new class extends xv{constructor(){super(...arguments),gb(this,"priority",100),gb(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,e,i){switch(e){case"I":return Xv(Qv,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ib(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i){return yf(function(t,e){nf(2,arguments);var i=of(t),n=ef(e),o=Cf(i)-n;return i.setUTCDate(i.getUTCDate()-7*o),i}(t,i))}},new class extends xv{constructor(){super(...arguments),fb(this,"priority",90),fb(this,"subPriority",1),fb(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,e,i){switch(e){case"d":return Xv(Sv,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ib(e.length,t)}}validate(t,e){var i=sb(t.getUTCFullYear()),n=t.getUTCMonth();return i?e>=1&&e<=bb[n]:e>=1&&e<=vb[n]}set(t,e,i){return t.setUTCDate(i),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),yb(this,"priority",90),yb(this,"subpriority",1),yb(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,e,i){switch(e){case"D":case"DD":return Xv(Dv,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ib(e.length,t)}}validate(t,e){return sb(t.getUTCFullYear())?e>=1&&e<=366:e>=1&&e<=365}set(t,e,i){return t.setUTCMonth(0,i),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),wb(this,"priority",90),wb(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,e,i){switch(e){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,n){return(t=_b(t,i,n)).setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Cb(this,"priority",90),Cb(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,e,i,n){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return Zv(ib(e.length,t),o);case"eo":return Zv(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,n){return(t=_b(t,i,n)).setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Ib(this,"priority",90),Ib(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,e,i,n){var o=function(t){var e=7*Math.floor((t-1)/7);return(t+n.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return Zv(ib(e.length,t),o);case"co":return Zv(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,n){return(t=_b(t,i,n)).setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Eb(this,"priority",90),Eb(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,e,i){var n=function(t){return 0===t?7:t};switch(e){case"i":case"ii":return ib(e.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Zv(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),n);case"iiiii":return Zv(i.day(t,{width:"narrow",context:"formatting"}),n);case"iiiiii":return Zv(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),n);default:return Zv(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),n)}}validate(t,e){return e>=1&&e<=7}set(t,e,i){return t=function(t,e){nf(2,arguments);var i=ef(e);i%7==0&&(i-=7);var n=1,o=of(t),r=o.getUTCDay(),s=((i%7+7)%7<n?7:0)+i-r;return o.setUTCDate(o.getUTCDate()+s),o}(t,i),t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),xb(this,"priority",80),xb(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,e,i){switch(e){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setUTCHours(ob(i),0,0,0),t}},new class extends xv{constructor(){super(...arguments),Bb(this,"priority",80),Bb(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,e,i){switch(e){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setUTCHours(ob(i),0,0,0),t}},new class extends xv{constructor(){super(...arguments),kb(this,"priority",80),kb(this,"incompatibleTokens",["a","b","t","T"])}parse(t,e,i){switch(e){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setUTCHours(ob(i),0,0,0),t}},new class extends xv{constructor(){super(...arguments),Sb(this,"priority",70),Sb(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,e,i){switch(e){case"h":return Xv(Rv,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ib(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,i){var n=t.getUTCHours()>=12;return n&&i<12?t.setUTCHours(i+12,0,0,0):n||12!==i?t.setUTCHours(i,0,0,0):t.setUTCHours(0,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Db(this,"priority",70),Db(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,e,i){switch(e){case"H":return Xv(Mv,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ib(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,i){return t.setUTCHours(i,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Qb(this,"priority",70),Qb(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,e,i){switch(e){case"K":return Xv(Ov,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ib(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.getUTCHours()>=12&&i<12?t.setUTCHours(i+12,0,0,0):t.setUTCHours(i,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Mb(this,"priority",70),Mb(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,e,i){switch(e){case"k":return Xv(Tv,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ib(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,i){var n=i<=24?i%24:i;return t.setUTCHours(n,0,0,0),t}},new class extends xv{constructor(){super(...arguments),Tb(this,"priority",60),Tb(this,"incompatibleTokens",["t","T"])}parse(t,e,i){switch(e){case"m":return Xv(Pv,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ib(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setUTCMinutes(i,0,0),t}},new class extends xv{constructor(){super(...arguments),Ob(this,"priority",50),Ob(this,"incompatibleTokens",["t","T"])}parse(t,e,i){switch(e){case"s":return Xv(Nv,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ib(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setUTCSeconds(i,0),t}},new class extends xv{constructor(){super(...arguments),Rb(this,"priority",30),Rb(this,"incompatibleTokens",["t","T"])}parse(t,e){return Zv(ib(e.length,t),(function(t){return Math.floor(t*Math.pow(10,3-e.length))}))}set(t,e,i){return t.setUTCMilliseconds(i),t}},new class extends xv{constructor(){super(...arguments),Pb(this,"priority",10),Pb(this,"incompatibleTokens",["t","T","x"])}parse(t,e){switch(e){case"X":return tb($v,t);case"XX":return tb(Wv,t);case"XXXX":return tb(Vv,t);case"XXXXX":return tb(Kv,t);default:return tb(Jv,t)}}set(t,e,i){return e.timestampIsSet?t:new Date(t.getTime()-i)}},new class extends xv{constructor(){super(...arguments),Nb(this,"priority",10),Nb(this,"incompatibleTokens",["t","T","X"])}parse(t,e){switch(e){case"x":return tb($v,t);case"xx":return tb(Wv,t);case"xxxx":return tb(Vv,t);case"xxxxx":return tb(Kv,t);default:return tb(Jv,t)}}set(t,e,i){return e.timestampIsSet?t:new Date(t.getTime()-i)}},new class extends xv{constructor(){super(...arguments),Fb(this,"priority",40),Fb(this,"incompatibleTokens","*")}parse(t){return eb(t)}set(t,e,i){return[new Date(1e3*i),{timestampIsSet:!0}]}},new class extends xv{constructor(){super(...arguments),Lb(this,"priority",20),Lb(this,"incompatibleTokens","*")}parse(t){return eb(t)}set(t,e,i){return[new Date(i),{timestampIsSet:!0}]}};const Gb=(t,e)=>{var i;return 0!=((null!==(i=t.attributes.supported_features)&&void 0!==i?i:0)&e)},qb=t=>(t=>Gb(t,4)&&"number"==typeof t.attributes.in_progress)(t)||!!t.attributes.in_progress,Yb={apparent_power:"mdi:flash",aqi:"mdi:air-filter",carbon_dioxide:"mdi:molecule-co2",carbon_monoxide:"mdi:molecule-co",current:"mdi:current-ac",date:"mdi:calendar",energy:"mdi:lightning-bolt",frequency:"mdi:sine-wave",gas:"mdi:gas-cylinder",humidity:"mdi:water-percent",illuminance:"mdi:brightness-5",monetary:"mdi:cash",nitrogen_dioxide:"mdi:molecule",nitrogen_monoxide:"mdi:molecule",nitrous_oxide:"mdi:molecule",ozone:"mdi:molecule",pm1:"mdi:molecule",pm10:"mdi:molecule",pm25:"mdi:molecule",power:"mdi:flash",power_factor:"mdi:angle-acute",pressure:"mdi:gauge",reactive_power:"mdi:flash",signal_strength:"mdi:wifi",sulphur_dioxide:"mdi:molecule",temperature:"mdi:thermometer",timestamp:"mdi:clock",volatile_organic_compounds:"mdi:molecule",voltage:"mdi:sine-wave"},$b={10:"mdi:battery-10",20:"mdi:battery-20",30:"mdi:battery-30",40:"mdi:battery-40",50:"mdi:battery-50",60:"mdi:battery-60",70:"mdi:battery-70",80:"mdi:battery-80",90:"mdi:battery-90",100:"mdi:battery"},Wb={10:"mdi:battery-charging-10",20:"mdi:battery-charging-20",30:"mdi:battery-charging-30",40:"mdi:battery-charging-40",50:"mdi:battery-charging-50",60:"mdi:battery-charging-60",70:"mdi:battery-charging-70",80:"mdi:battery-charging-80",90:"mdi:battery-charging-90",100:"mdi:battery-charging"},Vb=(t,e)=>{const i=Number(t);if(isNaN(i))return"off"===t?"mdi:battery":"on"===t?"mdi:battery-alert":"mdi:battery-unknown";const n=10*Math.round(i/10);return e&&i>=10?Wb[n]:e?"mdi:battery-charging-outline":i<=5?"mdi:battery-alert-variant-outline":$b[n]},Jb=t=>{const e=null==t?void 0:t.attributes.device_class;if(e&&e in Yb)return Yb[e];if("battery"===e)return t?((t,e)=>{const i=t.state,n="on"===(null==e?void 0:e.state);return Vb(i,n)})(t):"mdi:battery";const i=null==t?void 0:t.attributes.unit_of_measurement;return"°C"===i||"°F"===i?"mdi:thermometer":void 0},Kb={alert:"mdi:alert",air_quality:"mdi:air-filter",automation:"mdi:robot",calendar:"mdi:calendar",camera:"mdi:video",climate:"mdi:thermostat",configurator:"mdi:cog",conversation:"mdi:text-to-speech",counter:"mdi:counter",fan:"mdi:fan",google_assistant:"mdi:google-assistant",group:"mdi:google-circles-communities",homeassistant:"mdi:home-assistant",homekit:"mdi:home-automation",image_processing:"mdi:image-filter-frames",input_button:"mdi:gesture-tap-button",input_datetime:"mdi:calendar-clock",input_number:"mdi:ray-vertex",input_select:"mdi:format-list-bulleted",input_text:"mdi:form-textbox",light:"mdi:lightbulb",mailbox:"mdi:mailbox",notify:"mdi:comment-alert",number:"mdi:ray-vertex",persistent_notification:"mdi:bell",person:"mdi:account",plant:"mdi:flower",proximity:"mdi:apple-safari",remote:"mdi:remote",scene:"mdi:palette",script:"mdi:script-text",select:"mdi:format-list-bulleted",sensor:"mdi:eye",siren:"mdi:bullhorn",simple_alarm:"mdi:bell",sun:"mdi:white-balance-sunny",timer:"mdi:timer-outline",updater:"mdi:cloud-upload",vacuum:"mdi:robot-vacuum",water_heater:"mdi:thermometer",weather:"mdi:weather-cloudy",zone:"mdi:map-marker-radius"};function Zb(t,e,i){switch(t){case"alarm_control_panel":return(t=>{switch(t){case"armed_away":return"mdi:shield-lock";case"armed_vacation":return"mdi:shield-airplane";case"armed_home":return"mdi:shield-home";case"armed_night":return"mdi:shield-moon";case"armed_custom_bypass":return"mdi:security";case"pending":case"arming":return"mdi:shield-sync";case"triggered":return"mdi:bell-ring";case"disarmed":return"mdi:shield-off";default:return"mdi:shield"}})(i);case"binary_sensor":return((t,e)=>{const i="off"===t;switch(null==e?void 0:e.attributes.device_class){case"battery":return i?"mdi:battery":"mdi:battery-outline";case"battery_charging":return i?"mdi:battery":"mdi:battery-charging";case"cold":return i?"mdi:thermometer":"mdi:snowflake";case"connectivity":return i?"mdi:close-network-outline":"mdi:check-network-outline";case"door":return i?"mdi:door-closed":"mdi:door-open";case"garage_door":return i?"mdi:garage":"mdi:garage-open";case"power":case"plug":return i?"mdi:power-plug-off":"mdi:power-plug";case"gas":case"problem":case"safety":case"tamper":return i?"mdi:check-circle":"mdi:alert-circle";case"smoke":return i?"mdi:check-circle":"mdi:smoke";case"heat":return i?"mdi:thermometer":"mdi:fire";case"light":return i?"mdi:brightness5":"mdi:brightness-7";case"lock":return i?"mdi:lock":"mdi:lock-open";case"moisture":return i?"mdi:water-off":"mdi:water";case"motion":return i?"mdi:motion-sensor-off":"mdi:motion-sensor";case"occupancy":case"presence":return i?"mdi:home-outline":"mdi:home";case"opening":return i?"mdi:square":"mdi:square-outline";case"running":return i?"mdi:stop":"mdi:play";case"sound":return i?"mdi:music-note-off":"mdi:music-note";case"update":return i?"mdi:package":"mdi:package-up";case"vibration":return i?"mdi:crop-portrait":"mdi:vibrate";case"window":return i?"mdi:window-closed":"mdi:window-open";default:return i?"mdi:radiobox-blank":"mdi:checkbox-marked-circle"}})(i,e);case"button":switch(null==e?void 0:e.attributes.device_class){case"restart":return"mdi:restart";case"update":return"mdi:package-up";default:return"mdi:gesture-tap-button"}case"cover":return((t,e)=>{const i="closed"!==t;switch(null==e?void 0:e.attributes.device_class){case"garage":switch(t){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:garage";default:return"mdi:garage-open"}case"gate":switch(t){case"opening":case"closing":return"mdi:gate-arrow-right";case"closed":return"mdi:gate";default:return"mdi:gate-open"}case"door":return i?"mdi:door-open":"mdi:door-closed";case"damper":return i?"md:circle":"mdi:circle-slice-8";case"shutter":switch(t){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:window-shutter";default:return"mdi:window-shutter-open"}case"curtain":switch(t){case"opening":return"mdi:arrow-split-vertical";case"closing":return"mdi:arrow-collapse-horizontal";case"closed":return"mdi:curtains-closed";default:return"mdi:curtains"}case"blind":case"shade":switch(t){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:blinds";default:return"mdi:blinds-open"}case"window":switch(t){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:window-closed";default:return"mdi:window-open"}}switch(t){case"opening":return"mdi:arrow-up-box";case"closing":return"mdi:arrow-down-box";case"closed":return"mdi:window-closed";default:return"mdi:window-open"}})(i,e);case"device_tracker":return"router"===(null==e?void 0:e.attributes.source_type)?"home"===i?"mdi:lan-connect":"mdi:lan-disconnect":["bluetooth","bluetooth_le"].includes(null==e?void 0:e.attributes.source_type)?"home"===i?"mdi:bluetooth-connect":"mdi:bluetooth":"not_home"===i?"mdi:account-arrow-right":"mdi:account";case"humidifier":return i&&"off"===i?"mdi:air-humidifier-off":"mdi:air-humidifier";case"input_boolean":return"on"===i?"mdi:check-circle-outline":"mdi:close-circle-outline";case"lock":switch(i){case"unlocked":return"mdi:lock-open";case"jammed":return"mdi:lock-alert";case"locking":case"unlocking":return"mdi:lock-clock";default:return"mdi:lock"}case"media_player":return"playing"===i?"mdi:cast-connected":"mdi:cast";case"switch":switch(null==e?void 0:e.attributes.device_class){case"outlet":return"on"===i?"mdi:power-plug":"mdi:power-plug-off";case"switch":return"on"===i?"mdi:toggle-switch":"mdi:toggle-switch-off";default:return"mdi:flash"}case"zwave":switch(i){case"dead":return"mdi:emoticon-dead";case"sleeping":return"mdi:sleep";case"initializing":return"mdi:timer-sand";default:return"mdi:z-wave"}case"sensor":{const t=Jb(e);if(t)return t;break}case"input_datetime":if(!(null==e?void 0:e.attributes.has_date))return"mdi:clock";if(!e.attributes.has_time)return"mdi:calendar";break;case"sun":return"above_horizon"===(null==e?void 0:e.state)?Kb[t]:"mdi:weather-night";case"update":return"on"===(null==e?void 0:e.state)?qb(e)?"mdi:package-down":"mdi:package-up":"mdi:package"}return t in Kb?Kb[t]:(console.warn(`Unable to find icon for domain ${t}`),"mdi:bookmark")}function Xb(t){if(!t)return"mdi:bookmark";if(t.attributes.icon)return t.attributes.icon;return Zb(l(t.entity_id),t,t.state)}async function ty(t,e,i,n=!1){let o;try{o=await t.callWS(i)}catch(t){if(!(t instanceof Error))throw new fp(Sg("error.failed_response"),{request:i,response:t});throw t}if(!o)throw new fp(Sg("error.empty_response"),{request:i});const r=n?e.safeParse(JSON.parse(o)):e.safeParse(o);if(!r.success)throw new fp(Sg("error.invalid_response"),{request:i,response:o,invalid_keys:hp(r.error)});return r.data}async function ey(t,e,i){const n={type:"auth/sign_path",path:e,expires:i},o=await ty(t,jm,n);return o?t.hassUrl(o.path):null}function iy(t,e,i,n){if(!t||!i||!i.length)return[];const o=[];for(const r of i){const i=null==e?void 0:e.states[r],s=t.states[r];if(((null==n?void 0:n.stateOnly)&&(null==i?void 0:i.state)!==(null==s?void 0:s.state)||!(null==n?void 0:n.stateOnly)&&i!==s)&&(o.push({entity:r,oldState:i,newState:s}),null==n?void 0:n.firstOnly))break}return o}function ny(t,e,i,n){return!!iy(t,e,i,Object.assign(Object.assign({},n),{firstOnly:!0})).length}function oy(t){if("off"===t.state||!t.attributes.brightness)return"";return`brightness(${(t.attributes.brightness+245)/5}%)`}function ry(t){return"off"===t.state?"":t.attributes.rgb_color?`rgb(${t.attributes.rgb_color.join(",")})`:""}function sy(t,e){var i,n,o;if(!e.entity)return e;const r=t.states[e.entity];r&&e.state_color&&(e.style=Object.assign(Object.assign({},function(t){return{color:ry(t),filter:oy(t)}}(r)),e.style)),e.title=null!==(i=e.title)&&void 0!==i?i:(null===(n=null==r?void 0:r.attributes)||void 0===n?void 0:n.friendly_name)||e.entity,e.icon=null!==(o=e.icon)&&void 0!==o?o:Xb(r);const s=r?function(t){return l(t.entity_id)}(r):void 0;return e.data_domain=e.state_color||"light"===s&&!1!==e.state_color?s:void 0,r&&(e.data_state=(t=>{const e=t.entity_id.split(".")[0];let i=t.state;return"climate"===e&&(i=t.attributes.hvac_action),i})(r)),e}function ay(t,e){var i,n;return e?null===(n=null===(i=null==t?void 0:t.states[e])||void 0===i?void 0:i.attributes)||void 0===n?void 0:n.friendly_name:void 0}function ly(t,e){return Xb(e?null==t?void 0:t.states[e]:null)}const dy=async()=>{if(["ha-selector","ha-menu-button","ha-camera-stream","ha-hls-player","ha-web-rtc-player","ha-icon","ha-circular-progress","ha-icon-button","ha-card","ha-svg-icon","ha-button-menu"].every((t=>customElements.get(t))))return!0;const t=await window.loadCardHelpers(),e=await t.createCardElement({type:"picture-glance",entities:[],camera_image:"dummy-to-load-editor-components"});return!!e.constructor.getConfigElement&&(await e.constructor.getConfigElement(),!0)},cy=t=>!!t&&["on","open"].includes(t.state);function hy(t){return"string"==typeof(null==t?void 0:t.id)&&t.id||"string"==typeof(null==t?void 0:t.camera_entity)&&t.camera_entity||"object"==typeof(null==t?void 0:t.webrtc_card)&&t.webrtc_card&&"string"==typeof t.webrtc_card.entity&&t.webrtc_card.entity||"object"==typeof(null==t?void 0:t.frigate)&&t.frigate&&"string"==typeof(null==t?void 0:t.frigate.camera_name)&&t.frigate.camera_name||""}function uy(t,e){return"string"==typeof(null==e?void 0:e.title)&&e.title||("string"==typeof(null==e?void 0:e.camera_entity)?ay(t,e.camera_entity):"")||"object"==typeof(null==e?void 0:e.webrtc_card)&&e.webrtc_card&&"string"==typeof e.webrtc_card.entity&&e.webrtc_card.entity||("object"==typeof(null==e?void 0:e.frigate)&&e.frigate&&"string"==typeof(null==e?void 0:e.frigate.camera_name)&&e.frigate.camera_name?Qg(e.frigate.camera_name):"")||"string"==typeof(null==e?void 0:e.id)&&e.id||""}function Ay(t,e){return(null==e?void 0:e.icon)||ly(t,null==e?void 0:e.camera_entity)||"mdi:video"}const py=t=>{var e,i,n;return null!==(n=null===(i=null===(e=t.frigate)||void 0===e?void 0:e.event)||void 0===i?void 0:i.start_time)&&void 0!==n?n:null},my=t=>!!t&&!t.can_expand,gy=t=>{if(!t||!t.children)return null;const e=t.children.findIndex((t=>my(t)));return e>=0?e:null},fy=async(t,e)=>{const i={type:"media_source/browse_media",media_content_id:e};return await ty(t,Fm,i)},vy=async(t,e)=>{e=Array.isArray(e)?e:[e];const i=new Map;return await Promise.all(e.map((async e=>{i.set(e,await(async(t,e)=>fy(t,["media-source://frigate",e.clientId,"event-search",e.mediaType,e.unlimited?".all":"",e.after?String(Math.floor(e.after)):"",e.before?String(Math.ceil(e.before)):"",e.cameraName,e.label,e.zone].join("/")))(t,e))}))),i},by=async(t,e)=>yy(await vy(t,e)),yy=async t=>{const e=[];for(const[i,n]of t.entries())for(const o of n.children||[])my(o)?e.push(o):i.title&&t.size>1?e.push(Object.assign(Object.assign({},o),{title:`[${i.title}] ${o.title}`})):e.push(o);return xy("Merged events",e.sort(((t,e)=>{var i,n,o,r;return!(null===(i=t.frigate)||void 0===i?void 0:i.event)||(null===(n=e.frigate)||void 0===n?void 0:n.event)&&e.frigate.event.start_time>t.frigate.event.start_time?1:!(null===(o=e.frigate)||void 0===o?void 0:o.event)||(null===(r=t.frigate)||void 0===r?void 0:r.event)&&e.frigate.event.start_time<t.frigate.event.start_time?-1:0})))},_y=(t,e,i,n)=>i&&i.frigate.camera_name?Object.assign({clientId:i.frigate.client_id,cameraName:i.frigate.camera_name,label:i.frigate.label,zone:i.frigate.zone,title:uy(t,i),cameraID:e},n):null,wy=(t,e)=>{const i=[];return t.forEach((t=>{i.push(Object.assign(Object.assign({},t),e))})),i},Cy=(t,e,i,n)=>{const o=new Set,r=t=>{const i=e.get(t);if(i){o.add(t);const n=new Set;(i.dependencies.cameras||[]).forEach((t=>n.add(t))),i.dependencies.all_cameras&&e.forEach(((t,e)=>n.add(e)));for(const t of n)o.has(t)||r(t)}};r(i);const s=[];for(const i of o){const o=_y(t,i,e.get(i),n?{mediaType:n}:{});o&&s.push(o)}return s.length?s:null},Iy=(t,e,i,n,o)=>{const r=Cy(e,i,n,o);return r||(Gg(t,Sg("error.no_camera_name"),{context:i.get(n)}),null)},Ey=async(t,e,i,n)=>{let o;try{o=await by(e,n)}catch(e){return qg(t,e)}const r=gy(o);if(!o||!o.children||null==r)return Hg(t,i.isClipRelatedView()?Sg("common.no_clip"):Sg("common.no_snapshot"),"info",{icon:i.isClipRelatedView()?"mdi:filmstrip-off":"mdi:camera-off"});i.evolve({target:o,childIndex:r}).dispatchChangeEvent(t)},xy=(t,e)=>({title:t,media_class:"playlist",media_content_type:"playlist",media_content_id:"",can_play:!1,can_expand:!0,children_media_class:"playlist",thumbnail:null,children:e}),By=(t,e,i)=>{var n;return Object.assign({title:t,media_class:"video",media_content_type:"video",media_content_id:e,can_play:!0,can_expand:!1,thumbnail:null!==(n=null==i?void 0:i.thumbnail)&&void 0!==n?n:null,children:null},(null==i?void 0:i.recording)&&{frigate:{recording:i.recording}})};function ky(t){if(!t.end_time)return Sg("event.in_progress");const e=yv(t.start_time),i=yv(t.end_time),n=function(t,e,i){nf(2,arguments);var n=pf(t,e)/36e5;return gf(null==i?void 0:i.roundingMethod)(n)}(i,e),o=function(t,e,i){nf(2,arguments);var n=pf(t,e)/6e4;return gf(null==i?void 0:i.roundingMethod)(n)}(i,e)-60*n;let r="";return n&&(r+=`${n}h `),o&&(r+=`${o}m `),r+=`${ff(i,e)-60*n*60-60*o}s`,r}var Sy=":host {\n  display: flex;\n  width: 100%;\n  margin-left: 5px;\n  padding: 8px;\n  color: var(--primary-text-color);\n  overflow: hidden;\n  column-gap: 5%;\n}\n\ndiv.right,\ndiv.left {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\ndiv.right {\n  align-items: center;\n}\n\ndiv.left {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  align-content: flex-start;\n  justify-content: center;\n  overflow: hidden;\n  column-gap: 5%;\n}\n\ndiv.left div {\n  width: 100%;\n}\n\nspan.heading {\n  font-weight: bold;\n}\n\ndiv.larger,\nspan.larger {\n  font-size: 1.5rem;\n}";const Dy="m 4.8759466,22.743573 c 0.0866,0.69274 0.811811,1.16359 0.37885,1.27183 -0.43297,0.10824 -2.32718,-3.43665 -2.7601492,-4.95202 -0.4329602,-1.51538 -0.6764993,-3.22017 -0.5682593,-4.19434 0.1082301,-0.97417 5.7097085,-2.48955 5.7097085,-2.89545 0,-0.4059 -1.81304,-0.0271 -1.89422,-0.35178 -0.0812,-0.32472 1.36925,-0.12989 1.75892,-0.64945 0.60885,-0.81181 1.3800713,-0.6765 1.8671505,-1.1094696 0.4870902,-0.4329599 1.0824089,-2.0836399 1.1906589,-2.7871996 0.108241,-0.70357 -1.0824084,-1.51538 -1.4071389,-2.05658 -0.3247195,-0.54121 0.7035702,-0.92005 3.1931099,-1.94834 2.48954,-1.02829 10.39114,-3.30134994 10.49938,-3.03074994 0.10824,0.27061 -2.59779,1.40713994 -4.492,2.11069994 -1.89422,0.70357 -4.97909,2.05658 -4.97909,2.43542 0,0.37885 0.16236,0.67651 0.0541,1.54244 -0.10824,0.86593 -0.12123,1.2702597 -0.32472,1.8400997 -0.1353,0.37884 -0.2706,1.27183 0,2.0836295 0.21648,0.64945 0.92005,1.13653 1.24477,1.24478 0.2706,0.018 1.01746,0.0433 1.8401,0 1.02829,-0.0541 2.48954,0.0541 2.48954,0.32472 0,0.2706 -2.21894,0.10824 -2.21894,0.48708 0,0.37885 2.27306,-0.0541 2.21894,0.32473 -0.0541,0.37884 -1.89422,0.21648 -2.86839,0.21648 -0.77933,0 -1.93031,-0.0361 -2.43542,-0.21648 l -0.10824,0.37884 c -0.18038,0 -0.55744,0.10824 -0.94711,0.10824 -0.48708,0 -0.51414,0.16236 -1.40713,0.16236 -0.892989,0 -0.622391,-0.0541 -1.4341894,-0.10824 -0.81181,-0.0541 -3.842561,2.27306 -4.383761,3.03075 -0.54121,0.75768 -0.21649,2.59778 -0.21649,3.43665 0,0.75379 -0.10824,2.43542 0,3.30135 z",Qy=dp.object({hour:dp.preprocess((t=>Number(t)),dp.number().min(0).max(23)),duration:dp.number().min(0),events:dp.number().min(0)}),My=dp.object({day:dp.preprocess((t=>"string"==typeof t?new Date(`${t}T00:00:00`):t),dp.date()),events:dp.number(),hours:Qy.array()}).array(),Ty=dp.object({start_time:dp.number(),end_time:dp.number(),id:dp.string()}).array(),Oy=dp.object({success:dp.boolean(),message:dp.string()}),Ry=async(t,e,i)=>await ty(t,My,{type:"frigate/recordings/summary",instance_id:e,camera:i},!0),Py=async(t,e,i,n,o)=>await ty(t,Ty,{type:"frigate/recordings/get",instance_id:e,camera:i,before:Math.floor(n.getTime()/1e3),after:Math.ceil(o.getTime()/1e3)},!0);const Ny=t=>[t.frigate.client_id,t.frigate.camera_name].join("/"),Fy=(t,e,i,n)=>K` ${e.render({initial:()=>{var t;return null!==(t=null==n?void 0:n())&&void 0!==t?t:Ug()},pending:()=>{var t;return null!==(t=null==n?void 0:n())&&void 0!==t?t:Ug()},error:e=>{Og(e),qg(t,e)},complete:i})}`,Ly=Symbol();class jy{constructor(t,e,i){this.o=0,this.status=0,this.autoRun=!0,this.i=t,this.i.addController(this);const n="object"==typeof e?e:{task:e,args:i};this.t=n.task,this.h=n.args,void 0!==n.autoRun&&(this.autoRun=n.autoRun),this.taskComplete=new Promise(((t,e)=>{this.l=t,this.u=e}))}hostUpdated(){this.performTask()}async performTask(){var t;const e=null===(t=this.h)||void 0===t?void 0:t.call(this);this.shouldRun(e)&&this.run(e)}shouldRun(t){return this.autoRun&&this.v(t)}async run(t){var e;let i,n;null!=t||(t=null===(e=this.h)||void 0===e?void 0:e.call(this)),2!==this.status&&3!==this.status||(this.taskComplete=new Promise(((t,e)=>{this.l=t,this.u=e}))),this.status=1,this._=void 0,this.m=void 0,this.i.requestUpdate();const o=++this.o;try{i=await this.t(t)}catch(t){n=t}this.o===o&&(i===Ly?this.status=0:(void 0===n?(this.status=2,this.l(i)):(this.status=3,this.u(n)),this.m=i,this._=n),this.i.requestUpdate())}get value(){return this.m}get error(){return this._}render(t){var e,i,n,o;switch(this.status){case 0:return null===(e=t.initial)||void 0===e?void 0:e.call(t);case 1:return null===(i=t.pending)||void 0===i?void 0:i.call(t);case 2:return null===(n=t.complete)||void 0===n?void 0:n.call(t,this.value);case 3:return null===(o=t.error)||void 0===o?void 0:o.call(t,this.error);default:this.status}}v(t){const e=this.T;return this.T=t,Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.some(((t,i)=>D(t,e[i]))):t!==e}}const zy=(t,e,i)=>new jy(t,(async([t,i])=>{const n=e();return t&&n&&i?(async(t,e)=>t?(null==e?void 0:e.startsWith("data:"))?e:new Promise(((i,n)=>{t?t.fetchWithAuth(e).then((t=>t.blob())).then((t=>{const e=new FileReader;e.onload=()=>{const t=e.result;i("string"==typeof t?t:null)},e.onerror=t=>n(t),e.readAsDataURL(t)})):n()})):null)(n,i):null}),(()=>[!!e(),i()]));let Uy=class extends gt{constructor(){super(...arguments),this._embedThumbnailTask=zy(this,(()=>this.hass),(()=>this.thumbnail))}render(){return K`
      ${this.thumbnail?Fy(this,this._embedThumbnailTask,(t=>t?K`<img src="${t}" />`:K``)):K`<ha-icon
            icon="mdi:image-off"
            title=${Sg("thumbnail.no_thumbnail")}
          ></ha-icon> `}
    `}static get styles(){return _(":host {\n  display: block;\n  overflow: hidden;\n}\n\nimg {\n  display: block;\n}\n\nimg,\nha-icon,\nfrigate-card-progress-indicator {\n  border-radius: var(--ha-card-border-radius, 4px);\n  max-width: var(--frigate-card-thumbnail-size);\n  max-height: 100%;\n  aspect-ratio: 1/1;\n  object-fit: cover;\n}\n\nha-icon {\n  --mdc-icon-size: 50%;\n  color: var(--primary-text-color);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 1px solid rgba(255, 255, 255, 0.3);\n  box-sizing: border-box;\n}")}};t([yt({attribute:!1})],Uy.prototype,"thumbnail",void 0),t([yt({attribute:!1})],Uy.prototype,"hass",void 0),Uy=t([vt("frigate-card-thumbnail-feature-event")],Uy);let Hy=class extends gt{render(){if(this.date)return K`
      <div class="title">${vv(this.date,"HH:mm")}</div>
      <div class="subtitle">${vv(this.date,"MMM do")}</div>
    `}static get styles(){return _(":host {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  aspect-ratio: 1/1;\n  overflow: hidden;\n  max-width: var(--frigate-card-thumbnail-size);\n  max-height: var(--frigate-card-thumbnail-size);\n  padding: 10px;\n  border: 1px solid var(--secondary-color);\n  background-color: var(--secondary-background-color);\n  border-radius: var(--ha-card-border-radius, 4px);\n  box-sizing: border-box;\n  color: var(--primary-text-color);\n}\n\ndiv {\n  text-align: center;\n}\n\ndiv.title {\n  font-size: 1.5rem;\n}")}};t([yt({attribute:!1})],Hy.prototype,"date",void 0),Hy=t([vt("frigate-card-thumbnail-feature-recording")],Hy);let Gy=class extends gt{render(){if(!this.event)return;const t=(100*this.event.top_score).toFixed(2)+"%";return K`<div class="left">
        <div class="larger">${Qg(this.event.label)}</div>
        <div>
          <span class="heading">${Sg("event.start")}:</span>
          <span>${vv(yv(this.event.start_time),"HH:mm:ss")}</span>
        </div>
        <div>
          <span class="heading">${Sg("event.duration")}:</span>
          <span>${ky(this.event)}</span>
        </div>
      </div>
      <div class="right">
        <span class="larger">${t}</span>
      </div>`}static get styles(){return _(Sy)}};t([yt({attribute:!1})],Gy.prototype,"event",void 0),Gy=t([vt("frigate-card-thumbnail-details-event")],Gy);let qy=class extends gt{render(){if(this.recording)return K`<div class="left">
        <div class="larger">${Qg(this.recording.camera)||""}</div>
        ${this.recording.seek_time?K` <div>
              <span class="heading">${Sg("recording.seek")}</span>
              <span>${vv(yv(this.recording.seek_time),"HH:mm:ss")}</span>
            </div>`:K``}
      </div>
      <div class="right">
        <span class="larger">${this.recording.events}</span>
        <span>${Sg("recording.events")}</span>
      </div>`}static get styles(){return _(Sy)}};t([yt({attribute:!1})],qy.prototype,"recording",void 0),qy=t([vt("frigate-card-thumbnail-details-recording")],qy);let Yy=class extends gt{constructor(){super(...arguments),this.details=!1,this.show_favorite_control=!1,this.show_timeline_control=!1}render(){var t,e,i,n;let o=null,r=null,s=null,a=null;if(this.target&&this.target.children&&void 0!==this.childIndex){const l=this.target.children[this.childIndex];o=null!==(e=null===(t=l.frigate)||void 0===t?void 0:t.event)&&void 0!==e?e:null,r=null!==(n=null===(i=l.frigate)||void 0===i?void 0:i.recording)&&void 0!==n?n:null,s=l.thumbnail,a=l.title}if(this.event&&(o=this.event),s=this.thumbnail?this.thumbnail:s,a=this.label?this.label:a,!o&&!r)return;const l={star:!0,starred:!!(null==o?void 0:o.retain_indefinitely)};return K` ${o?K`<frigate-card-thumbnail-feature-event
          aria-label="${null!=a?a:""}"
          title="${null!=a?a:""}"
          .hass=${this.hass}
          .thumbnail=${null!=s?s:void 0}
          .label=${null!=a?a:void 0}
        ></frigate-card-thumbnail-feature-event>`:K`<frigate-card-thumbnail-feature-recording
          aria-label="${null!=a?a:""}"
          title="${null!=a?a:""}"
          .date=${r?yv(r.start_time):void 0}
        ></frigate-card-thumbnail-feature-recording>`}
    ${this.show_favorite_control&&o&&this.hass&&this.clientID?K` <ha-icon
            class="${Dt(l)}"
            icon=${(null==o?void 0:o.retain_indefinitely)?"mdi:star":"mdi:star-outline"}
            title=${Sg("thumbnail.retain_indefinitely")}
            @click=${t=>{Vm(t),o&&this.hass&&this.clientID&&async function(t,e,i,n){const o={type:"frigate/event/retain",instance_id:e,event_id:i,retain:n},r=await ty(t,Oy,o,!0);if(!r.success)throw new fp(Sg("error.failed_retain"),{request:o,response:r})}(this.hass,this.clientID,o.id,!o.retain_indefinitely).then((()=>{o&&(o.retain_indefinitely=!o.retain_indefinitely,this.requestUpdate())})).catch((t=>{Og(t)}))}}
          /></ha-icon>`:""}
    ${this.details&&o?K`<frigate-card-thumbnail-details-event
          .event=${null!=o?o:void 0}
        ></frigate-card-thumbnail-details-event>`:this.details&&r?K`<frigate-card-thumbnail-details-recording
          .recording=${null!=r?r:void 0}
        ></frigate-card-thumbnail-details-recording>`:K``}
    ${this.show_timeline_control?K`<ha-icon
          class="timeline"
          icon="mdi:target"
          title=${Sg("thumbnail.timeline")}
          @click=${t=>{var e,i,n;Vm(t),o?null===(e=this.view)||void 0===e||e.evolve({view:"timeline",target:this.target,childIndex:null!==(i=this.childIndex)&&void 0!==i?i:null}).removeContext("timeline").dispatchChangeEvent(this):r&&(null===(n=this.view)||void 0===n||n.evolve({view:"timeline",target:null,childIndex:null}).mergeInContext({timeline:{window:{start:yv(r.start_time),end:yv(r.end_time)}}}).dispatchChangeEvent(this))}}
        ></ha-icon>`:""}`}static get styles(){return _(":host {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  position: relative;\n  overflow: hidden;\n  transition: transform 0.2s linear;\n}\n\n:host(:not([details])) {\n  aspect-ratio: 1/1;\n}\n\n:host([details]) {\n  border: 1px solid var(--primary-color);\n  border-radius: var(--ha-card-border-radius, 4px);\n  padding: 2px;\n  background-color: var(--primary-background-color, black);\n}\n\n:host(:hover) {\n  transform: scale(1.04);\n}\n\nha-icon {\n  position: absolute;\n  border-radius: 50%;\n  opacity: 0.5;\n  color: var(--primary-color);\n  top: 3px;\n  cursor: pointer;\n  transition: opacity 0.2s ease-in-out, color 0.2s ease-in-out;\n}\n\nha-icon:hover {\n  opacity: 1;\n}\n\nha-icon.star {\n  left: 3px;\n}\n\nha-icon.star.starred {\n  color: gold;\n}\n\nha-icon.timeline {\n  right: 3px;\n}\n\nfrigate-card-thumbnail-details-event, frigate-card-thumbnail-details-recording {\n  flex: 1;\n}")}};t([yt({attribute:!0,type:Boolean})],Yy.prototype,"details",void 0),t([yt({attribute:!0,type:Boolean})],Yy.prototype,"show_favorite_control",void 0),t([yt({attribute:!0,type:Boolean})],Yy.prototype,"show_timeline_control",void 0),t([yt({attribute:!1})],Yy.prototype,"target",void 0),t([yt({attribute:!1})],Yy.prototype,"childIndex",void 0),t([yt({attribute:!0})],Yy.prototype,"thumbnail",void 0),t([yt({attribute:!0})],Yy.prototype,"label",void 0),t([yt({attribute:!1})],Yy.prototype,"event",void 0),t([yt({attribute:!1})],Yy.prototype,"view",void 0),t([yt({attribute:!1})],Yy.prototype,"hass",void 0),t([yt({attribute:!1})],Yy.prototype,"clientID",void 0),Yy=t([vt("frigate-card-thumbnail")],Yy);let $y=class extends gt{render(){var t;const e=null===(t=this.view)||void 0===t?void 0:t.getMediaType();if(this.hass&&this.view&&this.cameras&&this.view.isGalleryView()&&e){if(!this.view.target){const t=Iy(this,this.hass,this.cameras,this.view.camera,e);if(!t)return;return Ey(this,this.hass,this.view,t),Ug()}return K`
      <frigate-card-gallery-core
        .hass=${this.hass}
        .view=${this.view}
        .galleryConfig=${this.galleryConfig}
        .cameras=${this.cameras}
      >
      </frigate-card-gallery-core>
    `}}static get styles(){return w`
      :host {
        display: block;
        width: 100%;
        height: 100%;
      }
    `}};t([yt({attribute:!1})],$y.prototype,"hass",void 0),t([yt({attribute:!1})],$y.prototype,"view",void 0),t([yt({attribute:!1})],$y.prototype,"galleryConfig",void 0),t([yt({attribute:!1})],$y.prototype,"cameras",void 0),$y=t([vt("frigate-card-gallery")],$y);let Wy=class extends gt{constructor(){super(),this._resizeObserver=new ResizeObserver(this._resizeHandler.bind(this))}connectedCallback(){super.connectedCallback(),this._resizeObserver.observe(this)}disconnectedCallback(){this._resizeObserver.disconnect(),super.disconnectedCallback()}_setColumnCount(){var t,e,i;const n=null!==(e=null===(t=this.galleryConfig)||void 0===t?void 0:t.controls.thumbnails.size)&&void 0!==e?e:Pm.event_gallery.controls.thumbnails.size,o=(null===(i=this.galleryConfig)||void 0===i?void 0:i.controls.thumbnails.show_details)?Math.max(1,Math.floor(this.clientWidth/300)):Math.max(1,Math.ceil(this.clientWidth/175),Math.ceil(this.clientWidth/n));this.style.setProperty("--frigate-card-gallery-columns",String(o))}_resizeHandler(){this._setColumnCount()}_showBackArrow(){var t;return!!(null===(t=this.view)||void 0===t?void 0:t.previous)&&!!this.view.previous.target&&this.view.previous.view===this.view.view}willUpdate(t){var e,i;t.has("galleryConfig")&&((null===(e=this.galleryConfig)||void 0===e?void 0:e.controls.thumbnails.show_details)?this.setAttribute("details",""):this.removeAttribute("details"),this._setColumnCount(),(null===(i=this.galleryConfig)||void 0===i?void 0:i.controls.thumbnails.size)&&this.style.setProperty("--frigate-card-thumbnail-size",`${this.galleryConfig.controls.thumbnails.size}px`))}render(){if(!(this.hass&&this.view&&this.view.target&&this.view.target.children&&(this.view.is("clips")||this.view.is("snapshots"))&&this.cameras))return K``;const t=this.cameras.get(this.view.camera);return K`
      ${this._showBackArrow()?K` <ha-card
            @click=${t=>{this.view&&this.view.previous&&this.view.previous.dispatchChangeEvent(this),Vm(t)}}
            outlined=""
          >
            <ha-icon .icon=${"mdi:arrow-left"}></ha-icon>
          </ha-card>`:""}
      ${this.view.target.children.map(((e,i)=>{var n,o,r,s,a;return K`
            ${e.can_expand?K`
                  <ha-card
                    @click=${t=>{this.hass&&this.view&&(async(t,e,i,n)=>{let o;try{o=await fy(e,n.media_content_id)}catch(e){return qg(t,e)}i.evolve({target:o}).dispatchChangeEvent(t)})(this,this.hass,this.view,e),Vm(t)}}
                    outlined=""
                  >
                    <div>${e.title}</div>
                  </ha-card>
                `:e.thumbnail?K`<frigate-card-thumbnail
                  .view=${this.view}
                  .target=${null!==(o=null===(n=this.view)||void 0===n?void 0:n.target)&&void 0!==o?o:null}
                  .childIndex=${i}
                  .hass=${this.hass}
                  .clientID=${null==t?void 0:t.frigate.client_id}
                  ?details=${!!(null===(r=this.galleryConfig)||void 0===r?void 0:r.controls.thumbnails.show_details)}
                  ?show_favorite_control=${!!(null===(s=this.galleryConfig)||void 0===s?void 0:s.controls.thumbnails.show_favorite_control)}
                  ?show_timeline_control=${!!(null===(a=this.galleryConfig)||void 0===a?void 0:a.controls.thumbnails.show_timeline_control)}
                  @click=${t=>{this.view&&this.view.evolve({view:this.view.is("clips")?"clip":"snapshot",childIndex:i}).dispatchChangeEvent(this),Vm(t)}}
                >
                </frigate-card-thumbnail>`:""}
          `}))}
    `}static get styles(){return _(":host {\n  width: 100%;\n  height: auto;\n  overflow: auto;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  --frigate-card-gallery-gap: 3px;\n  --frigate-card-gallery-columns: 4;\n  display: grid;\n  grid-template-columns: repeat(var(--frigate-card-gallery-columns), minmax(0, 1fr));\n  grid-auto-rows: 1fr;\n  gap: var(--frigate-card-gallery-gap);\n}\n\n:host::-webkit-scrollbar {\n  display: none;\n}\n\n:host ha-card {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  box-sizing: border-box;\n  text-align: center;\n  color: var(--primary-text-color, white);\n  border: 1px solid var(--primary-color);\n  border-radius: var(--ha-card-border-radius, 4px);\n  background-color: var(--primary-background-color, black);\n  padding: 10px;\n  line-height: 1;\n  overflow: hidden;\n  margin: 0px !important;\n  box-shadow: none !important;\n  transition: transform 0.2s linear;\n}\n\nha-card:hover {\n  transform: scale(1.04);\n}\n\nha-card,\nfrigate-card-thumbnail {\n  height: 100%;\n  max-height: var(--frigate-card-thumbnail-size);\n}\n\nfrigate-card-thumbnail:not([details]) {\n  width: 100%;\n}")}};t([yt({attribute:!1})],Wy.prototype,"hass",void 0),t([yt({attribute:!1})],Wy.prototype,"view",void 0),t([yt({attribute:!1})],Wy.prototype,"galleryConfig",void 0),t([yt({attribute:!1})],Wy.prototype,"cameras",void 0),Wy=t([vt("frigate-card-gallery-core")],Wy);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Vy=kt(class extends St{constructor(t){if(super(t),t.type!==xt&&t.type!==It&&t.type!==Bt)throw Error("The `live` directive is not allowed on child or event bindings");if(!Qt(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===Z||e===X)return e;const i=t.element,n=t.name;if(t.type===xt){if(e===i[n])return Z}else if(t.type===Bt){if(!!e===i.hasAttribute(n))return Z}else if(t.type===It&&i.getAttribute(n)===e+"")return Z;return Tt(t),e}});class Jy{constructor(t,e,i){this._timerSeconds=e,this._callback=i,(this._host=t).addController(this)}removeController(){this.stopTimer(),this._host.removeController(this)}get value(){return this._value}updateValue(){this._value=this._callback()}clearValue(){this._value=void 0}stopTimer(){void 0!==this._timerID&&window.clearInterval(this._timerID),this._timerID=void 0}startTimer(){this.stopTimer(),this._timerSeconds>0&&(this._timerID=window.setInterval((()=>{this.updateValue(),this._host.requestUpdate()}),1e3*this._timerSeconds))}hostConnected(){this.updateValue(),this.startTimer(),this._host.requestUpdate()}hostDisconnected(){this.clearValue(),this.stopTimer()}}var Ky="data:image/jpeg;base64,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";const Zy=(t,e)=>{var i;void 0!==(null==e?void 0:e.fit)?t.style.setProperty("--frigate-card-media-layout-fit",e.fit):t.style.removeProperty("--frigate-card-media-layout-fit");for(const n of["x","y"])void 0!==(null===(i=null==e?void 0:e.position)||void 0===i?void 0:i[n])?t.style.setProperty(`--frigate-card-media-layout-position-${n}`,`${e.position[n]}%`):t.style.removeProperty(`--frigate-card-media-layout-position-${n}`)};function Xy(t){let e;return e=t instanceof Event?t.composedPath()[0]:t,e instanceof HTMLImageElement?{width:e.naturalWidth,height:e.naturalHeight}:e instanceof HTMLVideoElement?{width:e.videoWidth,height:e.videoHeight}:e instanceof HTMLCanvasElement?{width:e.width,height:e.height}:null}function t_(t,e){const i=Xy(e);i&&e_(t,i)}function e_(t,e){Dg(t,"media:loaded",e)}function i_(t){return t.height>=50&&t.width>=50}let n_=class extends gt{constructor(){super(...arguments),this._refImage=zt(),this._boundVisibilityHandler=this._visibilityHandler.bind(this)}_getCameraEntity(){var t,e,i,n;return null!==(n=(null===(t=this.cameraConfig)||void 0===t?void 0:t.camera_entity)||(null===(i=null===(e=this.cameraConfig)||void 0===e?void 0:e.webrtc_card)||void 0===i?void 0:i.entity))&&void 0!==n?n:null}shouldUpdate(t){var e,i;if(!this.hass||"visible"!==document.visibilityState)return!1;const n=this._getCameraEntity();return!t.has("hass")||1!=t.size||"camera"!==(null===(e=this.imageConfig)||void 0===e?void 0:e.mode)||!n||!!ny(this.hass,t.get("hass"),[n])&&(null===(i=this._cachedValueController)||void 0===i||i.clearValue(),!0)}willUpdate(t){var e,i,n,o,r;t.has("imageConfig")&&(this._cachedValueController&&this._cachedValueController.removeController(),this.imageConfig&&(this._cachedValueController=new Jy(this,this.imageConfig.refresh_seconds,this._getImageSource.bind(this))),Zy(this,null===(e=this.imageConfig)||void 0===e?void 0:e.layout)),(t.has("cameraConfig")||t.has("view")||"camera"===(null===(i=this.imageConfig)||void 0===i?void 0:i.mode)&&!this._getAcceptableState(this._getCameraEntity()))&&(null===(n=this._cachedValueController)||void 0===n||n.clearValue()),(null===(o=this._cachedValueController)||void 0===o?void 0:o.value)||null===(r=this._cachedValueController)||void 0===r||r.updateValue()}_getAcceptableState(t){var e,i;const n=null!==(i=t?null===(e=this.hass)||void 0===e?void 0:e.states[t]:null)&&void 0!==i?i:null;return this.hass&&this.hass.connected&&n&&Date.now()-Date.parse(n.last_updated)<3e5?n:null}connectedCallback(){var t;super.connectedCallback(),document.addEventListener("visibilitychange",this._boundVisibilityHandler),null===(t=this._cachedValueController)||void 0===t||t.startTimer()}disconnectedCallback(){var t;null===(t=this._cachedValueController)||void 0===t||t.stopTimer(),document.removeEventListener("visibilitychange",this._boundVisibilityHandler),super.disconnectedCallback()}_visibilityHandler(){var t,e,i;this._refImage.value&&("hidden"===document.visibilityState?(null===(t=this._cachedValueController)||void 0===t||t.stopTimer(),null===(e=this._cachedValueController)||void 0===e||e.clearValue(),this._forceSafeImage()):(null===(i=this._cachedValueController)||void 0===i||i.startTimer(),this.requestUpdate()))}_buildImageURL(t){const e=new URL(t,document.baseURI);return e.searchParams.append("_t",String(Date.now())),e.toString()}_getImageSource(){var t,e,i;if(this.hass&&"camera"===(null===(t=this.imageConfig)||void 0===t?void 0:t.mode)){const t=this._getAcceptableState(this._getCameraEntity());if(null==t?void 0:t.attributes.entity_picture)return this._buildImageURL(t.attributes.entity_picture)}return"screensaver"!==(null===(e=this.imageConfig)||void 0===e?void 0:e.mode)&&(null===(i=this.imageConfig)||void 0===i?void 0:i.url)?this._buildImageURL(this.imageConfig.url):Ky}_forceSafeImage(t){var e;this._refImage.value&&(this._refImage.value.src=!t&&(null===(e=this.imageConfig)||void 0===e?void 0:e.url)?this.imageConfig.url:Ky)}render(){var t;const e=null===(t=this._cachedValueController)||void 0===t?void 0:t.value;return e?K` <img
          ${Gt(this._refImage)}
          src=${Vy(e)}
          @load=${t=>{t_(this,t)}}
          @error=${()=>{var t,e;"camera"===(null===(t=this.imageConfig)||void 0===t?void 0:t.mode)?this._forceSafeImage(!0):"url"===(null===(e=this.imageConfig)||void 0===e?void 0:e.mode)&&Gg(this,Sg("error.image_load_error"),{context:this.imageConfig})}}
        />`:K``}static get styles(){return _("img {\n  width: 100%;\n  height: 100%;\n  display: block;\n  object-fit: var(--frigate-card-media-layout-fit, contain);\n  object-position: var(--frigate-card-media-layout-position-x, 50%) var(--frigate-card-media-layout-position-y, 50%);\n}")}};function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},o_.apply(this,arguments)}function r_(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,s_(t,e)}function s_(t,e){return s_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s_(t,e)}t([yt({attribute:!1})],n_.prototype,"hass",void 0),t([yt({attribute:!1})],n_.prototype,"view",void 0),t([yt({attribute:!1})],n_.prototype,"cameraConfig",void 0),t([yt({attribute:!1,hasChanged:Tg})],n_.prototype,"imageConfig",void 0),n_=t([vt("frigate-card-image")],n_);var a_=t=>"string"==typeof t&&t.constructor===String,l_=t=>"Promise"===Object.prototype.toString.call(t).slice(8,-1);var d_="WJ3NAvwFY9",c_="tR2-0dd-e1",h_="ZgIIHVSSYI",u_="kAA8SjbHe2",A_="OueN4AU4CJ";!function(t,e){void 0===e&&(e={});var i=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===i&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".WJ3NAvwFY9,.ZgIIHVSSYI,.kAA8SjbHe2,.tR2-0dd-e1{height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ZgIIHVSSYI{-ms-flex-pack:center;-ms-flex-align:center;-webkit-align-items:center;align-items:center;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:center;justify-content:center}.WJ3NAvwFY9,.tR2-0dd-e1{display:block}.tR2-0dd-e1.OueN4AU4CJ{display:none}.ZgIIHVSSYI,.kAA8SjbHe2{-webkit-tap-highlight-color:rgba(255,0,0,0);cursor:pointer;opacity:.7}.OueN4AU4CJ.ZgIIHVSSYI,.OueN4AU4CJ.kAA8SjbHe2{display:none}.ZgIIHVSSYI{z-index:10}.ZgIIHVSSYI>svg{fill:#fff;height:12vw;max-height:60px;max-width:60px;width:12vw}.kAA8SjbHe2{-ms-flex-pack:end;-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:flex-end;justify-content:flex-end;z-index:10}.kAA8SjbHe2>svg{fill:#fff;height:9vw;margin:0 15px 15px 0;max-height:40px;max-width:40px;width:9vw}");var p_=function(){function t(t,e,i,n){var o=void 0===i?{}:i,r=o.canvas,s=void 0===r?"":r,a=o.poster,l=void 0===a?"":a,d=o.autoplay,c=void 0!==d&&d,h=o.autoSetWrapperSize,u=void 0!==h&&h,A=o.loop,p=void 0!==A&&A,m=o.control,g=void 0===m||m,f=o.decodeFirstFrame,v=void 0===f||f,b=o.picMode,y=void 0!==b&&b,_=o.progressive,w=void 0===_||_,C=o.chunkSize,I=void 0===C?1048576:C,E=o.hooks,x=void 0===E?{}:E;void 0===n&&(n={}),this.options=o_({videoUrl:e,canvas:s,poster:l,picMode:y,autoplay:c,autoSetWrapperSize:u,loop:p,control:g,decodeFirstFrame:v,progressive:w,chunkSize:I,hooks:o_({play:function(){},pause:function(){},stop:function(){},load:function(){}},x)},n),this.options.needPlayButton=this.options.control&&!this.options.picMode,this.player=null,this.els={wrapper:a_(t)?document.querySelector(t):t,canvas:null,playButton:document.createElement("div"),unmuteButton:null,poster:null},"static"===window.getComputedStyle(this.els.wrapper).getPropertyValue("position")&&(this.els.wrapper.style.position="relative"),this.els.wrapper.clientRect=this.els.wrapper.getBoundingClientRect(),this.initCanvas(),this.initPlayButton(),this.initPlayer()}var e=t.prototype;return e.initCanvas=function(){this.options.canvas?this.els.canvas=a_(this.options.canvas)?document.querySelector(this.options.canvas):this.options.canvas:(this.els.canvas=document.createElement("canvas"),this.els.canvas.classList.add(d_),this.els.wrapper.appendChild(this.els.canvas))},e.initPlayer=function(){var t=this;this.options=o_(this.options,{canvas:this.els.canvas});var e=o_({},this.options,{autoplay:!1});if(this.player=new T_(this.options.videoUrl,e,{play:function(){t.options.needPlayButton&&t.els.playButton.classList.add(A_),t.els.poster&&t.els.poster.classList.add(A_),t.options.hooks.play()},pause:function(){t.options.needPlayButton&&t.els.playButton.classList.remove(A_),t.options.hooks.pause()},stop:function(){t.els.poster&&t.els.poster.classList.remove(A_),t.options.hooks.stop()},load:function(){t.options.autoplay&&t.play(),t._autoSetWrapperSize(),t.options.hooks.load()}}),this._copyPlayerFuncs(),this.els.wrapper.playerInstance=this.player,!this.options.poster||this.options.autoplay||this.player.options.streaming||(this.options.decodeFirstFrame=!1,this.els.poster=new Image,this.els.poster.src=this.options.poster,this.els.poster.classList.add(c_),this.els.wrapper.appendChild(this.els.poster)),this.player.options.streaming||this.els.wrapper.addEventListener("click",this.onClick.bind(this)),(this.options.autoplay||this.player.options.streaming)&&this.els.playButton.classList.add(A_),this.player.audioOut&&!this.player.audioOut.unlocked){var i=this.els.wrapper;(this.options.autoplay||this.player.options.streaming)&&(this.els.unmuteButton=document.createElement("div"),this.els.unmuteButton.innerHTML='\n<svg viewBox="0 0 64 64">\n  <path d="M58.3,45.5l-4.8-4.3c1.4-2.9,2.2-6.2,2.2-9.6c0-11.1-8.2-20.3-18.9-21.9V3.3C50.9,4.9,62,16.9,62,31.6 C62,36.6,60.6,41.4,58.3,45.5L58.3,45.5z M30.4,5.6v15.2l-8.3-7.3L30.4,5.6L30.4,5.6z M36.7,19.9c4.6,1.9,7.9,6.4,7.9,11.7 c0,0.6-0.1,1.1-0.1,1.7l-7.8-6.9V19.9L36.7,19.9z M57.5,60.7l-7.1-6.3c-3.9,2.9-8.6,4.8-13.7,5.4v-6.4c3.2-0.5,6.2-1.7,8.8-3.4 l-8.1-7.2c-0.2,0.1-0.5,0.3-0.7,0.4v-1l-6.3-5.6v20.2L15.4,42.6H2V20.5h10.2l-9.7-8.6l4.2-4.7L61.7,56L57.5,60.7L57.5,60.7z"/>\n</svg>\n',this.els.unmuteButton.classList.add(u_),this.els.wrapper.appendChild(this.els.unmuteButton),i=this.els.unmuteButton),this.unlockAudioBound=this.onUnlockAudio.bind(this,i),i.addEventListener("touchstart",this.unlockAudioBound,!1),i.addEventListener("click",this.unlockAudioBound,!0)}},e.initPlayButton=function(){this.options.needPlayButton&&(this.els.playButton.classList.add(h_),this.els.playButton.innerHTML='\n<svg viewBox="0 0 64 64">\n  <path d="M26,45.5L44,32L26,18.6v27V45.5L26,45.5z M32,2C15.4,2,2,15.5,2,32c0,16.6,13.4,30,30,30c16.6,0,30-13.4,30-30 C62,15.4,48.5,2,32,2L32,2z M32,56c-9.7,0-18.5-5.9-22.2-14.8C6.1,32.2,8.1,21.9,15,15c6.9-6.9,17.2-8.9,26.2-5.2 C50.1,13.5,56,22.3,56,32C56,45.3,45.2,56,32,56L32,56z"/>\n</svg>\n',this.els.wrapper.appendChild(this.els.playButton))},e._autoSetWrapperSize=function(){var t=this;if(!this.options.autoSetWrapperSize)return Promise.resolve();var e=this.player.video.destination;return e?Promise.resolve().then((function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return l_(t)?t:new Promise((i=>{t(),setTimeout(i,e)}))}((function(){t.els.wrapper.style.width=e.width+"px",t.els.wrapper.style.height=e.height+"px"}))})):Promise.resolve()},e.onUnlockAudio=function(t,e){var i=this;this.els.unmuteButton&&(e.preventDefault(),e.stopPropagation()),this.player.audioOut.unlock((function(){i.els.unmuteButton&&i.els.unmuteButton.classList.add(A_),t.removeEventListener("touchstart",i.unlockAudioBound),t.removeEventListener("click",i.unlockAudioBound)}))},e.onClick=function(){this.options.control&&(this.player.isPlaying?this.pause():this.play())},e._copyPlayerFuncs=function(){var t=this;this.play=function(){return t.player.play()},this.pause=function(){return t.player.pause()},this.stop=function(){return t.player.stop()},this.destroy=function(){t.player.destroy(),t.els.wrapper.innerHTML="",t.els.wrapper.playerInstance=null}},t}(),m_=function(){return window.performance?window.performance.now()/1e3:Date.now()/1e3},g_=function(t,e){if(t.fill)t.fill(e);else for(var i=0;i<t.length;i++)t[i]=e},f_=function(t){for(var e=window.atob(t),i=e.length,n=new Uint8Array(i),o=0;o<i;o++)n[o]=e.charCodeAt(o);return n.buffer},v_=function(){function t(t,e){this.url=t,this.destination=null,this.request=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted,e.hookOnEstablished&&(this.hookOnEstablished=e.hookOnEstablished)}var e=t.prototype;return e.connect=function(t){this.destination=t},e.start=function(){this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){this.request.readyState===this.request.DONE&&200===this.request.status&&this.onLoad(this.request.response)}.bind(this),this.request.onprogress=this.onProgress.bind(this),this.request.open("GET",this.url),this.request.responseType="arraybuffer",this.request.send()},e.resume=function(){},e.destroy=function(){this.request.abort()},e.onProgress=function(t){this.progress=t.loaded/t.total},e.onLoad=function(t){this.established=!0,this.completed=!0,this.progress=1,this.hookOnEstablished&&this.hookOnEstablished(),this.onEstablishedCallback&&this.onEstablishedCallback(this),this.onCompletedCallback&&this.onCompletedCallback(this),this.destination&&this.destination.write(t)},t}(),b_=function(){function t(t,e){this.url=t,this.destination=null,this.request=null,this.streaming=!1,this.completed=!1,this.established=!1,this.progress=0,this.fileSize=0,this.loadedSize=0,this.chunkSize=e.chunkSize||1048576,this.isLoading=!1,this.loadStartTime=0,this.throttled=!1!==e.throttled,this.aborted=!1,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted,e.hookOnEstablished&&(this.hookOnEstablished=e.hookOnEstablished)}var e=t.prototype;return e.connect=function(t){this.destination=t},e.start=function(){var t=this;this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){t.request.readyState===t.request.DONE&&(t.fileSize=parseInt(t.request.getResponseHeader("Content-Length"),10),t.loadNextChunk())},this.request.onprogress=this.onProgress.bind(this),this.request.open("HEAD",this.url),this.request.send()},e.resume=function(t){!this.isLoading&&this.throttled&&(8*this.loadTime+2>t&&this.loadNextChunk())},e.destroy=function(){this.request.abort(),this.aborted=!0},e.loadNextChunk=function(){var t=this,e=this.loadedSize,i=Math.min(this.loadedSize+this.chunkSize-1,this.fileSize-1);if(e>=this.fileSize||this.aborted)return this.completed=!0,void(this.onCompletedCallback&&this.onCompletedCallback(this));this.isLoading=!0,this.loadStartTime=m_(),this.request=new XMLHttpRequest,this.request.onreadystatechange=function(){t.request.readyState===t.request.DONE&&t.request.status>=200&&t.request.status<300?t.onChunkLoad(t.request.response):t.request.readyState===t.request.DONE&&t.loadFails++<3&&t.loadNextChunk()},0===e&&(this.request.onprogress=this.onProgress.bind(this)),this.request.open("GET",this.url+"?"+e+"-"+i),this.request.setRequestHeader("Range","bytes="+e+"-"+i),this.request.responseType="arraybuffer",this.request.send()},e.onProgress=function(t){this.progress=t.loaded/t.total},e.onChunkLoad=function(t){var e=!this.established;this.established=!0,this.progress=1,this.loadedSize+=t.byteLength,this.loadFails=0,this.isLoading=!1,e&&this.hookOnEstablished&&this.hookOnEstablished(),e&&this.onEstablishedCallback&&this.onEstablishedCallback(this),this.destination&&this.destination.write(t),this.loadTime=m_()-this.loadStartTime,this.throttled||this.loadNextChunk()},t}(),y_=function(){function t(t,e){this.url=t,this.options=e,this.socket=null,this.streaming=!0,this.callbacks={connect:[],data:[]},this.destination=null,this.reconnectInterval=void 0!==e.reconnectInterval?e.reconnectInterval:5,this.shouldAttemptReconnect=!!this.reconnectInterval,this.completed=!1,this.established=!1,this.progress=0,this.reconnectTimeoutId=0,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted,e.hookOnEstablished&&(this.hookOnEstablished=e.hookOnEstablished)}var e=t.prototype;return e.connect=function(t){this.destination=t},e.destroy=function(){clearTimeout(this.reconnectTimeoutId),this.shouldAttemptReconnect=!1,this.socket.close()},e.start=function(){this.shouldAttemptReconnect=!!this.reconnectInterval,this.progress=0,this.established=!1,this.options.protocols?this.socket=new WebSocket(this.url,this.options.protocols):this.socket=new WebSocket(this.url),this.socket.binaryType="arraybuffer",this.socket.onmessage=this.onMessage.bind(this),this.socket.onopen=this.onOpen.bind(this),this.socket.onerror=this.onClose.bind(this),this.socket.onclose=this.onClose.bind(this)},e.resume=function(){},e.onOpen=function(){this.progress=1},e.onClose=function(){var t=this;this.shouldAttemptReconnect&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=setTimeout((function(){t.start()}),1e3*this.reconnectInterval))},e.onMessage=function(t){var e=!this.established;this.established=!0,e&&this.hookOnEstablished&&this.hookOnEstablished(),e&&this.onEstablishedCallback&&this.onEstablishedCallback(this),this.destination&&this.destination.write(t.data)},t}(),__=function(){function t(e,i){"object"==typeof e?(this.bytes=e instanceof Uint8Array?e:new Uint8Array(e),this.byteLength=this.bytes.length):(this.bytes=new Uint8Array(e||1048576),this.byteLength=0),this.mode=i||t.MODE.EXPAND,this.index=0}var e=t.prototype;return e.resize=function(t){var e=new Uint8Array(t);0!==this.byteLength&&(this.byteLength=Math.min(this.byteLength,t),e.set(this.bytes,0,this.byteLength)),this.bytes=e,this.index=Math.min(this.index,this.byteLength<<3)},e.evict=function(t){var e=this.index>>3,i=this.bytes.length-this.byteLength;if(this.index===this.byteLength<<3||t>i+e)return this.byteLength=0,void(this.index=0);0!==e&&(this.bytes.copyWithin?this.bytes.copyWithin(0,e,this.byteLength):this.bytes.set(this.bytes.subarray(e,this.byteLength)),this.byteLength-=e,this.index-=e<<3)},e.write=function(e){var i="object"==typeof e[0],n=0,o=this.bytes.length-this.byteLength;if(i){n=0;for(var r=0;r<e.length;r++)n+=e[r].byteLength}else n=e.byteLength;if(n>o)if(this.mode===t.MODE.EXPAND){var s=Math.max(2*this.bytes.length,n-o);this.resize(s)}else this.evict(n);if(i)for(var a=0;a<e.length;a++)this.appendSingleBuffer(e[a]);else this.appendSingleBuffer(e);return n},e.appendSingleBuffer=function(t){t=t instanceof Uint8Array?t:new Uint8Array(t),this.bytes.set(t,this.byteLength),this.byteLength+=t.length},e.findNextStartCode=function(){for(var t=this.index+7>>3;t<this.byteLength;t++)if(0===this.bytes[t]&&0===this.bytes[t+1]&&1===this.bytes[t+2])return this.index=t+4<<3,this.bytes[t+3];return this.index=this.byteLength<<3,-1},e.findStartCode=function(t){var e=this.findNextStartCode();return e===t||-1===e?e:-1},e.nextBytesAreStartCode=function(){var t=this.index+7>>3;return t>=this.byteLength||0===this.bytes[t]&&0===this.bytes[t+1]&&1===this.bytes[t+2]},e.peek=function(t){for(var e=this.index,i=0;t;){var n=8-(7&e),o=n<t?n:t,r=n-o;i=i<<o|(this.bytes[e>>3]&255>>8-o<<r)>>r,e+=o,t-=o}return i},e.read=function(t){var e=this.peek(t);return this.index+=t,e},e.skip=function(t){return this.index+=t},e.rewind=function(t){this.index=Math.max(this.index-t,0)},e.has=function(t){return(this.byteLength<<3)-this.index>=t},t}();__.MODE={EVICT:1,EXPAND:2};var w_=function(){function t(){this.bits=null,this.leftoverBytes=null,this.guessVideoFrameEnd=!0,this.pidsToStreamIds={},this.pesPacketInfo={},this.startTime=0,this.currentTime=0}var e=t.prototype;return e.connect=function(t,e){this.pesPacketInfo[t]={destination:e,currentLength:0,totalLength:0,pts:0,buffers:[]}},e.write=function(t){if(this.leftoverBytes){var e=t.byteLength+this.leftoverBytes.byteLength;this.bits=new __(e),this.bits.write([this.leftoverBytes,t])}else this.bits=new __(t);for(;this.bits.has(1504)&&this.parsePacket(););var i=this.bits.byteLength-(this.bits.index>>3);this.leftoverBytes=i>0?this.bits.bytes.subarray(this.bits.index>>3):null},e.parsePacket=function(){if(71!==this.bits.read(8)&&!this.resync())return!1;var t=187+(this.bits.index>>3);this.bits.read(1);var e=this.bits.read(1);this.bits.read(1);var i=this.bits.read(13);this.bits.read(2);var n=this.bits.read(2);this.bits.read(4);var o=this.pidsToStreamIds[i];if(e&&o){var r=this.pesPacketInfo[o];r&&r.currentLength&&this.packetComplete(r)}if(1&n){if(2&n){var s=this.bits.read(8);this.bits.skip(s<<3)}if(e&&this.bits.nextBytesAreStartCode()){this.bits.skip(24),o=this.bits.read(8),this.pidsToStreamIds[i]=o;var a=this.bits.read(16);this.bits.skip(8);var l=this.bits.read(2);this.bits.skip(6);var d=this.bits.read(8),c=this.bits.index+(d<<3),h=this.pesPacketInfo[o];if(h){var u=0;if(2&l){this.bits.skip(4);var A=this.bits.read(3);this.bits.skip(1);var p=this.bits.read(15);this.bits.skip(1);var m=this.bits.read(15);this.bits.skip(1),u=(1073741824*A+32768*p+m)/9e4,this.currentTime=u,-1===this.startTime&&(this.startTime=u)}var g=a?a-d-3:0;this.packetStart(h,u,g)}this.bits.index=c}if(o){var f=this.pesPacketInfo[o];if(f){var v=this.bits.index>>3,b=!e&&2&n;(this.packetAddData(f,v,t)||this.guessVideoFrameEnd&&b)&&this.packetComplete(f)}}}return this.bits.index=t<<3,!0},e.resync=function(){if(!this.bits.has(9024))return!1;for(var t=this.bits.index>>3,e=0;e<187;e++)if(71===this.bits.bytes[t+e]){for(var i=!0,n=1;n<5;n++)if(71!==this.bits.bytes[t+e+188*n]){i=!1;break}if(i)return this.bits.index=t+e+1<<3,!0}return console.warn("JSMpeg: Possible garbage data. Skipping."),this.bits.skip(1496),!1},e.packetStart=function(t,e,i){t.totalLength=i,t.currentLength=0,t.pts=e},e.packetAddData=function(t,e,i){return t.buffers.push(this.bits.bytes.subarray(e,i)),t.currentLength+=i-e,0!==t.totalLength&&t.currentLength>=t.totalLength},e.packetComplete=function(t){t.destination.write(t.pts,t.buffers),t.totalLength=0,t.currentLength=0,t.buffers=[]},t}();w_.STREAM={PACK_HEADER:186,SYSTEM_HEADER:187,PROGRAM_MAP:188,PRIVATE_1:189,PADDING:190,PRIVATE_2:191,AUDIO_1:192,VIDEO_1:224,DIRECTORY:255};var C_=function(){function t(t){this.destination=null,this.canPlay=!1,this.collectTimestamps=!t.streaming,this.bytesWritten=0,this.timestamps=[],this.timestampIndex=0,this.startTime=0,this.decodedTime=0,Object.defineProperty(this,"currentTime",{get:this.getCurrentTime})}var e=t.prototype;return e.destroy=function(){},e.connect=function(t){this.destination=t},e.bufferGetIndex=function(){return this.bits.index},e.bufferSetIndex=function(t){this.bits.index=t},e.bufferWrite=function(t){return this.bits.write(t)},e.write=function(t,e){this.collectTimestamps&&(0===this.timestamps.length&&(this.startTime=t,this.decodedTime=t),this.timestamps.push({index:this.bytesWritten<<3,time:t})),this.bytesWritten+=this.bufferWrite(e),this.canPlay=!0},e.seek=function(t){if(this.collectTimestamps){this.timestampIndex=0;for(var e=0;e<this.timestamps.length&&!(this.timestamps[e].time>t);e++)this.timestampIndex=e;var i=this.timestamps[this.timestampIndex];i?(this.bufferSetIndex(i.index),this.decodedTime=i.time):(this.bits.index=0,this.decodedTime=this.startTime)}},e.decode=function(){this.advanceDecodedTime(0)},e.advanceDecodedTime=function(t){if(this.collectTimestamps){for(var e=-1,i=this.bufferGetIndex(),n=this.timestampIndex;n<this.timestamps.length&&!(this.timestamps[n].index>i);n++)e=n;if(-1!==e&&e!==this.timestampIndex)return this.timestampIndex=e,void(this.decodedTime=this.timestamps[this.timestampIndex].time)}this.decodedTime+=t},e.getCurrentTime=function(){return this.decodedTime},t}(),I_=function(t){function e(e){var i;(i=t.call(this,e)||this).onDecodeCallback=e.onVideoDecode;var n=e.videoBufferSize||524288,o=e.streaming?__.MODE.EVICT:__.MODE.EXPAND;return i.bits=new __(n,o),i.customIntraQuantMatrix=new Uint8Array(64),i.customNonIntraQuantMatrix=new Uint8Array(64),i.blockData=new Int32Array(64),i.currentFrame=0,i.decodeFirstFrame=!1!==e.decodeFirstFrame,i}r_(e,t);var i=e.prototype;return i.write=function(t,i){if(C_.prototype.write.call(this,t,i),!this.hasSequenceHeader){if(-1===this.bits.findStartCode(e.START.SEQUENCE))return!1;this.decodeSequenceHeader(),this.decodeFirstFrame&&this.decode()}},i.decode=function(){var t=m_();if(!this.hasSequenceHeader)return!1;if(-1===this.bits.findStartCode(e.START.PICTURE))return!1;this.decodePicture(),this.advanceDecodedTime(1/this.frameRate);var i=m_()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,i),!0},i.readHuffman=function(t){var e=0;do{e=t[e+this.bits.read(1)]}while(e>=0&&0!==t[e]);return t[e+2]},i.decodeSequenceHeader=function(){var t=this.bits.read(12),i=this.bits.read(12);if(this.bits.skip(4),this.frameRate=e.PICTURE_RATE[this.bits.read(4)],this.bits.skip(30),t===this.width&&i===this.height||(this.width=t,this.height=i,this.initBuffers(),this.destination&&this.destination.resize(t,i)),this.bits.read(1)){for(var n=0;n<64;n++)this.customIntraQuantMatrix[e.ZIG_ZAG[n]]=this.bits.read(8);this.intraQuantMatrix=this.customIntraQuantMatrix}if(this.bits.read(1)){for(var o=0;o<64;o++){var r=e.ZIG_ZAG[o];this.customNonIntraQuantMatrix[r]=this.bits.read(8)}this.nonIntraQuantMatrix=this.customNonIntraQuantMatrix}this.hasSequenceHeader=!0},i.initBuffers=function(){this.intraQuantMatrix=e.DEFAULT_INTRA_QUANT_MATRIX,this.nonIntraQuantMatrix=e.DEFAULT_NON_INTRA_QUANT_MATRIX,this.mbWidth=this.width+15>>4,this.mbHeight=this.height+15>>4,this.mbSize=this.mbWidth*this.mbHeight,this.codedWidth=this.mbWidth<<4,this.codedHeight=this.mbHeight<<4,this.codedSize=this.codedWidth*this.codedHeight,this.halfWidth=this.mbWidth<<3,this.halfHeight=this.mbHeight<<3,this.currentY=new Uint8ClampedArray(this.codedSize),this.currentY32=new Uint32Array(this.currentY.buffer),this.currentCr=new Uint8ClampedArray(this.codedSize>>2),this.currentCr32=new Uint32Array(this.currentCr.buffer),this.currentCb=new Uint8ClampedArray(this.codedSize>>2),this.currentCb32=new Uint32Array(this.currentCb.buffer),this.forwardY=new Uint8ClampedArray(this.codedSize),this.forwardY32=new Uint32Array(this.forwardY.buffer),this.forwardCr=new Uint8ClampedArray(this.codedSize>>2),this.forwardCr32=new Uint32Array(this.forwardCr.buffer),this.forwardCb=new Uint8ClampedArray(this.codedSize>>2),this.forwardCb32=new Uint32Array(this.forwardCb.buffer)},i.decodePicture=function(){if(this.currentFrame++,this.bits.skip(10),this.pictureType=this.bits.read(3),this.bits.skip(16),!(this.pictureType<=0||this.pictureType>=e.PICTURE_TYPE.B)){if(this.pictureType===e.PICTURE_TYPE.PREDICTIVE){if(this.fullPelForward=this.bits.read(1),this.forwardFCode=this.bits.read(3),0===this.forwardFCode)return;this.forwardRSize=this.forwardFCode-1,this.forwardF=1<<this.forwardRSize}var t=0;do{t=this.bits.findNextStartCode()}while(t===e.START.EXTENSION||t===e.START.USER_DATA);for(;t>=e.START.SLICE_FIRST&&t<=e.START.SLICE_LAST;)this.decodeSlice(255&t),t=this.bits.findNextStartCode();if(-1!==t&&this.bits.rewind(32),this.destination&&this.destination.render(this.currentY,this.currentCr,this.currentCb,!0),this.pictureType===e.PICTURE_TYPE.INTRA||this.pictureType===e.PICTURE_TYPE.PREDICTIVE){var i=this.forwardY,n=this.forwardY32,o=this.forwardCr,r=this.forwardCr32,s=this.forwardCb,a=this.forwardCb32;this.forwardY=this.currentY,this.forwardY32=this.currentY32,this.forwardCr=this.currentCr,this.forwardCr32=this.currentCr32,this.forwardCb=this.currentCb,this.forwardCb32=this.currentCb32,this.currentY=i,this.currentY32=n,this.currentCr=o,this.currentCr32=r,this.currentCb=s,this.currentCb32=a}}},i.decodeSlice=function(t){for(this.sliceBegin=!0,this.macroblockAddress=(t-1)*this.mbWidth-1,this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0,this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.quantizerScale=this.bits.read(5);this.bits.read(1);)this.bits.skip(8);do{this.decodeMacroblock()}while(!this.bits.nextBytesAreStartCode())},i.decodeMacroblock=function(){for(var t=0,i=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);34===i;)i=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);for(;35===i;)t+=33,i=this.readHuffman(e.MACROBLOCK_ADDRESS_INCREMENT);if(t+=i,this.sliceBegin)this.sliceBegin=!1,this.macroblockAddress+=t;else{if(this.macroblockAddress+t>=this.mbSize)return;for(t>1&&(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.pictureType===e.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0));t>1;)this.macroblockAddress++,this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth,this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb),t--;this.macroblockAddress++}this.mbRow=this.macroblockAddress/this.mbWidth|0,this.mbCol=this.macroblockAddress%this.mbWidth;var n=e.MACROBLOCK_TYPE[this.pictureType];this.macroblockType=this.readHuffman(n),this.macroblockIntra=1&this.macroblockType,this.macroblockMotFw=8&this.macroblockType,0!=(16&this.macroblockType)&&(this.quantizerScale=this.bits.read(5)),this.macroblockIntra?(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0):(this.dcPredictorY=128,this.dcPredictorCr=128,this.dcPredictorCb=128,this.decodeMotionVectors(),this.copyMacroblock(this.motionFwH,this.motionFwV,this.forwardY,this.forwardCr,this.forwardCb));for(var o=0!=(2&this.macroblockType)?this.readHuffman(e.CODE_BLOCK_PATTERN):this.macroblockIntra?63:0,r=0,s=32;r<6;r++)0!=(o&s)&&this.decodeBlock(r),s>>=1},i.decodeMotionVectors=function(){var t,i,n=0;this.macroblockMotFw?(0!==(t=this.readHuffman(e.MOTION))&&1!==this.forwardF?(n=this.bits.read(this.forwardRSize),i=(Math.abs(t)-1<<this.forwardRSize)+n+1,t<0&&(i=-i)):i=t,this.motionFwHPrev+=i,this.motionFwHPrev>(this.forwardF<<4)-1?this.motionFwHPrev-=this.forwardF<<5:this.motionFwHPrev<-this.forwardF<<4&&(this.motionFwHPrev+=this.forwardF<<5),this.motionFwH=this.motionFwHPrev,this.fullPelForward&&(this.motionFwH<<=1),0!==(t=this.readHuffman(e.MOTION))&&1!==this.forwardF?(n=this.bits.read(this.forwardRSize),i=(Math.abs(t)-1<<this.forwardRSize)+n+1,t<0&&(i=-i)):i=t,this.motionFwVPrev+=i,this.motionFwVPrev>(this.forwardF<<4)-1?this.motionFwVPrev-=this.forwardF<<5:this.motionFwVPrev<-this.forwardF<<4&&(this.motionFwVPrev+=this.forwardF<<5),this.motionFwV=this.motionFwVPrev,this.fullPelForward&&(this.motionFwV<<=1)):this.pictureType===e.PICTURE_TYPE.PREDICTIVE&&(this.motionFwH=this.motionFwHPrev=0,this.motionFwV=this.motionFwVPrev=0)},i.copyMacroblock=function(t,e,i,n,o){var r,s,a,l,d,c,h,u,A,p,m,g,f,v,b,y,_,w,C,I=this.currentY32,E=this.currentCb32,x=this.currentCr32;if(s=(r=this.codedWidth)-16,a=t>>1,l=e>>1,d=1==(1&t),c=1==(1&e),h=((this.mbRow<<4)+l)*r+(this.mbCol<<4)+a,A=(u=this.mbRow*r+this.mbCol<<2)+(r<<2),d)if(c)for(;u<A;){for(m=i[h]+i[h+r],h++,p=0;p<4;p++)f=m+(g=i[h]+i[h+r])+2>>2&255,f|=(m=i[++h]+i[h+r])+g+2<<6&65280,f|=m+(g=i[++h]+i[h+r])+2<<14&16711680,m=i[++h]+i[h+r],h++,f|=m+g+2<<22&4278190080,I[u++]=f;u+=s>>2,h+=s-1}else for(;u<A;){for(m=i[h++],p=0;p<4;p++)f=m+(g=i[h++])+1>>1&255,f|=(m=i[h++])+g+1<<7&65280,f|=m+(g=i[h++])+1<<15&16711680,f|=(m=i[h++])+g+1<<23&4278190080,I[u++]=f;u+=s>>2,h+=s-1}else if(c)for(;u<A;){for(p=0;p<4;p++)f=i[h]+i[h+r]+1>>1&255,f|=i[++h]+i[h+r]+1<<7&65280,f|=i[++h]+i[h+r]+1<<15&16711680,f|=i[++h]+i[h+r]+1<<23&4278190080,h++,I[u++]=f;u+=s>>2,h+=s}else for(;u<A;){for(p=0;p<4;p++)f=i[h],f|=i[++h]<<8,f|=i[++h]<<16,f|=i[++h]<<24,h++,I[u++]=f;u+=s>>2,h+=s}if(s=(r=this.halfWidth)-8,a=t/2>>1,l=e/2>>1,d=1==(t/2&1),c=1==(e/2&1),h=((this.mbRow<<3)+l)*r+(this.mbCol<<3)+a,A=(u=this.mbRow*r+this.mbCol<<1)+(r<<1),d)if(c)for(;u<A;){for(v=n[h]+n[h+r],_=o[h]+o[h+r],h++,p=0;p<2;p++)y=v+(b=n[h]+n[h+r])+2>>2&255,C=_+(w=o[h]+o[h+r])+2>>2&255,y|=(v=n[++h]+n[h+r])+b+2<<6&65280,C|=(_=o[h]+o[h+r])+w+2<<6&65280,y|=v+(b=n[++h]+n[h+r])+2<<14&16711680,C|=_+(w=o[h]+o[h+r])+2<<14&16711680,v=n[++h]+n[h+r],_=o[h]+o[h+r],h++,y|=v+b+2<<22&4278190080,C|=_+w+2<<22&4278190080,x[u]=y,E[u]=C,u++;u+=s>>2,h+=s-1}else for(;u<A;){for(v=n[h],_=o[h],h++,p=0;p<2;p++)y=v+(b=n[h])+1>>1&255,C=_+(w=o[h++])+1>>1&255,y|=(v=n[h])+b+1<<7&65280,C|=(_=o[h++])+w+1<<7&65280,y|=v+(b=n[h])+1<<15&16711680,C|=_+(w=o[h++])+1<<15&16711680,y|=(v=n[h])+b+1<<23&4278190080,C|=(_=o[h++])+w+1<<23&4278190080,x[u]=y,E[u]=C,u++;u+=s>>2,h+=s-1}else if(c)for(;u<A;){for(p=0;p<2;p++)y=n[h]+n[h+r]+1>>1&255,C=o[h]+o[h+r]+1>>1&255,y|=n[++h]+n[h+r]+1<<7&65280,C|=o[h]+o[h+r]+1<<7&65280,y|=n[++h]+n[h+r]+1<<15&16711680,C|=o[h]+o[h+r]+1<<15&16711680,y|=n[++h]+n[h+r]+1<<23&4278190080,C|=o[h]+o[h+r]+1<<23&4278190080,h++,x[u]=y,E[u]=C,u++;u+=s>>2,h+=s}else for(;u<A;){for(p=0;p<2;p++)y=n[h],C=o[h],y|=n[++h]<<8,C|=o[h]<<8,y|=n[++h]<<16,C|=o[h]<<16,y|=n[++h]<<24,C|=o[h]<<24,h++,x[u]=y,E[u]=C,u++;u+=s>>2,h+=s}},i.decodeBlock=function(t){var i,n=0;if(this.macroblockIntra){var o,r;if(t<4?(o=this.dcPredictorY,r=this.readHuffman(e.DCT_DC_SIZE_LUMINANCE)):(o=4===t?this.dcPredictorCr:this.dcPredictorCb,r=this.readHuffman(e.DCT_DC_SIZE_CHROMINANCE)),r>0){var s=this.bits.read(r);this.blockData[0]=0!=(s&1<<r-1)?o+s:o+(-1<<r|s+1)}else this.blockData[0]=o;t<4?this.dcPredictorY=this.blockData[0]:4===t?this.dcPredictorCr=this.blockData[0]:this.dcPredictorCb=this.blockData[0],this.blockData[0]<<=8,i=this.intraQuantMatrix,n=1}else i=this.nonIntraQuantMatrix;for(var a,l,d,c=0;;){var h=0,u=this.readHuffman(e.DCT_COEFF);if(1===u&&n>0&&0===this.bits.read(1))break;65535===u?(h=this.bits.read(6),0===(c=this.bits.read(8))?c=this.bits.read(8):128===c?c=this.bits.read(8)-256:c>128&&(c-=256)):(h=u>>8,c=255&u,this.bits.read(1)&&(c=-c)),n+=h;var A=e.ZIG_ZAG[n];n++,c<<=1,this.macroblockIntra||(c+=c<0?-1:1),0==(1&(c=c*this.quantizerScale*i[A]>>4))&&(c-=c>0?1:-1),c>2047?c=2047:c<-2048&&(c=-2048),this.blockData[A]=c*e.PREMULTIPLIER_MATRIX[A]}t<4?(a=this.currentY,d=this.codedWidth-8,l=this.mbRow*this.codedWidth+this.mbCol<<4,0!=(1&t)&&(l+=8),0!=(2&t)&&(l+=this.codedWidth<<3)):(a=4===t?this.currentCb:this.currentCr,d=(this.codedWidth>>1)-8,l=(this.mbRow*this.codedWidth<<2)+(this.mbCol<<3)),this.macroblockIntra?1===n?(e.CopyValueToDestination(this.blockData[0]+128>>8,a,l,d),this.blockData[0]=0):(e.IDCT(this.blockData),e.CopyBlockToDestination(this.blockData,a,l,d),g_(this.blockData,0)):1===n?(e.AddValueToDestination(this.blockData[0]+128>>8,a,l,d),this.blockData[0]=0):(e.IDCT(this.blockData),e.AddBlockToDestination(this.blockData,a,l,d),g_(this.blockData,0)),n=0},e.CopyBlockToDestination=function(t,e,i,n){for(var o=0;o<64;o+=8,i+=n+8)e[i+0]=t[o+0],e[i+1]=t[o+1],e[i+2]=t[o+2],e[i+3]=t[o+3],e[i+4]=t[o+4],e[i+5]=t[o+5],e[i+6]=t[o+6],e[i+7]=t[o+7]},e.AddBlockToDestination=function(t,e,i,n){for(var o=0;o<64;o+=8,i+=n+8)e[i+0]+=t[o+0],e[i+1]+=t[o+1],e[i+2]+=t[o+2],e[i+3]+=t[o+3],e[i+4]+=t[o+4],e[i+5]+=t[o+5],e[i+6]+=t[o+6],e[i+7]+=t[o+7]},e.CopyValueToDestination=function(t,e,i,n){for(var o=0;o<64;o+=8,i+=n+8)e[i+0]=t,e[i+1]=t,e[i+2]=t,e[i+3]=t,e[i+4]=t,e[i+5]=t,e[i+6]=t,e[i+7]=t},e.AddValueToDestination=function(t,e,i,n){for(var o=0;o<64;o+=8,i+=n+8)e[i+0]+=t,e[i+1]+=t,e[i+2]+=t,e[i+3]+=t,e[i+4]+=t,e[i+5]+=t,e[i+6]+=t,e[i+7]+=t},e.IDCT=function(t){for(var e,i,n,o,r,s,a,l,d,c,h,u,A,p,m,g,f,v,b=0;b<8;++b)e=t[32+b],i=t[16+b]+t[48+b],n=t[40+b]-t[24+b],s=t[8+b]+t[56+b],a=t[24+b]+t[40+b],d=(A=(473*(o=t[8+b]-t[56+b])-196*n+128>>8)-(r=s+a))-(362*(s-a)+128>>8),p=(c=(l=t[0+b])-e)+(h=(362*(t[16+b]-t[48+b])+128>>8)-i),m=(u=l+e)+i,g=c-h,f=u-i,v=-d-(473*n+196*o+128>>8),t[0+b]=r+m,t[8+b]=A+p,t[16+b]=g-d,t[24+b]=f-v,t[32+b]=f+v,t[40+b]=d+g,t[48+b]=p-A,t[56+b]=m-r;for(var y=0;y<64;y+=8)e=t[4+y],i=t[2+y]+t[6+y],n=t[5+y]-t[3+y],s=t[1+y]+t[7+y],a=t[3+y]+t[5+y],d=(A=(473*(o=t[1+y]-t[7+y])-196*n+128>>8)-(r=s+a))-(362*(s-a)+128>>8),p=(c=(l=t[0+y])-e)+(h=(362*(t[2+y]-t[6+y])+128>>8)-i),m=(u=l+e)+i,g=c-h,f=u-i,v=-d-(473*n+196*o+128>>8),t[0+y]=r+m+128>>8,t[1+y]=A+p+128>>8,t[2+y]=g-d+128>>8,t[3+y]=f-v+128>>8,t[4+y]=f+v+128>>8,t[5+y]=d+g+128>>8,t[6+y]=p-A+128>>8,t[7+y]=m-r+128>>8},e}(C_);I_.prototype.frameRate=30,I_.prototype.currentY=null,I_.prototype.currentCr=null,I_.prototype.currentCb=null,I_.prototype.pictureType=0,I_.prototype.forwardY=null,I_.prototype.forwardCr=null,I_.prototype.forwardCb=null,I_.prototype.fullPelForward=!1,I_.prototype.forwardFCode=0,I_.prototype.forwardRSize=0,I_.prototype.forwardF=0,I_.prototype.quantizerScale=0,I_.prototype.sliceBegin=!1,I_.prototype.macroblockAddress=0,I_.prototype.mbRow=0,I_.prototype.mbCol=0,I_.prototype.macroblockType=0,I_.prototype.macroblockIntra=!1,I_.prototype.macroblockMotFw=!1,I_.prototype.motionFwH=0,I_.prototype.motionFwV=0,I_.prototype.motionFwHPrev=0,I_.prototype.motionFwVPrev=0,I_.prototype.dcPredictorY=0,I_.prototype.dcPredictorCr=0,I_.prototype.dcPredictorCb=0,I_.prototype.blockData=null,I_.PICTURE_RATE=[0,23.976,24,25,29.97,30,50,59.94,60,0,0,0,0,0,0,0],I_.ZIG_ZAG=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),I_.DEFAULT_INTRA_QUANT_MATRIX=new Uint8Array([8,16,19,22,26,27,29,34,16,16,22,24,27,29,34,37,19,22,26,27,29,34,34,38,22,22,26,27,29,34,37,40,22,26,27,29,32,35,40,48,26,27,29,32,35,40,48,58,26,27,29,34,38,46,56,69,27,29,35,38,46,56,69,83]),I_.DEFAULT_NON_INTRA_QUANT_MATRIX=new Uint8Array([16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16]),I_.PREMULTIPLIER_MATRIX=new Uint8Array([32,44,42,38,32,25,17,9,44,62,58,52,44,35,24,12,42,58,55,49,42,33,23,12,38,52,49,44,38,30,20,10,32,44,42,38,32,25,17,9,25,35,33,30,25,20,14,7,17,24,23,20,17,14,9,5,9,12,12,10,9,7,5,2]),I_.MACROBLOCK_ADDRESS_INCREMENT=new Int16Array([3,6,0,9,12,0,0,0,1,15,18,0,21,24,0,27,30,0,33,36,0,0,0,3,0,0,2,39,42,0,45,48,0,0,0,5,0,0,4,51,54,0,57,60,0,0,0,7,0,0,6,63,66,0,69,72,0,75,78,0,81,84,0,-1,87,0,-1,90,0,93,96,0,99,102,0,105,108,0,111,114,0,0,0,9,0,0,8,117,120,0,123,126,0,129,132,0,135,138,0,0,0,15,0,0,14,0,0,13,0,0,12,0,0,11,0,0,10,141,-1,0,-1,144,0,147,150,0,153,156,0,159,162,0,165,168,0,171,174,0,177,180,0,183,-1,0,-1,186,0,189,192,0,195,198,0,201,204,0,207,210,0,213,216,0,219,222,0,0,0,21,0,0,20,0,0,19,0,0,18,0,0,17,0,0,16,0,0,35,0,0,34,0,0,33,0,0,32,0,0,31,0,0,30,0,0,29,0,0,28,0,0,27,0,0,26,0,0,25,0,0,24,0,0,23,0,0,22]),I_.MACROBLOCK_TYPE_INTRA=new Int8Array([3,6,0,-1,9,0,0,0,1,0,0,17]),I_.MACROBLOCK_TYPE_PREDICTIVE=new Int8Array([3,6,0,9,12,0,0,0,10,15,18,0,0,0,2,21,24,0,0,0,8,27,30,0,33,36,0,-1,39,0,0,0,18,0,0,26,0,0,1,0,0,17]),I_.MACROBLOCK_TYPE_B=new Int8Array([3,6,0,9,15,0,12,18,0,24,21,0,0,0,12,27,30,0,0,0,14,39,42,0,36,33,0,0,0,4,0,0,6,54,48,0,45,51,0,0,0,8,0,0,10,-1,57,0,0,0,1,60,63,0,0,0,30,0,0,17,0,0,22,0,0,26]),I_.MACROBLOCK_TYPE=[null,I_.MACROBLOCK_TYPE_INTRA,I_.MACROBLOCK_TYPE_PREDICTIVE,I_.MACROBLOCK_TYPE_B],I_.CODE_BLOCK_PATTERN=new Int16Array([6,3,0,9,18,0,12,15,0,24,33,0,36,39,0,27,21,0,30,42,0,60,57,0,54,48,0,69,51,0,81,75,0,63,84,0,45,66,0,72,78,0,0,0,60,105,120,0,132,144,0,114,108,0,126,141,0,87,93,0,117,96,0,0,0,32,135,138,0,99,123,0,129,102,0,0,0,4,90,111,0,0,0,8,0,0,16,0,0,44,150,168,0,0,0,28,0,0,52,0,0,62,183,177,0,156,180,0,0,0,1,165,162,0,0,0,61,0,0,56,171,174,0,0,0,2,0,0,40,153,186,0,0,0,48,192,189,0,147,159,0,0,0,20,0,0,12,240,249,0,0,0,63,231,225,0,195,219,0,252,198,0,0,0,24,0,0,36,0,0,3,207,261,0,243,237,0,204,213,0,210,234,0,201,228,0,216,222,0,258,255,0,264,246,0,-1,282,0,285,291,0,0,0,33,0,0,9,318,330,0,306,348,0,0,0,5,0,0,10,279,267,0,0,0,6,0,0,18,0,0,17,0,0,34,339,357,0,309,312,0,270,276,0,327,321,0,351,354,0,303,297,0,294,288,0,300,273,0,342,345,0,315,324,0,336,333,0,363,375,0,0,0,41,0,0,14,0,0,21,372,366,0,360,369,0,0,0,11,0,0,19,0,0,7,0,0,35,0,0,13,0,0,50,0,0,49,0,0,58,0,0,37,0,0,25,0,0,45,0,0,57,0,0,26,0,0,29,0,0,38,0,0,53,0,0,23,0,0,43,0,0,46,0,0,42,0,0,22,0,0,54,0,0,51,0,0,15,0,0,30,0,0,39,0,0,47,0,0,55,0,0,27,0,0,59,0,0,31]),I_.MOTION=new Int16Array([3,6,0,12,9,0,0,0,0,18,15,0,24,21,0,0,0,-1,0,0,1,27,30,0,36,33,0,0,0,2,0,0,-2,42,45,0,48,39,0,60,54,0,0,0,3,0,0,-3,51,57,0,-1,69,0,81,75,0,78,63,0,72,66,0,96,84,0,87,93,0,-1,99,0,108,105,0,0,0,-4,90,102,0,0,0,4,0,0,-7,0,0,5,111,123,0,0,0,-5,0,0,7,114,120,0,126,117,0,0,0,-6,0,0,6,153,162,0,150,147,0,135,138,0,156,141,0,129,159,0,132,144,0,0,0,10,0,0,9,0,0,8,0,0,-8,171,198,0,0,0,-9,180,192,0,168,183,0,165,186,0,174,189,0,0,0,-10,177,195,0,0,0,12,0,0,16,0,0,13,0,0,14,0,0,11,0,0,15,0,0,-16,0,0,-12,0,0,-14,0,0,-15,0,0,-11,0,0,-13]),I_.DCT_DC_SIZE_LUMINANCE=new Int8Array([6,3,0,18,15,0,9,12,0,0,0,1,0,0,2,27,24,0,21,30,0,0,0,0,36,33,0,0,0,4,0,0,3,39,42,0,0,0,5,0,0,6,48,45,0,51,-1,0,0,0,7,0,0,8]),I_.DCT_DC_SIZE_CHROMINANCE=new Int8Array([6,3,0,12,9,0,18,15,0,24,21,0,0,0,2,0,0,1,0,0,0,30,27,0,0,0,3,36,33,0,0,0,4,42,39,0,0,0,5,48,45,0,0,0,6,51,-1,0,0,0,7,0,0,8]),I_.DCT_COEFF=new Int32Array([3,6,0,12,9,0,0,0,1,21,24,0,18,15,0,39,27,0,33,30,0,42,36,0,0,0,257,60,66,0,54,63,0,48,57,0,0,0,513,51,45,0,0,0,2,0,0,3,81,75,0,87,93,0,72,78,0,96,90,0,0,0,1025,69,84,0,0,0,769,0,0,258,0,0,1793,0,0,65535,0,0,1537,111,108,0,0,0,1281,105,102,0,117,114,0,99,126,0,120,123,0,156,150,0,162,159,0,144,147,0,129,135,0,138,132,0,0,0,2049,0,0,4,0,0,514,0,0,2305,153,141,0,165,171,0,180,168,0,177,174,0,183,186,0,0,0,2561,0,0,3329,0,0,6,0,0,259,0,0,5,0,0,770,0,0,2817,0,0,3073,228,225,0,201,210,0,219,213,0,234,222,0,216,231,0,207,192,0,204,189,0,198,195,0,243,261,0,273,240,0,246,237,0,249,258,0,279,276,0,252,255,0,270,282,0,264,267,0,0,0,515,0,0,260,0,0,7,0,0,1026,0,0,1282,0,0,4097,0,0,3841,0,0,3585,315,321,0,333,342,0,312,291,0,375,357,0,288,294,0,-1,369,0,285,303,0,318,363,0,297,306,0,339,309,0,336,348,0,330,300,0,372,345,0,351,366,0,327,354,0,360,324,0,381,408,0,417,420,0,390,378,0,435,438,0,384,387,0,0,0,2050,396,402,0,465,462,0,0,0,8,411,399,0,429,432,0,453,414,0,426,423,0,0,0,10,0,0,9,0,0,11,0,0,5377,0,0,1538,0,0,771,0,0,5121,0,0,1794,0,0,4353,0,0,4609,0,0,4865,444,456,0,0,0,1027,459,450,0,0,0,261,393,405,0,0,0,516,447,441,0,516,519,0,486,474,0,510,483,0,504,498,0,471,537,0,507,501,0,522,513,0,534,531,0,468,477,0,492,495,0,549,546,0,525,528,0,0,0,263,0,0,2562,0,0,2306,0,0,5633,0,0,5889,0,0,6401,0,0,6145,0,0,1283,0,0,772,0,0,13,0,0,12,0,0,14,0,0,15,0,0,517,0,0,6657,0,0,262,540,543,0,480,489,0,588,597,0,0,0,27,609,555,0,606,603,0,0,0,19,0,0,22,591,621,0,0,0,18,573,576,0,564,570,0,0,0,20,552,582,0,0,0,21,558,579,0,0,0,23,612,594,0,0,0,25,0,0,24,600,615,0,0,0,31,0,0,30,0,0,28,0,0,29,0,0,26,0,0,17,0,0,16,567,618,0,561,585,0,654,633,0,0,0,37,645,648,0,0,0,36,630,636,0,0,0,34,639,627,0,663,666,0,657,624,0,651,642,0,669,660,0,0,0,35,0,0,267,0,0,40,0,0,268,0,0,266,0,0,32,0,0,264,0,0,265,0,0,38,0,0,269,0,0,270,0,0,33,0,0,39,0,0,7937,0,0,6913,0,0,7681,0,0,4098,0,0,7425,0,0,7169,0,0,271,0,0,274,0,0,273,0,0,272,0,0,1539,0,0,2818,0,0,3586,0,0,3330,0,0,3074,0,0,3842]),I_.PICTURE_TYPE={INTRA:1,PREDICTIVE:2,B:3},I_.START={SEQUENCE:179,SLICE_FIRST:1,SLICE_LAST:175,PICTURE:0,EXTENSION:181,USER_DATA:178};var E_=function(t){function e(e){var i;return(i=t.call(this,e)||this).onDecodeCallback=e.onVideoDecode,i.module=e.wasmModule,i.bufferSize=e.videoBufferSize||524288,i.bufferMode=e.streaming?__.MODE.EVICT:__.MODE.EXPAND,i.decodeFirstFrame=!1!==e.decodeFirstFrame,i.hasSequenceHeader=!1,i}r_(e,t);var i=e.prototype;return i.initializeWasmDecoder=function(){this.module.instance?(this.instance=this.module.instance,this.functions=this.module.instance.exports,this.decoder=this.functions._mpeg1_decoder_create(this.bufferSize,this.bufferMode)):console.warn("JSMpeg: WASM module not compiled yet")},i.destroy=function(){this.decoder&&this.functions._mpeg1_decoder_destroy(this.decoder)},i.bufferGetIndex=function(){if(this.decoder)return this.functions._mpeg1_decoder_get_index(this.decoder)},i.bufferSetIndex=function(t){this.decoder&&this.functions._mpeg1_decoder_set_index(this.decoder,t)},i.bufferWrite=function(t){this.decoder||this.initializeWasmDecoder();for(var e=0,i=0;i<t.length;i++)e+=t[i].length;for(var n=this.functions._mpeg1_decoder_get_write_ptr(this.decoder,e),o=0;o<t.length;o++)this.instance.heapU8.set(t[o],n),n+=t[o].length;return this.functions._mpeg1_decoder_did_write(this.decoder,e),e},i.write=function(t,e){C_.prototype.write.call(this,t,e),!this.hasSequenceHeader&&this.functions._mpeg1_decoder_has_sequence_header(this.decoder)&&this.loadSequenceHeader()},i.loadSequenceHeader=function(){if(this.hasSequenceHeader=!0,this.frameRate=this.functions._mpeg1_decoder_get_frame_rate(this.decoder),this.codedSize=this.functions._mpeg1_decoder_get_coded_size(this.decoder),this.destination){var t=this.functions._mpeg1_decoder_get_width(this.decoder),e=this.functions._mpeg1_decoder_get_height(this.decoder);this.destination.resize(t,e)}this.decodeFirstFrame&&this.decode()},i.decode=function(){var t=m_();if(!this.decoder)return!1;if(!this.functions._mpeg1_decoder_decode(this.decoder))return!1;if(this.destination){var e=this.functions._mpeg1_decoder_get_y_ptr(this.decoder),i=this.functions._mpeg1_decoder_get_cr_ptr(this.decoder),n=this.functions._mpeg1_decoder_get_cb_ptr(this.decoder),o=this.instance.heapU8.subarray(e,e+this.codedSize),r=this.instance.heapU8.subarray(i,i+(this.codedSize>>2)),s=this.instance.heapU8.subarray(n,n+(this.codedSize>>2));this.destination.render(o,r,s,!1)}this.advanceDecodedTime(1/this.frameRate);var a=m_()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,a),!0},e}(C_),x_=function(t){function e(i){var n;(n=t.call(this,i)||this).onDecodeCallback=i.onAudioDecode;var o=i.audioBufferSize||131072,r=i.streaming?__.MODE.EVICT:__.MODE.EXPAND;n.bits=new __(o,r),n.left=new Float32Array(1152),n.right=new Float32Array(1152),n.sampleRate=44100,n.D=new Float32Array(1024),n.D.set(e.SYNTHESIS_WINDOW,0),n.D.set(e.SYNTHESIS_WINDOW,512),n.V=[new Float32Array(1024),new Float32Array(1024)],n.U=new Int32Array(32),n.VPos=0,n.allocation=[new Array(32),new Array(32)],n.scaleFactorInfo=[new Uint8Array(32),new Uint8Array(32)],n.scaleFactor=[new Array(32),new Array(32)],n.sample=[new Array(32),new Array(32)];for(var s=0;s<2;s++)for(var a=0;a<32;a++)n.scaleFactor[s][a]=[0,0,0],n.sample[s][a]=[0,0,0];return n}r_(e,t);var i=e.prototype;return i.decode=function(){var t=m_(),e=this.bits.index>>3;if(e>=this.bits.byteLength)return!1;var i=this.decodeFrame(this.left,this.right);if(this.bits.index=e+i<<3,!i)return!1;this.destination&&this.destination.play(this.sampleRate,this.left,this.right),this.advanceDecodedTime(this.left.length/this.sampleRate);var n=m_()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,n),!0},i.getCurrentTime=function(){var t=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-t},i.decodeFrame=function(t,i){var n=this.bits.read(11),o=this.bits.read(2),r=this.bits.read(2),s=!this.bits.read(1);if(n!==e.FRAME_SYNC||o!==e.VERSION.MPEG_1||r!==e.LAYER.II)return 0;var a=this.bits.read(4)-1;if(a>13)return 0;var l=this.bits.read(2),d=e.SAMPLE_RATE[l];if(3===l)return 0;o===e.VERSION.MPEG_2&&(l+=4,a+=14);var c=this.bits.read(1);this.bits.read(1);var h=this.bits.read(2),u=0;h===e.MODE.JOINT_STEREO?u=this.bits.read(2)+1<<2:(this.bits.skip(2),u=h===e.MODE.MONO?0:32),this.bits.skip(4),s&&this.bits.skip(16);var A=144e3*e.BIT_RATE[a]/(d=e.SAMPLE_RATE[l])+c|0,p=0,m=0;if(o===e.VERSION.MPEG_2)p=2,m=30;else{var g=h===e.MODE.MONO?0:1,f=e.QUANT_LUT_STEP_1[g][a];m=63&(p=e.QUANT_LUT_STEP_2[f][l]),p>>=6}u>m&&(u=m);for(var v=0;v<u;v++)this.allocation[0][v]=this.readAllocation(v,p),this.allocation[1][v]=this.readAllocation(v,p);for(var b=u;b<m;b++)this.allocation[0][b]=this.allocation[1][b]=this.readAllocation(b,p);for(var y=h===e.MODE.MONO?1:2,_=0;_<m;_++){for(var w=0;w<y;w++)this.allocation[w][_]&&(this.scaleFactorInfo[w][_]=this.bits.read(2));h===e.MODE.MONO&&(this.scaleFactorInfo[1][_]=this.scaleFactorInfo[0][_])}for(var C=0;C<m;C++){for(var I=0;I<y;I++)if(this.allocation[I][C]){var E=this.scaleFactor[I][C];switch(this.scaleFactorInfo[I][C]){case 0:E[0]=this.bits.read(6),E[1]=this.bits.read(6),E[2]=this.bits.read(6);break;case 1:E[0]=E[1]=this.bits.read(6),E[2]=this.bits.read(6);break;case 2:E[0]=E[1]=E[2]=this.bits.read(6);break;case 3:E[0]=this.bits.read(6),E[1]=E[2]=this.bits.read(6)}}h===e.MODE.MONO&&(this.scaleFactor[1][C][0]=this.scaleFactor[0][C][0],this.scaleFactor[1][C][1]=this.scaleFactor[0][C][1],this.scaleFactor[1][C][2]=this.scaleFactor[0][C][2])}for(var x=0,B=0;B<3;B++)for(var k=0;k<4;k++){for(var S=0;S<u;S++)this.readSamples(0,S,B),this.readSamples(1,S,B);for(var D=u;D<m;D++)this.readSamples(0,D,B),this.sample[1][D][0]=this.sample[0][D][0],this.sample[1][D][1]=this.sample[0][D][1],this.sample[1][D][2]=this.sample[0][D][2];for(var Q=m;Q<32;Q++)this.sample[0][Q][0]=0,this.sample[0][Q][1]=0,this.sample[0][Q][2]=0,this.sample[1][Q][0]=0,this.sample[1][Q][1]=0,this.sample[1][Q][2]=0;for(var M=0;M<3;M++){this.VPos=this.VPos-64&1023;for(var T=0;T<2;T++){e.MatrixTransform(this.sample[T],M,this.V[T],this.VPos),g_(this.U,0);for(var O=512-(this.VPos>>1),R=this.VPos%128>>1;R<1024;){for(var P=0;P<32;++P)this.U[P]+=this.D[O++]*this.V[T][R++];R+=96,O+=32}for(R=1120-R,O-=480;R<1024;){for(var N=0;N<32;++N)this.U[N]+=this.D[O++]*this.V[T][R++];R+=96,O+=32}for(var F=0===T?t:i,L=0;L<32;L++)F[x+L]=this.U[L]/2147418112}x+=32}}return this.sampleRate=d,A},i.readAllocation=function(t,i){var n=e.QUANT_LUT_STEP_3[i][t],o=e.QUANT_LUT_STEP4[15&n][this.bits.read(n>>4)];return o?e.QUANT_TAB[o-1]:0},i.readSamples=function(t,i,n){var o=this.allocation[t][i],r=this.scaleFactor[t][i][n],s=this.sample[t][i],a=0;if(o){if(63===r)r=0;else{var l=r/3|0;r=e.SCALEFACTOR_BASE[r%3]+(1<<l>>1)>>l}var d=o.levels;o.group?(a=this.bits.read(o.bits),s[0]=a%d,a=a/d|0,s[1]=a%d,s[2]=a/d|0):(s[0]=this.bits.read(o.bits),s[1]=this.bits.read(o.bits),s[2]=this.bits.read(o.bits));var c=65536/(d+1)|0;a=((d=(d+1>>1)-1)-s[0])*c,s[0]=a*(r>>12)+(a*(4095&r)+2048>>12)>>12,a=(d-s[1])*c,s[1]=a*(r>>12)+(a*(4095&r)+2048>>12)>>12,a=(d-s[2])*c,s[2]=a*(r>>12)+(a*(4095&r)+2048>>12)>>12}else s[0]=s[1]=s[2]=0},e.MatrixTransform=function(t,e,i,n){var o,r,s,a,l,d,c,h,u,A,p,m,g,f,v,b,y,_,w,C,I,E,x,B,k,S,D,Q,M,T,O,R,P;o=t[0][e]+t[31][e],r=.500602998235*(t[0][e]-t[31][e]),s=t[1][e]+t[30][e],a=.505470959898*(t[1][e]-t[30][e]),l=t[2][e]+t[29][e],d=.515447309923*(t[2][e]-t[29][e]),c=t[3][e]+t[28][e],h=.53104259109*(t[3][e]-t[28][e]),u=t[4][e]+t[27][e],A=.553103896034*(t[4][e]-t[27][e]),p=t[5][e]+t[26][e],m=.582934968206*(t[5][e]-t[26][e]),g=t[6][e]+t[25][e],f=.622504123036*(t[6][e]-t[25][e]),v=t[7][e]+t[24][e],b=.674808341455*(t[7][e]-t[24][e]),y=t[8][e]+t[23][e],_=.744536271002*(t[8][e]-t[23][e]),w=t[9][e]+t[22][e],C=.839349645416*(t[9][e]-t[22][e]),I=t[10][e]+t[21][e],E=.972568237862*(t[10][e]-t[21][e]),x=t[11][e]+t[20][e],B=1.16943993343*(t[11][e]-t[20][e]),k=t[12][e]+t[19][e],S=1.48416461631*(t[12][e]-t[19][e]),D=t[13][e]+t[18][e],Q=2.05778100995*(t[13][e]-t[18][e]),M=t[14][e]+t[17][e],T=3.40760841847*(t[14][e]-t[17][e]),P=o+(O=t[15][e]+t[16][e]),O=.502419286188*(o-O),o=s+M,M=.52249861494*(s-M),s=l+D,D=.566944034816*(l-D),l=c+k,k=.64682178336*(c-k),c=u+x,x=.788154623451*(u-x),u=p+I,I=1.06067768599*(p-I),p=g+w,w=1.72244709824*(g-w),g=v+y,y=5.10114861869*(v-y),v=P+g,g=.509795579104*(P-g),P=o+p,o=.601344886935*(o-p),p=s+u,u=.899976223136*(s-u),s=l+c,c=2.56291544774*(l-c),l=v+s,v=.541196100146*(v-s),s=P+p,p=1.30656296488*(P-p),P=l+s,l=.707106781187*(l-s),s=v+p,s+=v=.707106781187*(v-p),p=g+c,g=.541196100146*(g-c),c=o+u,u=1.30656296488*(o-u),o=p+c,c=.707106781187*(p-c),p=g+u,o+=p+=g=.707106781187*(g-u),p+=c,c+=g,u=O+y,O=.509795579104*(O-y),y=M+w,M=.601344886935*(M-w),w=D+I,I=.899976223136*(D-I),D=k+x,x=2.56291544774*(k-x),k=u+D,u=.541196100146*(u-D),D=y+w,w=1.30656296488*(y-w),y=k+D,D=.707106781187*(k-D),k=u+w,w=.707106781187*(u-w),u=O+x,O=.541196100146*(O-x),x=M+I,I=1.30656296488*(M-I),M=u+x,x=.707106781187*(u-x),u=O+I,y+=M+=u+=O=.707106781187*(O-I),M+=k+=w,k+=u+=x,u+=D,D+=x+=O,x+=w,w+=O,I=r+(R=10.1900081235*(t[15][e]-t[16][e])),r=.502419286188*(r-R),R=a+T,a=.52249861494*(a-T),T=d+Q,Q=.566944034816*(d-Q),d=h+S,h=.64682178336*(h-S),S=A+B,A=.788154623451*(A-B),B=m+E,E=1.06067768599*(m-E),m=f+C,C=1.72244709824*(f-C),f=b+_,b=5.10114861869*(b-_),_=I+f,f=.509795579104*(I-f),I=R+m,R=.601344886935*(R-m),m=T+B,B=.899976223136*(T-B),T=d+S,S=2.56291544774*(d-S),d=_+T,_=.541196100146*(_-T),T=I+m,m=1.30656296488*(I-m),I=d+T,T=.707106781187*(d-T),d=_+m,m=.707106781187*(_-m),_=f+S,S=.541196100146*(f-S),f=R+B,B=1.30656296488*(R-B),R=_+f,f=.707106781187*(_-f),_=S+B,R+=_+=B=.707106781187*(S-B),_+=f,S=f+B,f=r+b,r=.509795579104*(r-b),b=a+C,a=.601344886935*(a-C),C=Q+E,E=.899976223136*(Q-E),Q=h+A,A=2.56291544774*(h-A),h=f+Q,f=.541196100146*(f-Q),Q=b+C,C=1.30656296488*(b-C),b=h+Q,Q=.707106781187*(h-Q),h=f+C,C=.707106781187*(f-C),f=r+A,r=.541196100146*(r-A),A=a+E,E=1.30656296488*(a-E),a=f+A,A=.707106781187*(f-A),f=r+E,I+=b+=a+=f+=r=.707106781187*(r-E),b+=R,R+=a+=h+=C,a+=d+=m,d+=h+=f+=A,h+=_,_+=f+=Q,f+=T,T+=Q+=A+=r,Q+=S,S+=A+=C,A+=m,m+=C+=r,C+=B,B+=r,i[n+48]=-P,i[n+49]=i[n+47]=-I,i[n+50]=i[n+46]=-y,i[n+51]=i[n+45]=-b,i[n+52]=i[n+44]=-o,i[n+53]=i[n+43]=-R,i[n+54]=i[n+42]=-M,i[n+55]=i[n+41]=-a,i[n+56]=i[n+40]=-s,i[n+57]=i[n+39]=-d,i[n+58]=i[n+38]=-k,i[n+59]=i[n+37]=-h,i[n+60]=i[n+36]=-p,i[n+61]=i[n+35]=-_,i[n+62]=i[n+34]=-u,i[n+63]=i[n+33]=-f,i[n+32]=-l,i[n+0]=l,i[n+31]=-T,i[n+1]=T,i[n+30]=-D,i[n+2]=D,i[n+29]=-Q,i[n+3]=Q,i[n+28]=-c,i[n+4]=c,i[n+27]=-S,i[n+5]=S,i[n+26]=-x,i[n+6]=x,i[n+25]=-A,i[n+7]=A,i[n+24]=-v,i[n+8]=v,i[n+23]=-m,i[n+9]=m,i[n+22]=-w,i[n+10]=w,i[n+21]=-C,i[n+11]=C,i[n+20]=-g,i[n+12]=g,i[n+19]=-B,i[n+13]=B,i[n+18]=-O,i[n+14]=O,i[n+17]=-r,i[n+15]=r,i[n+16]=0},e}(C_);x_.FRAME_SYNC=2047,x_.VERSION={MPEG_2_5:0,MPEG_2:2,MPEG_1:3},x_.LAYER={III:1,II:2,I:3},x_.MODE={STEREO:0,JOINT_STEREO:1,DUAL_CHANNEL:2,MONO:3},x_.SAMPLE_RATE=new Uint16Array([44100,48e3,32e3,0,22050,24e3,16e3,0]),x_.BIT_RATE=new Uint16Array([32,48,56,64,80,96,112,128,160,192,224,256,320,384,8,16,24,32,40,48,56,64,80,96,112,128,144,160]),x_.SCALEFACTOR_BASE=new Uint32Array([33554432,26632170,21137968]),x_.SYNTHESIS_WINDOW=new Float32Array([0,-.5,-.5,-.5,-.5,-.5,-.5,-1,-1,-1,-1,-1.5,-1.5,-2,-2,-2.5,-2.5,-3,-3.5,-3.5,-4,-4.5,-5,-5.5,-6.5,-7,-8,-8.5,-9.5,-10.5,-12,-13,-14.5,-15.5,-17.5,-19,-20.5,-22.5,-24.5,-26.5,-29,-31.5,-34,-36.5,-39.5,-42.5,-45.5,-48.5,-52,-55.5,-58.5,-62.5,-66,-69.5,-73.5,-77,-80.5,-84.5,-88,-91.5,-95,-98,-101,-104,106.5,109,111,112.5,113.5,114,114,113.5,112,110.5,107.5,104,100,94.5,88.5,81.5,73,63.5,53,41.5,28.5,14.5,-1,-18,-36,-55.5,-76.5,-98.5,-122,-147,-173.5,-200.5,-229.5,-259.5,-290.5,-322.5,-355.5,-389.5,-424,-459.5,-495.5,-532,-568.5,-605,-641.5,-678,-714,-749,-783.5,-817,-849,-879.5,-908.5,-935,-959.5,-981,-1000.5,-1016,-1028.5,-1037.5,-1042.5,-1043.5,-1040,-1031.5,1018.5,1e3,976,946.5,911,869.5,822,767.5,707,640,565.5,485,397,302.5,201,92.5,-22.5,-144,-272.5,-407,-547.5,-694,-846,-1003,-1165,-1331.5,-1502,-1675.5,-1852.5,-2031.5,-2212.5,-2394,-2576.5,-2758.5,-2939.5,-3118.5,-3294.5,-3467.5,-3635.5,-3798.5,-3955,-4104.5,-4245.5,-4377.5,-4499,-4609.5,-4708,-4792.5,-4863.5,-4919,-4958,-4979.5,-4983,-4967.5,-4931.5,-4875,-4796,-4694.5,-4569.5,-4420,-4246,-4046,-3820,-3567,3287,2979.5,2644,2280.5,1888,1467.5,1018.5,541,35,-499,-1061,-1650,-2266.5,-2909,-3577,-4270,-4987.5,-5727.5,-6490,-7274,-8077.5,-8899.5,-9739,-10594.5,-11464.5,-12347,-13241,-14144.5,-15056,-15973.5,-16895.5,-17820,-18744.5,-19668,-20588,-21503,-22410.5,-23308.5,-24195,-25068.5,-25926.5,-26767,-27589,-28389,-29166.5,-29919,-30644.5,-31342,-32009.5,-32645,-33247,-33814.5,-34346,-34839.5,-35295,-35710,-36084.5,-36417.5,-36707.5,-36954,-37156.5,-37315,-37428,-37496,37519,37496,37428,37315,37156.5,36954,36707.5,36417.5,36084.5,35710,35295,34839.5,34346,33814.5,33247,32645,32009.5,31342,30644.5,29919,29166.5,28389,27589,26767,25926.5,25068.5,24195,23308.5,22410.5,21503,20588,19668,18744.5,17820,16895.5,15973.5,15056,14144.5,13241,12347,11464.5,10594.5,9739,8899.5,8077.5,7274,6490,5727.5,4987.5,4270,3577,2909,2266.5,1650,1061,499,-35,-541,-1018.5,-1467.5,-1888,-2280.5,-2644,-2979.5,3287,3567,3820,4046,4246,4420,4569.5,4694.5,4796,4875,4931.5,4967.5,4983,4979.5,4958,4919,4863.5,4792.5,4708,4609.5,4499,4377.5,4245.5,4104.5,3955,3798.5,3635.5,3467.5,3294.5,3118.5,2939.5,2758.5,2576.5,2394,2212.5,2031.5,1852.5,1675.5,1502,1331.5,1165,1003,846,694,547.5,407,272.5,144,22.5,-92.5,-201,-302.5,-397,-485,-565.5,-640,-707,-767.5,-822,-869.5,-911,-946.5,-976,-1e3,1018.5,1031.5,1040,1043.5,1042.5,1037.5,1028.5,1016,1000.5,981,959.5,935,908.5,879.5,849,817,783.5,749,714,678,641.5,605,568.5,532,495.5,459.5,424,389.5,355.5,322.5,290.5,259.5,229.5,200.5,173.5,147,122,98.5,76.5,55.5,36,18,1,-14.5,-28.5,-41.5,-53,-63.5,-73,-81.5,-88.5,-94.5,-100,-104,-107.5,-110.5,-112,-113.5,-114,-114,-113.5,-112.5,-111,-109,106.5,104,101,98,95,91.5,88,84.5,80.5,77,73.5,69.5,66,62.5,58.5,55.5,52,48.5,45.5,42.5,39.5,36.5,34,31.5,29,26.5,24.5,22.5,20.5,19,17.5,15.5,14.5,13,12,10.5,9.5,8.5,8,7,6.5,5.5,5,4.5,4,3.5,3.5,3,2.5,2.5,2,2,1.5,1.5,1,1,1,1,.5,.5,.5,.5,.5,.5]),x_.QUANT_LUT_STEP_1=[[0,0,1,1,1,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,1,1,1,2,2,2,2,2]],x_.QUANT_TAB={A:91,B:94,C:8,D:12},x_.QUANT_LUT_STEP_2=[[x_.QUANT_TAB.C,x_.QUANT_TAB.C,x_.QUANT_TAB.D],[x_.QUANT_TAB.A,x_.QUANT_TAB.A,x_.QUANT_TAB.A],[x_.QUANT_TAB.B,x_.QUANT_TAB.A,x_.QUANT_TAB.B]],x_.QUANT_LUT_STEP_3=[[68,68,52,52,52,52,52,52,52,52,52,52],[67,67,67,66,66,66,66,66,66,66,66,49,49,49,49,49,49,49,49,49,49,49,49,32,32,32,32,32,32,32],[69,69,69,69,52,52,52,52,52,52,52,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36,36]],x_.QUANT_LUT_STEP4=[[0,1,2,17],[0,1,2,3,4,5,6,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,17],[0,1,3,5,6,7,8,9,10,11,12,13,14,15,16,17],[0,1,2,4,5,6,7,8,9,10,11,12,13,14,15,17],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]],x_.QUANT_TAB=[{levels:3,group:1,bits:5},{levels:5,group:1,bits:7},{levels:7,group:0,bits:3},{levels:9,group:1,bits:10},{levels:15,group:0,bits:4},{levels:31,group:0,bits:5},{levels:63,group:0,bits:6},{levels:127,group:0,bits:7},{levels:255,group:0,bits:8},{levels:511,group:0,bits:9},{levels:1023,group:0,bits:10},{levels:2047,group:0,bits:11},{levels:4095,group:0,bits:12},{levels:8191,group:0,bits:13},{levels:16383,group:0,bits:14},{levels:32767,group:0,bits:15},{levels:65535,group:0,bits:16}];var B_=function(t){function e(e){var i;return(i=t.call(this,e)||this).onDecodeCallback=e.onAudioDecode,i.module=e.wasmModule,i.bufferSize=e.audioBufferSize||131072,i.bufferMode=e.streaming?__.MODE.EVICT:__.MODE.EXPAND,i.sampleRate=0,i}r_(e,t);var i=e.prototype;return i.initializeWasmDecoder=function(){this.module.instance?(this.instance=this.module.instance,this.functions=this.module.instance.exports,this.decoder=this.functions._mp2_decoder_create(this.bufferSize,this.bufferMode)):console.warn("JSMpeg: WASM module not compiled yet")},i.destroy=function(){this.decoder&&this.functions._mp2_decoder_destroy(this.decoder)},i.bufferGetIndex=function(){if(this.decoder)return this.functions._mp2_decoder_get_index(this.decoder)},i.bufferSetIndex=function(t){this.decoder&&this.functions._mp2_decoder_set_index(this.decoder,t)},i.bufferWrite=function(t){this.decoder||this.initializeWasmDecoder();for(var e=0,i=0;i<t.length;i++)e+=t[i].length;for(var n=this.functions._mp2_decoder_get_write_ptr(this.decoder,e),o=0;o<t.length;o++)this.instance.heapU8.set(t[o],n),n+=t[o].length;return this.functions._mp2_decoder_did_write(this.decoder,e),e},i.decode=function(){var t=m_();if(!this.decoder)return!1;if(0===this.functions._mp2_decoder_decode(this.decoder))return!1;if(this.sampleRate||(this.sampleRate=this.functions._mp2_decoder_get_sample_rate(this.decoder)),this.destination){var i=this.functions._mp2_decoder_get_left_channel_ptr(this.decoder),n=this.functions._mp2_decoder_get_right_channel_ptr(this.decoder),o=i/Float32Array.BYTES_PER_ELEMENT,r=n/Float32Array.BYTES_PER_ELEMENT,s=this.instance.heapF32.subarray(o,o+e.SAMPLES_PER_FRAME),a=this.instance.heapF32.subarray(r,r+e.SAMPLES_PER_FRAME);this.destination.play(this.sampleRate,s,a)}this.advanceDecodedTime(e.SAMPLES_PER_FRAME/this.sampleRate);var l=m_()-t;return this.onDecodeCallback&&this.onDecodeCallback(this,l),!0},i.getCurrentTime=function(){var t=this.destination?this.destination.enqueuedTime:0;return this.decodedTime-t},e}(C_);B_.SAMPLES_PER_FRAME=1152;var k_=function(){function t(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.contextLost=!1,this.hasTextureData={};var e={preserveDrawingBuffer:!!t.preserveDrawingBuffer,alpha:!1,depth:!1,stencil:!1,antialias:!1,premultipliedAlpha:!1};if(this.gl=this.canvas.getContext("webgl",e)||this.canvas.getContext("experimental-webgl",e),!this.gl)throw new Error("Failed to get WebGL Context");this.gl.isContextLost()&&this.gl.getExtension("WEBGL_lose_context").restoreContext(),this.canvas.addEventListener("webglcontextlost",this.handleContextLost.bind(this),!1),this.canvas.addEventListener("webglcontextrestored",this.handleContextRestored.bind(this),!1),this.initGL()}var e=t.prototype;return e.initGL=function(){this.hasTextureData={};var e=this.gl,i=null;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.vertexBuffer=e.createBuffer();var n=new Float32Array([0,0,0,1,1,0,1,1]);e.bindBuffer(e.ARRAY_BUFFER,this.vertexBuffer),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW),this.program=this.createProgram(t.SHADER.VERTEX_IDENTITY,t.SHADER.FRAGMENT_YCRCB_TO_RGBA),i=e.getAttribLocation(this.program,"vertex"),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),this.textureY=this.createTexture(0,"textureY"),this.textureCb=this.createTexture(1,"textureCb"),this.textureCr=this.createTexture(2,"textureCr"),this.loadingProgram=this.createProgram(t.SHADER.VERTEX_IDENTITY,t.SHADER.FRAGMENT_LOADING),i=e.getAttribLocation(this.loadingProgram,"vertex"),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,2,e.FLOAT,!1,0,0),this.shouldCreateUnclampedViews=!this.allowsClampedTextureData()},e.handleContextLost=function(t){t.preventDefault(),this.contextLost=!0},e.handleContextRestored=function(){this.initGL(),this.contextLost=!1},e.destroy=function(){if(!this.contextLost){var t=this.gl;this.deleteTexture(t.TEXTURE0,this.textureY),this.deleteTexture(t.TEXTURE1,this.textureCb),this.deleteTexture(t.TEXTURE2,this.textureCr),t.useProgram(null),t.deleteProgram(this.program),t.deleteProgram(this.loadingProgram),t.bindBuffer(t.ARRAY_BUFFER,null),t.deleteBuffer(this.vertexBuffer),t.getExtension("WEBGL_lose_context").loseContext(),this.canvas.remove(),this.contextLost=!0}},e.resize=function(t,e){this.width=0|t,this.height=0|e,this.canvas.width=this.width,this.canvas.height=this.height,this.gl.useProgram(this.program);var i=this.width+15>>4<<4;this.gl.viewport(0,0,i,this.height)},e.createTexture=function(t,e){var i=this.gl,n=i.createTexture();return i.bindTexture(i.TEXTURE_2D,n),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.uniform1i(i.getUniformLocation(this.program,e),t),n},e.createProgram=function(t,e){var i=this.gl,n=i.createProgram();return i.attachShader(n,this.compileShader(i.VERTEX_SHADER,t)),i.attachShader(n,this.compileShader(i.FRAGMENT_SHADER,e)),i.linkProgram(n),i.useProgram(n),n},e.compileShader=function(t,e){var i=this.gl,n=i.createShader(t);if(i.shaderSource(n,e),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw new Error(i.getShaderInfoLog(n));return n},e.allowsClampedTextureData=function(){var t=this.gl,e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texImage2D(t.TEXTURE_2D,0,t.LUMINANCE,1,1,0,t.LUMINANCE,t.UNSIGNED_BYTE,new Uint8ClampedArray([0])),0===t.getError()},e.renderProgress=function(t){var e=this.gl;e.useProgram(this.loadingProgram);var i=e.getUniformLocation(this.loadingProgram,"progress");e.uniform1f(i,t),e.drawArrays(e.TRIANGLE_STRIP,0,4)},e.render=function(t,e,i,n){if(this.enabled){var o=this.gl,r=this.width+15>>4<<4,s=this.height,a=r>>1,l=s>>1;n&&this.shouldCreateUnclampedViews&&(t=new Uint8Array(t.buffer),e=new Uint8Array(e.buffer),i=new Uint8Array(i.buffer)),o.useProgram(this.program),this.updateTexture(o.TEXTURE0,this.textureY,r,s,t),this.updateTexture(o.TEXTURE1,this.textureCb,a,l,e),this.updateTexture(o.TEXTURE2,this.textureCr,a,l,i),o.drawArrays(o.TRIANGLE_STRIP,0,4)}},e.updateTexture=function(t,e,i,n,o){var r=this.gl;r.activeTexture(t),r.bindTexture(r.TEXTURE_2D,e),this.hasTextureData[t]?r.texSubImage2D(r.TEXTURE_2D,0,0,0,i,n,r.LUMINANCE,r.UNSIGNED_BYTE,o):(this.hasTextureData[t]=!0,r.texImage2D(r.TEXTURE_2D,0,r.LUMINANCE,i,n,0,r.LUMINANCE,r.UNSIGNED_BYTE,o))},e.deleteTexture=function(t,e){var i=this.gl;i.activeTexture(t),i.bindTexture(i.TEXTURE_2D,null),i.deleteTexture(e)},t.IsSupported=function(){try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas");return!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(t){return!1}},t}();k_.SHADER={FRAGMENT_YCRCB_TO_RGBA:["precision mediump float;","uniform sampler2D textureY;","uniform sampler2D textureCb;","uniform sampler2D textureCr;","varying vec2 texCoord;","mat4 rec601 = mat4(","1.16438,  0.00000,  1.59603, -0.87079,","1.16438, -0.39176, -0.81297,  0.52959,","1.16438,  2.01723,  0.00000, -1.08139,","0, 0, 0, 1",");","void main() {","float y = texture2D(textureY, texCoord).r;","float cb = texture2D(textureCb, texCoord).r;","float cr = texture2D(textureCr, texCoord).r;","gl_FragColor = vec4(y, cr, cb, 1.0) * rec601;","}"].join("\n"),FRAGMENT_LOADING:["precision mediump float;","uniform float progress;","varying vec2 texCoord;","void main() {","float c = ceil(progress-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),VERTEX_IDENTITY:["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n")};var S_=function(){function t(t){this.canvas=t.canvas||document.createElement("canvas"),this.width=this.canvas.width,this.height=this.canvas.height,this.enabled=!0,this.context=this.canvas.getContext("2d")}var e=t.prototype;return e.destroy=function(){},e.resize=function(t,e){this.width=0|t,this.height=0|e,this.canvas.width=this.width,this.canvas.height=this.height,this.imageData=this.context.getImageData(0,0,this.width,this.height),g_(this.imageData.data,255)},e.renderProgress=function(t){var e=this.canvas.width,i=this.canvas.height,n=this.context;n.fillStyle="#222",n.fillRect(0,0,e,i),n.fillStyle="#fff",n.fillRect(0,i-i*t,e,i*t)},e.render=function(t,e,i){this.YCbCrToRGBA(t,e,i,this.imageData.data),this.context.putImageData(this.imageData,0,0)},e.YCbCrToRGBA=function(t,e,i,n){if(this.enabled)for(var o,r,s,a,l,d=this.width+15>>4<<4,c=d>>1,h=0,u=d,A=d+(d-this.width),p=0,m=c-(this.width>>1),g=0,f=4*this.width,v=4*this.width,b=this.width>>1,y=this.height>>1,_=0;_<y;_++){for(var w=0;w<b;w++){o=e[p],r=i[p],p++,s=o+(103*o>>8)-179,a=(88*r>>8)-44+(183*o>>8)-91,l=r+(198*r>>8)-227;var C=t[h++],I=t[h++];n[g]=C+s,n[g+1]=C-a,n[g+2]=C+l,n[g+4]=I+s,n[g+5]=I-a,n[g+6]=I+l,g+=8;var E=t[u++],x=t[u++];n[f]=E+s,n[f+1]=E-a,n[f+2]=E+l,n[f+4]=x+s,n[f+5]=x-a,n[f+6]=x+l,f+=8}h+=A,u+=A,g+=v,f+=v,p+=m}},t}(),D_=function(){function t(){this.context=t.CachedContext=t.CachedContext||new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.destination=this.gain,this.gain.connect(this.context.destination),this.context._connections=(this.context._connections||0)+1,this.startTime=0,this.buffer=null,this.wallclockStartTime=0,this.volume=1,this.enabled=!0,this.unlocked=!t.NeedsUnlocking(),Object.defineProperty(this,"enqueuedTime",{get:this.getEnqueuedTime})}var e=t.prototype;return e.destroy=function(){this.gain.disconnect(),this.context._connections--,0===this.context._connections&&(this.context.close(),t.CachedContext=null)},e.play=function(t,e,i){if(this.enabled){if(!this.unlocked){var n=m_();return this.wallclockStartTime<n&&(this.wallclockStartTime=n),void(this.wallclockStartTime+=e.length/t)}this.gain.gain.value=this.volume;var o=this.context.createBuffer(2,e.length,t);o.getChannelData(0).set(e),o.getChannelData(1).set(i);var r=this.context.createBufferSource();r.buffer=o,r.connect(this.destination);var s=this.context.currentTime,a=o.duration;this.startTime<s&&(this.startTime=s,this.wallclockStartTime=m_()),r.start(this.startTime),this.startTime+=a,this.wallclockStartTime+=a}},e.stop=function(){this.gain.gain.value=0},e.getEnqueuedTime=function(){return Math.max(this.wallclockStartTime-m_(),0)},e.resetEnqueuedTime=function(){this.startTime=this.context.currentTime,this.wallclockStartTime=m_()},e.unlock=function(t){if(this.unlocked)t&&t();else{this.unlockCallback=t;var e=this.context.createBuffer(1,1,22050),i=this.context.createBufferSource();i.buffer=e,i.connect(this.destination),i.start?i.start(0):i.noteOn(0),setTimeout(this.checkIfUnlocked.bind(this,i,0),0)}},e.checkIfUnlocked=function(t,e){t.playbackState===t.PLAYING_STATE||t.playbackState===t.FINISHED_STATE?(this.unlocked=!0,this.unlockCallback&&(this.unlockCallback(),this.unlockCallback=null)):e<10&&setTimeout(this.checkIfUnlocked.bind(this,t,e+1),100)},t.NeedsUnlocking=function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},t.IsSupported=function(){return window.AudioContext||window.webkitAudioContext},t}();D_.CachedContext=null;var Q_=function(){function t(){this.stackSize=5242880,this.pageSize=65536,this.onInitCallbacks=[],this.ready=!1,this.loadingFromFileStarted=!1,this.loadingFromBufferStarted=!1}var e=t.prototype;return e.write=function(t){this.loadFromBuffer(t)},e.loadFromFile=function(t,e){if(e&&this.onInitCallbacks.push(e),!this.loadingFromFileStarted){this.loadingFromFileStarted=!0,this.onInitCallback=e;var i=new v_(t,{});i.connect(this),i.start()}},e.loadFromBuffer=function(t,e){var i=this;if(e&&this.onInitCallbacks.push(e),!this.loadingFromBufferStarted)if(this.loadingFromBufferStarted=!0,this.moduleInfo=this.readDylinkSection(t),this.moduleInfo){this.memory=new WebAssembly.Memory({initial:256});var n={memory:this.memory,memoryBase:0,__memory_base:0,table:new WebAssembly.Table({initial:this.moduleInfo.tableSize,element:"anyfunc"}),tableBase:0,__table_base:0,abort:this.c_abort.bind(this),___assert_fail:this.c_assertFail.bind(this),_sbrk:this.c_sbrk.bind(this)};this.brk=this.align(this.moduleInfo.memorySize+this.stackSize),WebAssembly.instantiate(t,{env:n}).then((function(t){i.instance=t.instance,i.instance.exports.__post_instantiate&&i.instance.exports.__post_instantiate(),i.createHeapViews(),i.ready=!0;for(var e=0;e<i.onInitCallbacks.length;e++)i.onInitCallbacks[e](i)}))}else for(var o=0;o<this.onInitCallbacks.length;o++)this.onInitCallbacks[o](null)},e.createHeapViews=function(){this.instance.heapU8=new Uint8Array(this.memory.buffer),this.instance.heapU32=new Uint32Array(this.memory.buffer),this.instance.heapF32=new Float32Array(this.memory.buffer)},e.align=function(t){var e=Math.pow(2,this.moduleInfo.memoryAlignment);return Math.ceil(t/e)*e},e.c_sbrk=function(t){var e=this.brk;if(this.brk+=t,this.brk>this.memory.buffer.byteLength){var i=this.brk-this.memory.buffer.byteLength,n=Math.ceil(i/this.pageSize);this.memory.grow(n),this.createHeapViews()}return e},e.c_abort=function(t){console.warn("JSMPeg: WASM abort",arguments)},e.c_assertFail=function(t){console.warn("JSMPeg: WASM ___assert_fail",arguments)},e.readDylinkSection=function(t){var e=new Uint8Array(t),i=0,n=function(){for(var t=0,n=1;;){var o=e[i++];if(t+=(127&o)*n,n*=128,!(128&o))return t}},o=function(t){for(var n=0;n<t.length;n++){var o="string"==typeof t[n]?t[n].charCodeAt(0):t[n];if(e[i++]!==o)return!1}return!0};return o([0,"a","s","m"])?(i=9,n(),o([6,"d","y","l","i","n","k"])?{memorySize:n(),memoryAlignment:n(),tableSize:n(),tableAlignment:n()}:(console.warn("JSMpeg: No dylink section found in WASM"),null)):(console.warn("JSMpeg: WASM header not found"),null)},t.IsSupported=function(){return!!window.WebAssembly},t.GetModule=function(){return t.CACHED_MODULE=t.CACHED_MODULE||new t,t.CACHED_MODULE},t}(),M_="AGFzbQEAAAAADwZkeWxpbmuA0MACBAAAAAE0CWAEf39/fwBgAX8Bf2ACf38Bf2ABfwBgAn9/AGABfwF9YAZ/f39/f38AYAN/f38Bf2AAAAJGBANlbnYOX19fYXNzZXJ0X2ZhaWwAAANlbnYFX3NicmsAAQNlbnYNX19tZW1vcnlfYmFzZQN/AANlbnYGbWVtb3J5AgCAAgM9PAIDAgEEBAMBBQEBAQEBAQEDBAMGAwQAAwAAAAIDAgEEBAEBAQEBAAACAwIBAgECAQEBAQMEAwMCBwcHCAYLAn8BQQALfwFBAAsHggYfEl9fcG9zdF9pbnN0YW50aWF0ZQA9BV9mcmVlADgHX21hbGxvYwAxB19tZW1jcHkAOghfbWVtbW92ZQA7B19tZW1zZXQAPBNfbXAyX2RlY29kZXJfY3JlYXRlAB0TX21wMl9kZWNvZGVyX2RlY29kZQAmFF9tcDJfZGVjb2Rlcl9kZXN0cm95AB4WX21wMl9kZWNvZGVyX2RpZF93cml0ZQAiFl9tcDJfZGVjb2Rlcl9nZXRfaW5kZXgAICFfbXAyX2RlY29kZXJfZ2V0X2xlZnRfY2hhbm5lbF9wdHIAJCJfbXAyX2RlY29kZXJfZ2V0X3JpZ2h0X2NoYW5uZWxfcHRyACUcX21wMl9kZWNvZGVyX2dldF9zYW1wbGVfcmF0ZQAjGl9tcDJfZGVjb2Rlcl9nZXRfd3JpdGVfcHRyAB8WX21wMl9kZWNvZGVyX3NldF9pbmRleAAhFV9tcGVnMV9kZWNvZGVyX2NyZWF0ZQACFV9tcGVnMV9kZWNvZGVyX2RlY29kZQARFl9tcGVnMV9kZWNvZGVyX2Rlc3Ryb3kAAxhfbXBlZzFfZGVjb2Rlcl9kaWRfd3JpdGUABxlfbXBlZzFfZGVjb2Rlcl9nZXRfY2JfcHRyABAdX21wZWcxX2RlY29kZXJfZ2V0X2NvZGVkX3NpemUACxlfbXBlZzFfZGVjb2Rlcl9nZXRfY3JfcHRyAA8dX21wZWcxX2RlY29kZXJfZ2V0X2ZyYW1lX3JhdGUAChlfbXBlZzFfZGVjb2Rlcl9nZXRfaGVpZ2h0AA0YX21wZWcxX2RlY29kZXJfZ2V0X2luZGV4AAUYX21wZWcxX2RlY29kZXJfZ2V0X3dpZHRoAAwcX21wZWcxX2RlY29kZXJfZ2V0X3dy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BQJ/IANBzQBHDQIgACgCgAFBBhAwIQMCQAJAIAAoAoABQQgQMCIEIgYEQCAGQYABRgRADAIFDAMLAAsgACgCgAFBCBAwDAILIAAoAoABQQgQMEGAfmoMAQsgBEGAfmogBCAEQYABShsLCyEEDAELIAZB/wFxIgNBACADayAAKAKAAUEBEDBFGyEEIAZBCHUhAwsgAiADaiIGIwBBQGtqLQAAIgMgBWotAAAgACgCREEAIARBAXQiAkEfdUEBciAAKAJcGyACamxsIgJBBHVBAEEBQX8gAkEPShsgAkEQcRtrIgJBgHAgAkGAcEobIQIgAEGcAWogA0ECdGogAyMAQZA1amotAAAgAkH/DyACQf8PSBtsNgIAIAZBAWohAgwBCwsgAUEESARAIABBhAFqIQUgAUEDdEEIcSAAKAJUIAAoAhgiAyAAKAJQbGpBBHRyIANBA3RBACABQQJxG2ohBAUgAEGMAWogAEGIAWogAUEERhshBSAAKAJQIAAoAhgiAUECdGwgACgCVEEDdGohBCABQQF1IQMLIANBeGohAyAFKAIAIQUgAkEBRiECIABBnAFqIQEgACgCXARAIAIEQCABKAIAQYABakEIdSAFIAQgAxAYIAFBADYCAAUgARAZIAEgBSAEIAMQGiABQQBBgAIQPBoLBSACBEAgASgCAEGAAWpBCHUgBSAEIAMQGyABQQA2AgAFIAEQGSABIAUgBCADEBwgAUEAQYACEDwaCwsL7AYAIAEgAmogAEEAIABBAEobIgBB/wEgAEH/AUgbQf8BcSIAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA0EIaiIDaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA2oiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASACIANqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAiADaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAACABIAIgA2oiAmogADoAACABIAJBAWpqIAA6AAAgASACQQJqaiAAOgAAIAEgAkEDamogADoAACABIAJBBGpqIAA6AAAgASACQQVqaiAAOgAAIAEgAkEGamogADoAACABIAJBB2pqIAA6AAAgASACIANqIgJqIAA6AAAgASACQQFqaiAAOgAAIAEgAkECamogADoAACABIAJBA2pqIAA6AAAgASACQQRqaiAAOgAAIAEgAkEFamogADoAACABIAJBBmpqIAA6AAAgASACQQdqaiAAOgAAIAEgAiADaiICaiAAOgAAIAEgAkEBamogADoAACABIAJBAmpqIAA6AAAgASACQQNqaiAAOgAAIAEgAkEEamogADoAACABIAJBBWpqIAA6AAAgASACQQZqaiAAOgAAIAEgAkEHamogADoAAAubBgEUfwNAIAFBEGpBAnQgAGoiBygCACIGIAFBMGpBAnQgAGoiDSgCACIJaiEFIAFBCGpBAnQgAGoiDigCACICIAFBOGpBAnQgAGoiDygCACIDaiEEIAIgA2siEEHZA2wgAUEoakECdCAAaiIKKAIAIgIgAUEYakECdCAAaiIRKAIAIgNrIgtBvH5sQYABampBCHUgBCACIANqIghqIgJrIgMgBCAIa0HqAmxBgAFqQQh1ayEEIAFBAnQgAGoiCCgCACIMIAFBIGpBAnQgAGoiEigCACITayIUIAYgCWtB6gJsQYABakEIdSAFayIJaiEGIAggAiAMIBNqIgggBWoiDGo2AgAgDiADIAZqNgIAIAcgFCAJayIHIARrNgIAIBEgC0HZA2xBgAFqIBBBxAFsakEIdSAEaiIJIAggBWsiBWo2AgAgEiAFIAlrNgIAIAogBCAHajYCACANIAYgA2s2AgAgDyAMIAJr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aiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAiAFIAI2AgAMAgsgBSAAKAIIQQYQMDYCACAAIANBgANsaiABQQxsaiAAKAIIQQYQMCICNgLUAiAAIANBgANsaiABQQxsaiACNgLQAgsLCyADQQFqIgMgCEkNAAsgAUEBaiIBIAtHDQALCwsLaiALQSBJIRsgAEHMtgFqIQQgAEHMCGohHCAAQcz2AGohHSAAQcwLaiEeIABBzJYBaiEfA0BBACEWIBQhAwNAIBgEQEEAIQEDQCAAQQAgASAOECggAEEBIAEgDhAoIAFBAWoiASANSA0ACwsgGQRAIA0hAQNAIABBACABIA4QKCAAQcwLaiABQQxsaiAAQcwIaiABQQxsaigCADYCACAAIAFBDGxqQdALaiAAIAFBDGxqQdAIaigCADYCACAAIAFBDGxqQdQLaiAAIAFBDGxqQdQIaigCADYCACABQQFqIgEgC0gNAAsLIBsEQCALIQEDQCAAQcwIaiABQQxsakEANgIAIAAgAUEMbGpB0AhqQQA2AgAgACABQQxsakHUCGpBADYCACAAQcwLaiABQQxsakEANgIAIAAgAUEMbGpB0AtqQQA2AgAgACABQQxsakHUC2pBADYCACABQQFqIgFBIEcNAAsLIAAoAgQhASADIRFBACESA0AgACABQcAHakH/B3EiATYCBCAcIBIgHSABECkgBEIANwIAIARCADcCCCAEQgA3AhAgBEIANwIYIARCADcCICAEQgA3AiggBEIANwIwIARCADcCOCAEQUBrQgA3AgAgBEIANwJIIARCADcCUCAEQgA3AlggBEIANwJgIARCADcCaCAEQgA3AnAgBEIANwJ4IAAoAgQiD0EBdSETQf8HIA9BgAFvQQF1IgxrIgFBgH9xIRUgAUEHdkEGdEHABGohEEGABCATayEGIAwhAQNAIAYhB0EAIQkgASECA0AgB0EBaiEIIAJBAWohBSAAQcy2AWogCUECdGoiCiAAQczWAGogB0ECdGoqAgAgAEHM9gBqIAJBAnRqKgIAlCAKKAIAspKoNgIAIAlBAWoiCUEgRwRAIAghByAFIQIMAQsLIAFBgAFqIQIgBkFAayEGIAFBgAdIBEAgAiEBDAELC0HgByAMIBVqayIBQYAISARAIBAgE2tBoHxqIQYD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IkogWCBLk7tEujBFka7n9D+itiJLk7tEuEt/Zp6g5j+itiI6kiEqIANBMGpBAnQgAmogTSA8kow4AgAgA0EvakECdCACaiApICiSIEwgSZIgJJIiKJKMIik4AgAgA0ExakECdCACaiApOAIAIANBLmpBAnQgAmogRiBFkiAjkowiKTgCACADQTJqQQJ0IAJqICk4AgAgA0EtakECdCACaiAwIC2SIEAgPpIgJpIiKZIiPCAokowiKDgCACADQTNqQQJ0IAJqICg4AgAgA0EsakECdCACaiA2IE+SIFEgUJIgNZIiKJKMIjY4AgAgA0E0akECdCACaiA2OAIAIANBK2pBAnQgAmogPCA/IDiSIDOSIjwgJJIiJJKMIjY4AgAgA0E1akECdCACaiA2OAIAIANBKmpBAnQgAmogPSBSkiA7kiI9ICOSjCIjOAIAIANBNmpBAnQgAmogIzgCACADQSlqQQJ0IAJqIEsgSpIgOpIiIyAkkowiJDgCACADQTdqQQJ0IAJqICQ4AgAgA0EoakECdCACaiBIIE6SIDGSjCIkOAIAIANBOGpBAnQgAmogJDgCACADQSdqQQJ0IAJqICMgPCArkiIjkowiJDgCACADQTlqQQJ0IAJqICQ4AgAgA0EmakECdCACaiA9ICeSjCIkOAIAIANBOmpBAnQgAmogJDgCACADQSVqQQJ0IAJqICkgLSAwk7tEuEt/Zp6g5j+itiIpkiItICOSjCIjOAIAIANBO2pBAnQgAmogIzgCACADQSRqQQJ0IAJqICggR5KMIiM4AgAgA0E8akECdCACaiAjOAIAIANBI2pBAnQgAmogLSArIDKSIiOSjCIoOAIAIANBPWpBAnQgAmogKDgCACADQSJqQQJ0IAJqICcgU5KMIic4AgAgA0E+akECdCACaiAnOAIAIANBIWpBAnQgAmogIyBCkowiIzgCACADQT9qQQJ0IAJqICM4AgAgA0EgakECdCACaiA0jDgCACADQQJ0IAJqIDQ4AgAgA0EfakECdCACaiAsjDgCACADQQFqQQJ0IAJqICw4AgAgA0EeakECdCACaiA5jDgCACADQQJqQQJ0IAJqIDk4AgAgA0EdakECdCACaiApICaSIjQgQZIiI4w4AgAgA0EDakECdCACaiAjOAIAIANBHGpBAnQgAmogL4w4AgAgA0EEakECdCACaiAvOAIAIANBG2pBAnQgAmogNCA3IDOSIjSSIi+MOAIAIANBBWpBAnQgAmogLzgCACADQRpqQQJ0IAJqIEQgO5IiL4w4AgAgA0EGakECdCACaiAvOAIAIANBGWpBAnQgAmogNCA6kiI0jDgCACADQQdqQQJ0IAJqIDQ4AgAgA0EYakECdCACaiAxjDgCACADQQhqQQJ0IAJqIDE4AgAgA0EXakECdCACaiAqjDgCACADQQlqQQJ0IAJqICo4AgAgA0EWakECdCACaiA7IC6SIjGMOAIAIANBCmpBAnQgAmogMTgCACADQRVqQQJ0IAJqIEMgJpIiMYw4AgAgA0ELakECdCACaiAxOAIAIANBFGpBAnQgAmogNYw4AgAgA0EMakECdCACaiA1OAIAIANBE2pBAnQgAmogJiAlkiImjDgCACADQQ1qQQJ0IAJqICY4AgAgA0ESakECdCACaiAujDgCACADQQ5qQQJ0IAJqIC44AgAgA0ERakECdCACaiAljDgCACADQQ9qQQJ0IAJqICU4AgAgA0EQakECdCACakMAAAAAOAIACy8BAX9BFBAxIgIgATYCECACIAAQMTYCACACIAA2AgggAkEANgIMIAJBADYCBCACCw0AIAAoAgAQOCAAEDgL6QEBBH8gACgCCCIDIAAoAgwiAmsiBCABSQRAAkAgACgCEEECRgRAIAAgACgCACABIARrIANBAXQiAiACIARqIAFJGyIBEDk2AgAgACABNgIIIAAoAgQgACgCDCIBQQN0IgJNDQEgACACNgIEDAELIAIgACgCBCIFQQN2IgNGIAMgBGogAUlyBEAgAEEANgIMIABBADYCBEEAIQEMAQsgAwRAIAAoAgAiASABIANqIAIgA2sQOxogACAAKAIMIANrIgE2AgwgACAAKAIEIAVBeHFrNgIEBSACIQELCwUgAiEBCyAAKAIAIAFqC40BAQR/IAAoAgRBB2pBA3YiASAAKAIMIgRJBEACQCAAKAIAIQIDQAJAIAFBAWohAyABIAJqLAAARQRAIAIgA2osAABFBEAgAiABQQJqaiwAAEEBRg0CCwsgAyAETw0CIAMhAQwBCwsgACABQQN0QSBqNgIEIAIgAUEDamotAAAPCwsgACAEQQN0NgIEQX8LqQEBBH8gACgCBEEHakEDdiICIAAoAgwiBUkEQAJAIAAoAgAh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aiIGQRBLDQALIAMgCWohAyAIayECIQEMAgsgAyABKAIAIgU6AAAgAyABLAABOgABIAJBbGpBcHEiCEESaiIJIAFqIAJBbmogA0ECaiEEIAJBfmohBiABQQJqIQIgBSEBA0AgBCACKAICIgVBEHQgAUEQdnI2AgAgBCACKAIGIgFBEHQgBUEQdnI2AgQgBCACKAIKIgVBEHQgAUEQdnI2AgggBCACKAIOIgFBEHQgBUEQdnI2AgwgAkEQaiECIARBEGohBCAGQXBqIgZBEUsNAAsgAyAJaiEDIAhrIQIhAQwBCyADIAEoAgAiBToAACACQWxqQXBxIghBEWoiCSABaiACQW9qIANBAWohBCACQX9qIQYgAUEBaiECIAUhAQNAIAQgAigCAyIFQRh0IAFBCHZyNgIAIAQgAigCByIBQRh0IAVBCHZyNgIEIAQgAigCCyIFQRh0IAFBCHZyNgIIIAQgAigCDyIBQRh0IAVBCHZyNgIMIAJBEGohAiAEQRBqIQQgBkFwaiIGQRJLDQALIAMgCWohAyAIayECIQELCyACQRBxBEAgAyABLAAAOgAAIAMgASwAAToAASADIAEsAAI6AAIgAyABLAADOgADIAMgASwABDoABCADIAEsAAU6AAUgAyABLAAGOgAGIAMgASwABzoAByADIAEsAAg6AAggAyABLAAJOgAJIAMgASwACjoACiADIAEsAAs6AAsgAyABLAAMOgAMIAMgASwADToADSADIAEsAA46AA4gAyABLAAPOgAPIANBEGohAyABQRBqIQELIAJBCHEEQCADIAEsAAA6AAAgAyABLAABOgABIAMgASwAAjoAAiADIAEsAAM6AAMgAyABLAAEOgAEIAMgASwABToABSADIAEsAAY6AAYgAyABLAAHOgAHIANBCGohAyABQQhqIQELIAJBBHEEQCADIAEsAAA6AAAgAyABLAABOgABIAMgASwAAjoAAiADIAEsAAM6AAMgA0EEaiEDIAFBBGohAQsgAkECcQRAIAMgASwAADoAACADIAEsAAE6AAEgA0ECaiEDIAFBAmohAQsgAkEBcUUEQCAADwsgAyABLAAAOgAAIAALwAMBBn8gACABRgRAIAAPCyABIAJqIABLIAAgAmoiBSABS3FFBEAgACABIAIQOhogAA8LIAEgACIDc0EDcUUhBCADIAFJBH8g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JCQkJCQkJCQkJCQkJCQkJCQAAAABAhEAAAAAAAAAAAAAAAAAAQIDBAUGEQAAAAAAAAAAAAECAwQFBgcICQoLDA0OEQABAwUGBwgJCgsMDQ4PEBEAAQIEBQYHCAkKCwwNDg8RAAECAwQFBgcICQoLDA0ODwMAAQUFAAEHBwAAAwkAAQoPAAAEHwAABT8AAAZ/AAAH/wAACP8BAAn/AwAK/wcAC/8PAAz/HwAN/z8ADv9/AA///wAQAAAAAAAAAAAAAAAAAAAAAupflgEwikIBCAgMW1tbXltec2l6ZSA+IDAAL2hvbWUvZG9taW5pYy9wcm9qZWN0cy9lbXNkay9mYXN0Y29tcC9lbXNjcmlwdGVuL3N5c3RlbS9saWIvZW1tYWxsb2MuY3BwAGdldEZyZWVMaXN0SW5kZXgATUlOX0ZSRUVMSVNUX0lOREVYIDw9IGluZGV4ICYmIGluZGV4IDwgTUFYX0ZSRUVMSVNUX0lOREVYAGdldEFmdGVyKHJlZ2lvbikgPD0gc2JyaygwKQBlbW1hbGxvY19tYWxsb2MAcmVnaW9uLT5nZXRVc2VkKCkAZ2V0UGF5bG9hZAAoY2hhciopZXh0cmFQdHIgPT0gKGNoYXIqKXB0ciArIHNicmtTaXplAGFsbG9jYXRlUmVnaW9uACFsYXN0UmVnaW9uACFmaXJzdFJlZ2lvbgBmaXJzdFJlZ2lvbgBwdHIgPT0gZ2V0QWZ0ZXIobGFzdFJlZ2lvbikAZXh0ZW5kTGFzdFJlZ2lvbgBhZGRUb0ZyZWVMaXN0AGdldEJpZ0Vub3VnaEZyZWVMaXN0SW5kZXgAcGF5bG9hZFNpemUgPj0gc2l6ZQBwb3NzaWJseVNwbGl0UmVtYWluZGVyAGV4dHJhID49IE1JTl9SRUdJT05fU0laRQB0b3RhbFNwbGl0U2l6ZSA+PSBNSU5fUkVHSU9OX1NJWkUAbWVyZ2VJbnRvRXhpc3RpbmdGcmVlUmVnaW9uAHJlZ2lvbiA9PSBsYXN0UmVnaW9uAGVtbWFsbG9jX3JlYWxsb2M=",T_=function(){function t(t,e,i){var n=this;if(void 0===e&&(e={}),void 0===i&&(i={}),this.options=e,this.hooks=i,this.options.hookOnEstablished=function(){n.hooks.load&&n.hooks.load()},e.source?(this.source=new e.source(t,this.options),e.streaming=!!this.source.streaming):t.match(/^wss?:\/\//)?(this.source=new y_(t,this.options),e.streaming=!0):e.progressive?(this.source=new b_(t,this.options),e.streaming=!1):(this.source=new v_(t,this.options),e.streaming=!1),this.maxAudioLag=e.maxAudioLag||.25,this.loop=!1!==e.loop,this.autoplay=!!e.autoplay||e.streaming,this.demuxer=new w_(e),this.source.connect(this.demuxer),!e.disableWebAssembly&&Q_.IsSupported()&&(this.wasmModule=Q_.GetModule(),e.wasmModule=this.wasmModule),!1!==e.video&&(this.video=e.wasmModule?new E_(e):new I_(e),this.renderer=!e.disableGl&&k_.IsSupported()?new k_(e):new S_(e),this.demuxer.connect(w_.STREAM.VIDEO_1,this.video),this.video.connect(this.renderer)),!1!==e.audio&&D_.IsSupported()&&(this.audio=e.wasmModule?new B_(e):new x_(e),this.audioOut=new D_(e),this.demuxer.connect(w_.STREAM.AUDIO_1,this.audio),this.audio.connect(this.audioOut)),Object.defineProperty(this,"currentTime",{get:this.getCurrentTime,set:this.setCurrentTime}),Object.defineProperty(this,"volume",{get:this.getVolume,set:this.setVolume}),this.paused=!0,this.unpauseOnShow=!1,!1!==e.pauseWhenHidden&&document.addEventListener("visibilitychange",this.showHide.bind(this)),this.wasmModule)if(this.wasmModule.ready)this.startLoading();else{var o=f_(M_);this.wasmModule.loadFromBuffer(o,this.startLoading.bind(this))}else this.startLoading()}var e=t.prototype;return e.startLoading=function(){this.source.start(),this.autoplay&&this.play()},e.showHide=function(){"hidden"===document.visibilityState?(this.unpauseOnShow=this.wantsToPlay,this.pause()):this.unpauseOnShow&&this.play()},e.play=function(){this.animationId||(this.animationId=requestAnimationFrame(this.update.bind(this)),this.wantsToPlay=!0,this.paused=!1)},e.pause=function(){this.paused||(cancelAnimationFrame(this.animationId),this.animationId=null,this.wantsToPlay=!1,this.isPlaying=!1,this.paused=!0,this.audio&&this.audio.canPlay&&(this.audioOut.stop(),this.seek(this.currentTime)),this.hooks.pause&&this.hooks.pause(),this.options.onPause&&this.options.onPause(this))},e.getVolume=function(){return this.audioOut?this.audioOut.volume:0},e.setVolume=function(t){this.audioOut&&(this.audioOut.volume=t)},e.stop=function(){this.pause(),this.seek(0),this.video&&!1!==this.options.decodeFirstFrame&&this.video.decode(),this.hooks.stop&&this.hooks.stop()},e.destroy=function(){this.pause(),this.source.destroy(),this.video&&this.video.destroy(),this.renderer&&this.renderer.destroy(),this.audio&&this.audio.destroy(),this.audioOut&&this.audioOut.destroy()},e.seek=function(t){var e=this.audio&&this.audio.canPlay?this.audio.startTime:this.video.startTime;this.video&&this.video.seek(t+e),this.audio&&this.audio.seek(t+e),this.startTime=m_()-t},e.getCurrentTime=function(){return this.audio&&this.audio.canPlay?this.audio.currentTime-this.audio.startTime:this.video.currentTime-this.video.startTime},e.setCurrentTime=function(t){this.seek(t)},e.update=function(){this.animationId=requestAnimationFrame(this.update.bind(this)),this.source.established?(this.isPlaying||(this.isPlaying=!0,this.startTime=m_()-this.currentTime,this.hooks.play&&this.hooks.play(),this.options.onPlay&&this.options.onPlay(this)),this.options.streaming?this.updateForStreaming():this.updateForStaticFile()):this.renderer&&this.renderer.renderProgress(this.source.progress)},e.nextFrame=function(){return!(!this.source.established||!this.video)&&this.video.decode()},e.updateForStreaming=function(){if(this.video&&this.video.decode(),this.audio){var t=!1;do{this.audioOut.enqueuedTime>this.maxAudioLag&&(this.audioOut.resetEnqueuedTime(),this.audioOut.enabled=!1),t=this.audio.decode()}while(t);this.audioOut.enabled=!0}},e.updateForStaticFile=function(){var t=!1,e=0;if(this.audio&&this.audio.canPlay){for(;!t&&this.audio.decodedTime-this.audio.currentTime<.25;)t=!this.audio.decode();this.video&&this.video.currentTime<this.audio.currentTime&&(t=!this.video.decode()),e=this.demuxer.currentTime-this.audio.currentTime}else if(this.video){var i=m_()-this.startTime+this.video.startTime,n=i-this.video.currentTime,o=1/this.video.frameRate;this.video&&n>0&&(n>2*o&&(this.startTime+=n),t=!this.video.decode()),e=this.demuxer.currentTime-i}this.source.resume(e),t&&this.source.completed?this.loop?this.seek(0):(this.stop(),this.options.onEnded&&this.options.onEnded(this)):t&&this.options.onStalled&&this.options.onStalled(this)},t}(),O_=function(){function t(t,e){this.url=t,this.destination=null,this.request=null,this.streaming=!0,this.completed=!1,this.established=!1,this.progress=0,this.aborted=!1,this.onEstablishedCallback=e.onSourceEstablished,this.onCompletedCallback=e.onSourceCompleted,e.hookOnEstablished&&(this.hookOnEstablished=e.hookOnEstablished)}var e=t.prototype;return e.connect=function(t){this.destination=t},e.start=function(){var t=this,e={method:"GET",headers:new Headers,cache:"default"};self.fetch(this.url,e).then((function(e){if(e.ok&&e.status>=200&&e.status<=299)return t.progress=1,t.established=!0,t.pump(e.body.getReader())})).catch((function(t){throw t}))},e.pump=function(t){var e=this;return t.read().then((function(i){if(!i.done)return e.aborted?t.cancel():(e.destination&&e.destination.write(i.value.buffer),e.pump(t));e.completed=!0})).catch((function(t){throw t}))},e.resume=function(){},e.abort=function(){this.aborted=!0},t}(),R_={Player:T_,VideoElement:p_,BitBuffer:__,Source:{Ajax:v_,AjaxProgressive:b_,WebSocket:y_,Fetch:O_},Demuxer:{TS:w_},Decoder:{Base:C_,MPEG1Video:I_,MPEG1VideoWASM:E_,MP2Audio:x_,MP2AudioWASM:B_},Renderer:{WebGL:k_,Canvas2D:S_},AudioOutput:{WebAudio:D_},WASMModule:Q_,Now:m_,CreateVideoElements:function(){for(var t=document.querySelectorAll(".jsmpeg"),e=0;e<t.length;e++)new p_(t[e])},Fill:g_,Base64ToArrayBuffer:f_,WASM_BINARY_INLINED:M_},P_=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}}),N_=P_.exports=function(){function t(t){return"number"==typeof t}function e(t){return"[object Object]"===Object.prototype.toString.call(t)}function i(t){return e(t)||function(t){return Array.isArray(t)}(t)}function n(t){return Math.abs(t)}function o(t){return t?t/n(t):0}function r(t,e){return n(t-e)}function s(t){return d(t).map(Number)}function a(t){return t[l(t)]}function l(t){return Math.max(0,t.length-1)}function d(t){return Object.keys(t)}function c(t,i){return[t,i].reduce((function(t,i){return d(i).forEach((function(n){var o=t[n],r=i[n],s=e(o)&&e(r);t[n]=s?c(o,r):r})),t}),{})}function h(t,e){var n=d(t),o=d(e);return n.length===o.length&&n.every((function(n){var o=t[n],r=e[n];return"function"==typeof o?"".concat(o)==="".concat(r):i(o)&&i(r)?h(o,r):o===r}))}function u(e,i){var n={start:function(){return 0},center:function(t){return o(t)/2},end:o};function o(t){return i-t}return{measure:function(o){return t(e)?i*Number(e):n[e](o)}}}function A(t,e){var i=n(t-e);function o(e){return e<t}function r(t){return t>e}function s(t){return o(t)||r(t)}return{length:i,max:e,min:t,constrain:function(i){return s(i)?o(i)?t:e:i},reachedAny:s,reachedMax:r,reachedMin:o,removeOffset:function(t){return i?t-i*Math.ceil((t-e)/i):t}}}function p(t,e,i){var o=A(0,t),r=o.min,s=o.constrain,a=t+1,l=d(e);function d(t){return i?n((a+t)%a):s(t)}function c(){return l}function h(t){return l=d(t),u}var u={add:function(t){return h(c()+t)},clone:function(){return p(t,c(),i)},get:c,set:h,min:r,max:t};return u}function m(){var t=[],e={add:function(i,n,o,r){return void 0===r&&(r=!1),i.addEventListener(n,o,r),t.push((function(){return i.removeEventListener(n,o,r)})),e},removeAll:function(){return t=t.filter((function(t){return t()})),e}};return e}function g(e){var i=e;function n(t){return i/=t,r}function o(e){return t(e)?e:e.get()}var r={add:function(t){return i+=o(t),r},divide:n,get:function(){return i},multiply:function(t){return i*=t,r},normalize:function(){return 0!==i&&n(i),r},set:function(t){return i=o(t),r},subtract:function(t){return i-=o(t),r}};return r}function f(t,e,i,s,a,l,d,c,h,u,A,p,f,v,b,y){var _=t.cross,w=["INPUT","SELECT","TEXTAREA"],C=g(0),I=m(),E=m(),x=f.measure(20),B={mouse:300,touch:400},k={mouse:500,touch:600},S=b?5:16,D=0,Q=0,M=!1,T=!1,O=!1,R=!1;function P(t){if(!(R="mousedown"===t.type)||0===t.button){var e,n=r(s.get(),l.get())>=2,o=R||!n,d=(e=t.target.nodeName||"",!(w.indexOf(e)>-1)),c=n||R&&d;M=!0,a.pointerDown(t),C.set(s),s.set(l),h.useBaseMass().useSpeed(80),function(){var t=R?document:i;E.add(t,"touchmove",N).add(t,"touchend",F).add(t,"mousemove",N).add(t,"mouseup",F)}(),D=a.readPoint(t),Q=a.readPoint(t,_),p.emit("pointerDown"),o&&(O=!1),c&&t.preventDefault()}}function N(t){if(!T&&!R){if(!t.cancelable)return F(t);var i=a.readPoint(t),n=a.readPoint(t,_),o=r(i,D),l=r(n,Q);if(!(T=o>l)&&!O)return F(t)}var c=a.pointerMove(t);!O&&c&&(O=!0),d.start(),s.add(e.apply(c)),t.preventDefault()}function F(t){var i=u.byDistance(0,!1).index!==A.get(),l=a.pointerUp(t)*(b?k:B)[R?"mouse":"touch"],d=function(t,e){var i=A.clone().add(-1*o(t)),r=i.get()===A.min||i.get()===A.max,s=u.byDistance(t,!b).distance;return b||n(t)<x?s:!v&&r?.4*s:y&&e?.5*s:u.byIndex(i.get(),0).distance}(e.apply(l),i),m=function(t,e){if(0===t||0===e)return 0;if(n(t)<=n(e))return 0;var i=r(n(t),n(e));return n(i/t)}(l,d),g=r(s.get(),C.get())>=.5,f=i&&m>.75,_=n(l)<x,w=f?10:S,I=f?1+2.5*m:1;g&&!R&&(O=!0),T=!1,M=!1,E.removeAll(),h.useSpeed(_?9:w).useMass(I),c.distance(d,!b),R=!1,p.emit("pointerUp")}function L(t){O&&t.preventDefault()}return{addActivationEvents:function(){var t=i;I.add(t,"touchmove",(function(){})).add(t,"touchend",(function(){})).add(t,"touchstart",P).add(t,"mousedown",P).add(t,"touchcancel",F).add(t,"contextmenu",F).add(t,"click",L)},clickAllowed:function(){return!O},pointerDown:function(){return M},removeAllEvents:function(){I.removeAll(),E.removeAll()}}}function v(t,e,i){var n,r,s=(n=2,r=Math.pow(10,n),function(t){return Math.round(t*r)/r}),a=g(0),l=g(0),d=g(0),c=0,h=e,u=i;function A(t){return h=t,m}function p(t){return u=t,m}var m={direction:function(){return c},seek:function(e){d.set(e).subtract(t);var i,n,r,s=(n=0)+(d.get()-(i=0))/(100-i)*(h-n);return c=o(d.get()),d.normalize().multiply(s).subtract(a),(r=d).divide(u),l.add(r),m},settle:function(e){var i=e.get()-t.get(),n=!s(i);return n&&t.set(e),n},update:function(){a.add(l),t.add(a),l.multiply(0)},useBaseMass:function(){return p(i)},useBaseSpeed:function(){return A(e)},useMass:p,useSpeed:A};return m}function b(t,e,i,o,r){var s=r.measure(10),a=r.measure(50),l=!1;return{constrain:function(r){if(!l&&t.reachedAny(i.get())&&t.reachedAny(e.get())){var d=t.reachedMin(e.get())?"min":"max",c=n(t[d]-e.get()),h=i.get()-e.get(),u=Math.min(c/a,.85);i.subtract(h*u),!r&&n(h)<s&&(i.set(t.constrain(i.get())),o.useSpeed(10).useMass(3))}},toggleActive:function(t){l=!t}}}function y(t,e,i,n){var o=A(-e+t,i[0]),r=i.map(o.constrain);return{snapsContained:function(){if(e<=t)return[o.max];if("keepSnaps"===n)return r;var i=function(){var t=r[0],e=a(r);return A(r.lastIndexOf(t),r.indexOf(e)+1)}(),s=i.min,l=i.max;return r.slice(s,l)}()}}function _(t,e,i,n){var o=A(e.min+.1,e.max+.1),r=o.reachedMin,s=o.reachedMax;return{loop:function(e){if(function(t){return 1===t?s(i.get()):-1===t&&r(i.get())}(e)){var o=t*(-1*e);n.forEach((function(t){return t.add(o)}))}}}}function w(t){var e=t.max,i=t.length;return{get:function(t){return(t-e)/-i}}}function C(t,e,i,r,s){var a=r.reachedAny,l=r.removeOffset,d=r.constrain;function c(t){return t.concat().sort((function(t,e){return n(t)-n(e)}))[0]}function h(e,n){var r=[e,e+i,e-i];return t?c(n?r.filter((function(t){return o(t)===n})):r):r[0]}return{byDistance:function(i,o){var r=s.get()+i,c=function(i){var o=t?l(i):d(i);return{index:e.map((function(t){return t-o})).map((function(t){return h(t,0)})).map((function(t,e){return{diff:t,index:e}})).sort((function(t,e){return n(t.diff)-n(e.diff)}))[0].index,distance:o}}(r),u=c.index,A=c.distance,p=!t&&a(r);return!o||p?{index:u,distance:i}:{index:u,distance:i+h(e[u]-A,0)}},byIndex:function(t,i){return{index:t,distance:h(e[t]-s.get(),i)}},shortcut:h}}function I(t,e,i){var n="x"===t.scroll?function(t){return"translate3d(".concat(t,"px,0px,0px)")}:function(t){return"translate3d(0px,".concat(t,"px,0px)")},o=i.style,r=!1;return{clear:function(){r||(o.transform="",i.getAttribute("style")||i.removeAttribute("style"))},to:function(t){r||(o.transform=n(e.apply(t.get())))},toggleActive:function(t){r=!t}}}function E(t,e,i,n,o,r,a,l,d){var c,h=s(o),u=s(o).reverse(),A=(c=r[0]-1,f(m(u,c),"end")).concat(function(){var t=i-r[0]-1;return f(m(h,t),"start")}());function p(t,e){return t.reduce((function(t,e){return t-o[e]}),e)}function m(t,e){return t.reduce((function(t,i){return p(t,e)>0?t.concat([i]):t}),[])}function f(i,o){var r="start"===o,s=r?-n:n,c=a.findSlideBounds([s]);return i.map((function(i){var o=r?0:-n,s=r?n:0,a=c.filter((function(t){return t.index===i}))[0][r?"end":"start"],h=g(-1),u=g(-1),A=I(t,e,d[i]);return{index:i,location:u,translate:A,target:function(){return h.set(l.get()>a?o:s)}}}))}return{canLoop:function(){return A.every((function(t){var e=t.index;return p(h.filter((function(t){return t!==e})),i)<=.1}))},clear:function(){A.forEach((function(t){return t.translate.clear()}))},loop:function(){A.forEach((function(t){var e=t.target,i=t.translate,n=t.location,o=e();o.get()!==n.get()&&(0===o.get()?i.clear():i.to(o),n.set(o))}))},loopPoints:A}}function x(t,e,i,n,o,r,s){var a=o.removeOffset,l=o.constrain,d=r?[0,e,-e]:[0],c=h(d,s);function h(e,o){var r=e||d,s=function(t){var e=t||0;return i.map((function(t){return A(.5,t-.5).constrain(t*e)}))}(o);return r.reduce((function(e,o){var r=n.map((function(e,n){return{start:e-i[n]+s[n]+o,end:e+t-s[n]+o,index:n}}));return e.concat(r)}),[])}return{check:function(t,e){var i=r?a(t):l(t);return(e||c).reduce((function(t,e){var n=e.index,o=e.start,r=e.end;return-1===t.indexOf(n)&&o<i&&r>i?t.concat([n]):t}),[])},findSlideBounds:h}}function B(e,i,n){var o=t(n);return{groupSlides:function(t){return o?function(t,e){return s(t).filter((function(t){return t%e==0})).map((function(i){return t.slice(i,i+e)}))}(t,n):function(t){return s(t).reduce((function(t,n){var o=i.slice(a(t),n+1).reduce((function(t,e){return t+e}),0);return!n||o>e?t.concat(n):t}),[]).map((function(e,i,n){return t.slice(e,n[i+1])}))}(t)}}}function k(t,e,i,o,r){var d=o.align,c=o.axis,h=o.direction,k=o.startIndex,S=o.inViewThreshold,D=o.loop,Q=o.speed,M=o.dragFree,T=o.slidesToScroll,O=o.skipSnaps,R=o.containScroll,P=e.getBoundingClientRect(),N=i.map((function(t){return t.getBoundingClientRect()})),F=function(t){var e="rtl"===t?-1:1;return{apply:function(t){return t*e}}}(h),L=function(t,e){var i="y"===t?"y":"x";return{scroll:i,cross:"y"===t?"x":"y",startEdge:"y"===i?"top":"rtl"===e?"right":"left",endEdge:"y"===i?"bottom":"rtl"===e?"left":"right",measureSize:function(t){var e=t.width,n=t.height;return"x"===i?e:n}}}(c,h),j=L.measureSize(P),z=function(t){return{measure:function(e){return t*(e/100)}}}(j),U=u(d,j),H=!D&&""!==R,G=function(t,e,i,o,r){var s=t.measureSize,d=t.startEdge,c=t.endEdge,h=function(){if(!r)return 0;var t=i[0];return n(e[d]-t[d])}(),u=function(){if(!r)return 0;var t=window.getComputedStyle(a(o));return parseFloat(t.getPropertyValue("margin-".concat(c)))}(),A=i.map(s),p=i.map((function(t,e,i){var n=!e,o=e===l(i);return n?A[e]+h:o?A[e]+u:i[e+1][d]-t[d]})).map(n);return{slideSizes:A,slideSizesWithGaps:p}}(L,P,N,i,D||""!==R),q=G.slideSizes,Y=G.slideSizesWithGaps,$=B(j,Y,T),W=function(t,e,i,o,r,s,d){var c,h=t.startEdge,u=t.endEdge,A=s.groupSlides,p=A(o).map((function(t){return a(t)[u]-t[0][h]})).map(n).map(e.measure),m=o.map((function(t){return i[h]-t[h]})).map((function(t){return-n(t)})),g=(c=a(m)-a(r),A(m).map((function(t){return t[0]})).map((function(t,e,i){var n=!e,o=e===l(i);return d&&n?0:d&&o?c:t+p[e]})));return{snaps:m,snapsAligned:g}}(L,U,P,N,Y,$,H),V=W.snaps,J=W.snapsAligned,K=-a(V)+a(Y),Z=y(j,K,J,R).snapsContained,X=H?Z:J,tt=function(t,e,i){var n,o;return{limit:(n=e[0],o=a(e),A(i?n-t:o,n))}}(K,X,D).limit,et=p(l(X),k,D),it=et.clone(),nt=s(i),ot=function(t){var e=0;function i(t,i){return function(){t===!!e&&i()}}function n(){e=window.requestAnimationFrame(t)}return{proceed:i(!0,n),start:i(!1,n),stop:i(!0,(function(){window.cancelAnimationFrame(e),e=0}))}}((function(){D||At.scrollBounds.constrain(At.dragHandler.pointerDown()),At.scrollBody.seek(at).update();var t=At.scrollBody.settle(at);t&&!At.dragHandler.pointerDown()&&(At.animation.stop(),r.emit("settle")),t||r.emit("scroll"),D&&(At.scrollLooper.loop(At.scrollBody.direction()),At.slideLooper.loop()),At.translate.to(st),At.animation.proceed()})),rt=X[et.get()],st=g(rt),at=g(rt),lt=v(st,Q,1),dt=C(D,X,K,tt,at),ct=function(t,e,i,n,o,r){function s(n){var s=n.distance,a=n.index!==e.get();s&&(t.start(),o.add(s)),a&&(i.set(e.get()),e.set(n.index),r.emit("select"))}return{distance:function(t,e){s(n.byDistance(t,e))},index:function(t,i){var o=e.clone().set(t);s(n.byIndex(o.get(),i))}}}(ot,et,it,dt,at,r),ht=x(j,K,q,V,tt,D,S),ut=f(L,F,t,at,function(t){var e,i;function o(t){return"undefined"!=typeof TouchEvent&&t instanceof TouchEvent}function r(t){return t.timeStamp}function s(e,i){var n=i||t.scroll,r="client".concat("x"===n?"X":"Y");return(o(e)?e.touches[0]:e)[r]}return{isTouchEvent:o,pointerDown:function(t){return e=t,i=t,s(t)},pointerMove:function(t){var n=s(t)-s(i),o=r(t)-r(e)>170;return i=t,o&&(e=t),n},pointerUp:function(t){if(!e||!i)return 0;var o=s(i)-s(e),a=r(t)-r(e),l=r(t)-r(i)>170,d=o/a;return a&&!l&&n(d)>.1?d:0},readPoint:s}}(L),st,ot,ct,lt,dt,et,r,z,D,M,O),At={containerRect:P,slideRects:N,animation:ot,axis:L,direction:F,dragHandler:ut,eventStore:m(),percentOfView:z,index:et,indexPrevious:it,limit:tt,location:st,options:o,scrollBody:lt,scrollBounds:b(tt,st,at,lt,z),scrollLooper:_(K,tt,st,[st,at]),scrollProgress:w(tt),scrollSnaps:X,scrollTarget:dt,scrollTo:ct,slideLooper:E(L,F,j,K,Y,X,ht,st,i),slidesToScroll:$,slidesInView:ht,slideIndexes:nt,target:at,translate:I(L,F,e)};return At}var S={align:"center",axis:"x",containScroll:"",direction:"ltr",slidesToScroll:1,breakpoints:{},dragFree:!1,draggable:!0,inViewThreshold:0,loop:!1,skipSnaps:!1,speed:10,startIndex:0,active:!0};function D(){function t(t,e){return c(t,e||{})}return{merge:t,areEqual:function(t,e){return JSON.stringify(d(t.breakpoints||{}))===JSON.stringify(d(e.breakpoints||{}))&&h(t,e)},atMedia:function(e){var i=e.breakpoints||{},n=d(i).filter((function(t){return window.matchMedia(t).matches})).map((function(t){return i[t]})).reduce((function(e,i){return t(e,i)}),{});return t(e,n)}}}function Q(t,e,i){var n,o,r,s,a,l=m(),d=D(),c=function(){var t=D(),e=t.atMedia,i=t.areEqual,n=[],o=[];function r(t){var n=e(t.options);return function(){return!i(n,e(t.options))}}var s={init:function(t,i){return o=t.map(r),(n=t.filter((function(t){return e(t.options).active}))).forEach((function(t){return t.init(i)})),t.reduce((function(t,e){var i;return Object.assign(t,((i={})[e.name]=e,i))}),{})},destroy:function(){n=n.filter((function(t){return t.destroy()}))},haveChanged:function(){return o.some((function(t){return t()}))}};return s}(),h=function(){var t={};function e(e){return t[e]||[]}var i={emit:function(t){return e(t).forEach((function(e){return e(t)})),i},off:function(n,o){return t[n]=e(n).filter((function(t){return t!==o})),i},on:function(n,o){return t[n]=e(n).concat([o]),i}};return i}(),u=h.on,A=h.off,p=w,g=!1,f=d.merge(S,Q.globalOptions),v=d.merge(f),b=[],y=0;function _(e,i){if(!g){var l,u;if(l="container"in t&&t.container,u="slides"in t&&t.slides,r="root"in t?t.root:t,s=l||r.children[0],a=u||[].slice.call(s.children),f=d.merge(f,e),v=d.atMedia(f),n=k(r,s,a,v,h),y=n.axis.measureSize(r.getBoundingClientRect()),!v.active)return C();if(n.translate.to(n.location),b=i||b,o=c.init(b,B),v.loop){if(!n.slideLooper.canLoop())return C(),_({loop:!1},i);n.slideLooper.loop()}v.draggable&&s.offsetParent&&a.length&&n.dragHandler.addActivationEvents()}}function w(t,e){var i=x();C(),_(d.merge({startIndex:i},t),e),h.emit("reInit")}function C(){n.dragHandler.removeAllEvents(),n.animation.stop(),n.eventStore.removeAll(),n.translate.clear(),n.slideLooper.clear(),c.destroy()}function I(t){var e=n[t?"target":"location"].get(),i=v.loop?"removeOffset":"constrain";return n.slidesInView.check(n.limit[i](e))}function E(t,e,i){v.active&&!g&&(n.scrollBody.useBaseMass().useSpeed(e?100:v.speed),n.scrollTo.index(t,i||0))}function x(){return n.index.get()}var B={canScrollNext:function(){return n.index.clone().add(1).get()!==x()},canScrollPrev:function(){return n.index.clone().add(-1).get()!==x()},clickAllowed:function(){return n.dragHandler.clickAllowed()},containerNode:function(){return s},internalEngine:function(){return n},destroy:function(){g||(g=!0,l.removeAll(),C(),h.emit("destroy"))},off:A,on:u,plugins:function(){return o},previousScrollSnap:function(){return n.indexPrevious.get()},reInit:p,rootNode:function(){return r},scrollNext:function(t){E(n.index.clone().add(1).get(),!0===t,-1)},scrollPrev:function(t){E(n.index.clone().add(-1).get(),!0===t,1)},scrollProgress:function(){return n.scrollProgress.get(n.location.get())},scrollSnapList:function(){return n.scrollSnaps.map(n.scrollProgress.get)},scrollTo:E,selectedScrollSnap:x,slideNodes:function(){return a},slidesInView:I,slidesNotInView:function(t){var e=I(t);return n.slideIndexes.filter((function(t){return-1===e.indexOf(t)}))}};return _(e,i),l.add(window,"resize",(function(){var t=d.atMedia(f),e=!d.areEqual(t,v),i=n.axis.measureSize(r.getBoundingClientRect()),o=y!==i,s=c.haveChanged();(o||e||s)&&w(),h.emit("resize")})),setTimeout((function(){return h.emit("init")}),0),B}return Q.globalOptions=void 0,Q.optionsHandler=D,Q}();function F_(){return F_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},F_.apply(this,arguments)}function L_(t,e){if(t.length!==e.length)throw new Error("vectors must be same length");return t.map((function(t,i){return t+e[i]}))}function j_(t){return Math.max.apply(Math,t.map(Math.abs))}function z_(t){return Object.freeze(t),Object.values(t).forEach((function(t){null===t||"object"!=typeof t||Object.isFrozen(t)||z_(t)})),t}var U_=[1,18,"undefined"!=typeof window&&window.innerHeight||800];var H_=[-1,-1,-1];var G_=function(t){return F_({},t,{axisDelta:t.axisDelta.map((function(t){return function(t,e,i){return Math.min(Math.max(e,t),i)}(t,-700,700)}))})},q_=z_({preventWheelAction:!0,reverseSign:[!0,!0,!1]});function Y_(t){void 0===t&&(t={});var e,i,n,o=function(){var t={};function e(e,i){t[e]=(t[e]||[]).filter((function(t){return t!==i}))}return z_({on:function(i,n){return t[i]=(t[i]||[]).concat(n),function(){return e(i,n)}},off:e,dispatch:function(e,i){e in t&&t[e].forEach((function(t){return t(i)}))}})}(),r=o.on,s=o.off,a=o.dispatch,l=q_,d={isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:400},c=!1,h=function(t){Array.isArray(t)?t.forEach((function(t){return p(t)})):p(t)},u=function(t){return void 0===t&&(t={}),Object.values(t).some((function(t){return null==t}))?l:l=z_(F_({},q_,l,t))},A=function(t){var n=F_({event:e,isStart:!1,isEnding:!1,isMomentumCancel:!1,isMomentum:d.isMomentum,axisDelta:[0,0,0],axisVelocity:d.axisVelocity,axisMovement:d.axisMovement,get axisMovementProjection(){return L_(n.axisMovement,n.axisVelocity.map((function(t){return void 0===e&&(e=.996),t*e/(1-e);var e})))}},t);a("wheel",F_({},n,{previous:i})),i=n},p=function(t){var i=G_(function(t,e){if(!e)return t;var i=!0===e?H_:e.map((function(t){return t?-1:1}));return F_({},t,{axisDelta:t.axisDelta.map((function(t,e){return t*i[e]}))})}(function(t){var e=t.deltaX*U_[t.deltaMode],i=t.deltaY*U_[t.deltaMode],n=(t.deltaZ||0)*U_[t.deltaMode];return{timeStamp:t.timeStamp,axisDelta:[e,i,n]}}(t),l.reverseSign)),n=i.axisDelta,o=i.timeStamp,r=j_(n);t.preventDefault&&function(t,e){var i=l.preventWheelAction,n=e[0],o=e[1],r=e[2];if("boolean"==typeof i)return i;switch(i){case"x":return Math.abs(n)>=t;case"y":return Math.abs(o)>=t;case"z":return Math.abs(r)>=t;default:return!1}}(r,n)&&t.preventDefault(),d.isStarted?d.isMomentum&&r>Math.max(2,2*d.lastAbsDelta)&&(I(!0),w()):w(),0===r&&Object.is&&Object.is(t.deltaX,-0)?c=!0:(e=t,d.axisMovement=L_(d.axisMovement,n),d.lastAbsDelta=r,d.scrollPointsToMerge.push({axisDelta:n,timeStamp:o}),m(),A({axisDelta:n,isStart:!d.isStartPublished}),d.isStartPublished=!0,C())},m=function(){var t;2===d.scrollPointsToMerge.length?(d.scrollPoints.unshift({axisDeltaSum:d.scrollPointsToMerge.map((function(t){return t.axisDelta})).reduce(L_),timeStamp:(t=d.scrollPointsToMerge.map((function(t){return t.timeStamp})),t.reduce((function(t,e){return t+e}))/t.length)}),f(),d.scrollPointsToMerge.length=0,d.scrollPoints.length=1,d.isMomentum||y()):d.isStartPublished||g()},g=function(){d.axisVelocity=function(t){return t[t.length-1]}(d.scrollPointsToMerge).axisDelta.map((function(t){return t/d.willEndTimeout}))},f=function(){var t=d.scrollPoints,e=t[0],i=t[1];if(i&&e){var n=e.timeStamp-i.timeStamp;if(!(n<=0)){var o=e.axisDeltaSum.map((function(t){return t/n})),r=o.map((function(t,e){return t/(d.axisVelocity[e]||1)}));d.axisVelocity=o,d.accelerationFactors.push(r),v(n)}}},v=function(t){var e=10*Math.ceil(t/10)*1.2;d.isMomentum||(e=Math.max(100,2*e)),d.willEndTimeout=Math.min(1e3,Math.round(e))},b=function(t){return 0===t||t<=.96&&t>=.6},y=function(){if(d.accelerationFactors.length>=5){if(c&&(c=!1,j_(d.axisVelocity)>=.2))return void _();var t=d.accelerationFactors.slice(-5);t.every((function(t){var e=!!t.reduce((function(t,e){return t&&t<1&&t===e?1:0})),i=t.filter(b).length===t.length;return e||i}))&&_(),d.accelerationFactors=t}},_=function(){d.isMomentum=!0},w=function(){(d={isStarted:!1,isStartPublished:!1,isMomentum:!1,startTime:0,lastAbsDelta:1/0,axisMovement:[0,0,0],axisVelocity:[0,0,0],accelerationFactors:[],scrollPoints:[],scrollPointsToMerge:[],willEndTimeout:400}).isStarted=!0,d.startTime=Date.now(),i=void 0,c=!1},C=function(){clearTimeout(n),n=setTimeout(I,d.willEndTimeout)},I=function(t){void 0===t&&(t=!1),d.isStarted&&(d.isMomentum&&t?A({isEnding:!0,isMomentumCancel:!0}):A({isEnding:!0}),d.isMomentum=!1,d.isStarted=!1)},E=function(t){var e=[],i=function(i){i.removeEventListener("wheel",t),e=e.filter((function(t){return t!==i}))};return z_({observe:function(n){return n.addEventListener("wheel",t,{passive:!1}),e.push(n),function(){return i(n)}},unobserve:i,disconnect:function(){e.forEach(i)}})}(h),x=E.observe,B=E.unobserve,k=E.disconnect;return u(t),z_({on:r,off:s,observe:x,unobserve:B,disconnect:k,feedWheel:h,updateOptions:u})}var $_={active:!0,breakpoints:{},wheelDraggingClass:"is-wheel-dragging",forceWheelAxis:void 0,target:void 0};function W_(t){var e,i=N_.optionsHandler(),n=i.merge($_,W_.globalOptions),o=function(){};var r={name:"wheelGestures",options:i.merge(n,t),init:function(t){var n,s;e=i.atMedia(r.options);var a,l=t.internalEngine(),d=null!=(n=e.target)?n:t.containerNode().parentNode,c=null!=(s=e.forceWheelAxis)?s:l.options.axis,h=Y_({preventWheelAction:c,reverseSign:[!0,!0,!1]}),u=h.observe(d),A=h.on("wheel",(function(t){var i=t.axisDelta,n=i[0],r=i[1],s="x"===c?n:r,l="x"===c?r:n,h=t.isMomentum&&t.previous&&!t.previous.isMomentum,u=t.isEnding&&!t.isMomentum||h;Math.abs(s)>Math.abs(l)&&!p&&!t.isMomentum&&function(t){try{v(a=new MouseEvent("mousedown",t.event))}catch(t){return o()}p=!0,document.documentElement.addEventListener("mousemove",g,!0),document.documentElement.addEventListener("mouseup",g,!0),void document.documentElement.addEventListener("mousedown",g,!0),e.wheelDraggingClass&&d.classList.add(e.wheelDraggingClass)}(t);if(!p)return;u?function(t){p=!1,v(f("mouseup",t)),m(),e.wheelDraggingClass&&d.classList.remove(e.wheelDraggingClass)}(t):v(f("mousemove",t))})),p=!1;function m(){document.documentElement.removeEventListener("mousemove",g,!0),document.documentElement.removeEventListener("mouseup",g,!0),document.documentElement.removeEventListener("mousedown",g,!0)}function g(t){p&&t.isTrusted&&t.stopImmediatePropagation()}function f(t,e){var i,n;if(c===l.options.axis){var o=e.axisMovement;i=o[0],n=o[1]}else{var r=e.axisMovement;n=r[0],i=r[1]}return new MouseEvent(t,{clientX:a.clientX+i,clientY:a.clientY+n,screenX:a.screenX+i,screenY:a.screenY+n,movementX:i,movementY:n,button:0,bubbles:!0,cancelable:!0,composed:!0})}function v(e){t.containerNode().dispatchEvent(e)}o=function(){u(),A(),m()}},destroy:function(){return o()}};return r}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */W_.globalOptions=void 0;const V_={},J_=kt(class extends St{constructor(){super(...arguments),this.ot=V_}render(t,e){return e()}update(t,[e,i]){if(Array.isArray(e)){if(Array.isArray(this.ot)&&this.ot.length===e.length&&e.every(((t,e)=>t===this.ot[e])))return Z}else if(this.ot===e)return Z;return this.ot=Array.isArray(e)?Array.from(e):e,this.render(e,i)}}),K_=kt(class extends St{constructor(){super(...arguments),this.key=X}render(t,e){return this.key=t,e}update(t,[e,i]){return e!==this.key&&(Tt(t),this.key=e),i}});
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Z_{constructor(t){var e,i,n,o;this.view=t.view,this.camera=t.camera,this.target=null!==(e=t.target)&&void 0!==e?e:null,this.childIndex=null!==(i=t.childIndex)&&void 0!==i?i:null,this.previous=null!==(n=t.previous)&&void 0!==n?n:null,this.context=null!==(o=t.context)&&void 0!==o?o:null}static selectBestViewForNonFrigateCameras(t){return["timeline","image"].includes(t)?t:"live"}static selectBestViewForUserSpecified(t){return up.includes(t)?t:"live"}static isMediaChange(t,e){return!t||!e||t.view!==e.view||t.camera!==e.camera||"live"!==e.view&&(t.target!==e.target||t.childIndex!==e.childIndex)}clone(){return new Z_({view:this.view,camera:this.camera,target:this.target,childIndex:this.childIndex,previous:this.previous,context:this.context})}evolve(t){return new Z_({view:void 0!==t.view?t.view:this.view,camera:void 0!==t.camera?t.camera:this.camera,target:void 0!==t.target?t.target:this.target,childIndex:void 0!==t.childIndex?t.childIndex:this.childIndex,context:void 0!==t.context?t.context:this.context,previous:void 0!==t.previous?t.previous:this})}mergeInContext(t){return this.context=Object.assign(Object.assign({},this.context),t),this}removeContext(t){return this.context&&delete this.context[t],this}is(t){return this.view==t}isGalleryView(){return"clips"==this.view||"snapshots"==this.view}isAnyMediaView(){return this.isViewerView()||this.is("live")||this.is("image")}isViewerView(){return["clip","snapshot","media"].includes(this.view)}isClipRelatedView(){return["clip","clips"].includes(this.view)}isSnapshotRelatedView(){return["snapshot","snapshots"].includes(this.view)}getMediaType(){return this.isClipRelatedView()?"clips":this.isSnapshotRelatedView()?"snapshots":null}get media(){var t;return this.target&&this.target.children&&null!==this.childIndex&&null!==(t=this.target.children[this.childIndex])&&void 0!==t?t:null}dispatchChangeEvent(t){Dg(t,"view:change",this)}}const X_={active:!0,breakpoints:{}};function tw(t){const e=N_.optionsHandler(),i=e.merge(X_,tw.globalOptions);let n,o,r;function s(){"hidden"===document.visibilityState?(n.autoPauseCondition&&["all","hidden"].includes(n.autoPauseCondition)&&function(){var t;for(const e of r)null===(t=a(e))||void 0===t||t.pause()}(),n.autoMuteCondition&&["all","hidden"].includes(n.autoMuteCondition)&&function(){var t;for(const e of r)null===(t=a(e))||void 0===t||t.mute()}()):"visible"===document.visibilityState&&(n.autoPlayCondition&&["all","visible"].includes(n.autoPlayCondition)&&l(),n.autoUnmuteCondition&&["all","visible"].includes(n.autoUnmuteCondition)&&h())}function a(t){return n.playerSelector?null==t?void 0:t.querySelector(n.playerSelector):null}function l(){var t;null===(t=a(r[o.selectedScrollSnap()]))||void 0===t||t.play()}function d(){var t;null===(t=a(r[o.selectedScrollSnap()]))||void 0===t||t.pause()}function c(){var t;null===(t=a(r[o.previousScrollSnap()]))||void 0===t||t.pause()}function h(){var t;null===(t=a(r[o.selectedScrollSnap()]))||void 0===t||t.unmute()}function u(){var t;null===(t=a(r[o.selectedScrollSnap()]))||void 0===t||t.mute()}function A(){var t;null===(t=a(r[o.previousScrollSnap()]))||void 0===t||t.mute()}const p={name:"autoMedia",options:e.merge(i,t),init:function(t){o=t,n=e.atMedia(p.options),r=o.slideNodes(),o.on("destroy",d),n.autoPauseCondition&&["all","unselected"].includes(n.autoPauseCondition)&&o.on("select",c),o.on("destroy",u),n.autoMuteCondition&&["all","unselected"].includes(n.autoMuteCondition)&&o.on("select",A),document.addEventListener("visibilitychange",s)},destroy:function(){o.off("destroy",d),n.autoPauseCondition&&["all","unselected"].includes(n.autoPauseCondition)&&o.off("select",c),o.off("destroy",u),n.autoMuteCondition&&["all","unselected"].includes(n.autoMuteCondition)&&o.off("select",A),document.removeEventListener("visibilitychange",s)},play:l,pause:d,mute:u,unmute:h};return p}tw.globalOptions=void 0;const ew={active:!0,breakpoints:{},lazyLoadCount:0};function iw(t){const e=N_.optionsHandler(),i=e.merge(ew,iw.globalOptions);let n,o,r;const s=new Set,a=["init","select","resize"],l=["select"];function d(){"hidden"===document.visibilityState&&n.lazyUnloadCallback&&n.lazyUnloadCondition&&["all","hidden"].includes(n.lazyUnloadCondition)?s.forEach((t=>{n.lazyUnloadCallback&&(n.lazyUnloadCallback(t,r[t]),s.delete(t))})):"visible"===document.visibilityState&&n.lazyLoadCallback&&h()}function c(t){return s.has(t)}function h(){var t;const e=null!==(t=n.lazyLoadCount)&&void 0!==t?t:0,i=o.selectedScrollSnap(),a=new Set;for(let t=1;t<=e&&i-t>=0;t++)a.add(i-t);a.add(i);for(let t=1;t<=e&&i+t<r.length;t++)a.add(i+t);a.forEach((t=>{!c(t)&&n.lazyLoadCallback&&(s.add(t),n.lazyLoadCallback(t,r[t]))}))}function u(){const t=o.previousScrollSnap();c(t)&&n.lazyUnloadCallback&&(n.lazyUnloadCallback(t,r[t]),s.delete(t))}const A={name:"lazyload",options:e.merge(i,t),init:function(t){o=t,n=e.atMedia(A.options),r=o.slideNodes(),n.lazyLoadCallback&&a.forEach((t=>o.on(t,h))),n.lazyUnloadCallback&&n.lazyUnloadCondition&&["all","unselected"].includes(n.lazyUnloadCondition)&&l.forEach((t=>o.on(t,u))),document.addEventListener("visibilitychange",d)},destroy:function(){n.lazyLoadCallback&&a.forEach((t=>o.off(t,h))),n.lazyUnloadCallback&&l.forEach((t=>o.off(t,u))),document.removeEventListener("visibilitychange",d)},hasLazyloaded:c};return A}iw.globalOptions=void 0;
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const nw=t=>null!=t?t:X;let ow=class extends gt{constructor(){super(...arguments),this.disabled=!1,this.label="",this._embedThumbnailTask=zy(this,(()=>this.hass),(()=>this.thumbnail))}set controlConfig(t){(null==t?void 0:t.size)&&this.style.setProperty("--frigate-card-next-prev-size",`${t.size}px`),this._controlConfig=t}render(){if(this.disabled||!this._controlConfig||"none"==this._controlConfig.style)return K``;const t={controls:!0,previous:"previous"==this.direction,next:"next"==this.direction,thumbnails:"thumbnails"==this._controlConfig.style,icons:["chevrons","icons"].includes(this._controlConfig.style),button:["chevrons","icons"].includes(this._controlConfig.style)};if(["chevrons","icons"].includes(this._controlConfig.style)){let e;if("chevrons"===this._controlConfig.style)e="previous"==this.direction?"mdi:chevron-left":"mdi:chevron-right";else{if(!this.icon)return K``;e=this.icon}return K` <ha-icon-button class="${Dt(t)}" .label=${this.label}>
        <ha-icon icon=${e}></ha-icon>
      </ha-icon-button>`}return this.thumbnail?Fy(this,this._embedThumbnailTask,(e=>e?K`<img
              src="${e}"
              class="${Dt(t)}"
              title="${this.label}"
              aria-label="${this.label}"
            />`:K``),(()=>K`<div class=${Dt(t)}></div>`)):K``}static get styles(){return _("ha-icon-button.button {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 0px;\n  margin: 3px;\n  --ha-icon-display: block;\n  /* Buttons can always be clicked */\n  pointer-events: auto;\n  opacity: 0.9;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\nha-icon[data-domain=alert][data-state=on],\nha-icon[data-domain=automation][data-state=on],\nha-icon[data-domain=binary_sensor][data-state=on],\nha-icon[data-domain=calendar][data-state=on],\nha-icon[data-domain=camera][data-state=streaming],\nha-icon[data-domain=cover][data-state=open],\nha-icon[data-domain=fan][data-state=on],\nha-icon[data-domain=humidifier][data-state=on],\nha-icon[data-domain=light][data-state=on],\nha-icon[data-domain=input_boolean][data-state=on],\nha-icon[data-domain=lock][data-state=unlocked],\nha-icon[data-domain=media_player][data-state=on],\nha-icon[data-domain=media_player][data-state=paused],\nha-icon[data-domain=media_player][data-state=playing],\nha-icon[data-domain=script][data-state=on],\nha-icon[data-domain=sun][data-state=above_horizon],\nha-icon[data-domain=switch][data-state=on],\nha-icon[data-domain=timer][data-state=active],\nha-icon[data-domain=vacuum][data-state=cleaning],\nha-icon[data-domain=group][data-state=on],\nha-icon[data-domain=group][data-state=home],\nha-icon[data-domain=group][data-state=open],\nha-icon[data-domain=group][data-state=locked],\nha-icon[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=pending],\nha-icon[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=plant][data-state=problem],\nha-icon[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\nha-icon-button[data-domain=alert][data-state=on],\nha-icon-button[data-domain=automation][data-state=on],\nha-icon-button[data-domain=binary_sensor][data-state=on],\nha-icon-button[data-domain=calendar][data-state=on],\nha-icon-button[data-domain=camera][data-state=streaming],\nha-icon-button[data-domain=cover][data-state=open],\nha-icon-button[data-domain=fan][data-state=on],\nha-icon-button[data-domain=humidifier][data-state=on],\nha-icon-button[data-domain=light][data-state=on],\nha-icon-button[data-domain=input_boolean][data-state=on],\nha-icon-button[data-domain=lock][data-state=unlocked],\nha-icon-button[data-domain=media_player][data-state=on],\nha-icon-button[data-domain=media_player][data-state=paused],\nha-icon-button[data-domain=media_player][data-state=playing],\nha-icon-button[data-domain=script][data-state=on],\nha-icon-button[data-domain=sun][data-state=above_horizon],\nha-icon-button[data-domain=switch][data-state=on],\nha-icon-button[data-domain=timer][data-state=active],\nha-icon-button[data-domain=vacuum][data-state=cleaning],\nha-icon-button[data-domain=group][data-state=on],\nha-icon-button[data-domain=group][data-state=home],\nha-icon-button[data-domain=group][data-state=open],\nha-icon-button[data-domain=group][data-state=locked],\nha-icon-button[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon-button[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon-button[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon-button[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon-button[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=pending],\nha-icon-button[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=plant][data-state=problem],\nha-icon-button[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon-button[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\n:host {\n  --frigate-card-next-prev-size: 48px;\n  --frigate-card-next-prev-size-hover: calc(var(--frigate-card-next-prev-size) * 2);\n  --frigate-card-prev-position: 45px;\n  --frigate-card-next-position: 45px;\n  --mdc-icon-button-size: var(--frigate-card-next-prev-size);\n  --mdc-icon-size: calc(var(--mdc-icon-button-size) / 2);\n}\n\n.controls {\n  position: absolute;\n  z-index: 1;\n  overflow: hidden;\n}\n\n.controls.previous {\n  left: var(--frigate-card-prev-position);\n}\n\n.controls.next {\n  right: var(--frigate-card-next-position);\n}\n\n.controls.icons {\n  top: calc(50% - var(--frigate-card-next-prev-size) / 2);\n}\n\n.controls.thumbnails {\n  border-radius: 50%;\n  height: var(--frigate-card-next-prev-size);\n  top: calc(50% - var(--frigate-card-next-prev-size) / 2);\n  box-shadow: 0px 0px 20px 5px black;\n  transition: all 0.2s ease-out;\n  opacity: 0.8;\n  aspect-ratio: 1/1;\n}\n\n.controls.thumbnails:hover {\n  opacity: 1 !important;\n  height: var(--frigate-card-next-prev-size-hover);\n  top: calc(50% - var(--frigate-card-next-prev-size-hover) / 2);\n}\n\n.controls.previous.thumbnails:hover {\n  left: calc(var(--frigate-card-prev-position) - (var(--frigate-card-next-prev-size-hover) - var(--frigate-card-next-prev-size)) / 2);\n}\n\n.controls.next.thumbnails:hover {\n  right: calc(var(--frigate-card-next-position) - (var(--frigate-card-next-prev-size-hover) - var(--frigate-card-next-prev-size)) / 2);\n}")}};t([yt({attribute:!1})],ow.prototype,"direction",void 0),t([yt({attribute:!1})],ow.prototype,"hass",void 0),t([_t()],ow.prototype,"_controlConfig",void 0),t([yt({attribute:!1})],ow.prototype,"thumbnail",void 0),t([yt({attribute:!1})],ow.prototype,"icon",void 0),t([yt({attribute:!0,type:Boolean})],ow.prototype,"disabled",void 0),t([yt()],ow.prototype,"label",void 0),ow=t([vt("frigate-card-next-previous-control")],ow);let rw=class extends gt{constructor(){super(...arguments),this.direction="horizontal",this._savedStartIndex=null,this._refSlot=zt(),this._scrolling=!1,this._reInitOnSettle=!1,this._carouselReInitInPlace=hh(this._carouselReInitInPlaceInternal.bind(this),500,{trailing:!0})}connectedCallback(){super.connectedCallback(),this.requestUpdate()}disconnectedCallback(){this._destroyCarousel({savePosition:!0}),super.disconnectedCallback()}willUpdate(t){["direction","carouselOptions","carouselPlugins"].some((e=>t.has(e)))&&this._destroyCarousel({savePosition:!0})}carouselScrollTo(t){var e;null===(e=this._carousel)||void 0===e||e.scrollTo(t,"none"===this.transitionEffect)}carouselScrollPrevious(){var t;null===(t=this._carousel)||void 0===t||t.scrollPrev("none"===this.transitionEffect)}carouselScrollNext(){var t;null===(t=this._carousel)||void 0===t||t.scrollNext("none"===this.transitionEffect)}getCarouselSelected(){var t,e,i;const n=null===(t=this._carousel)||void 0===t?void 0:t.selectedScrollSnap(),o=void 0!==n&&null!==(i=null===(e=this._carousel)||void 0===e?void 0:e.slideNodes()[n])&&void 0!==i?i:null;return void 0!==n&&o?{index:n,element:o}:null}carouselClickAllowed(){var t,e;return null===(e=null===(t=this._carousel)||void 0===t?void 0:t.clickAllowed())||void 0===e||e}carousel(){var t;return null!==(t=this._carousel)&&void 0!==t?t:null}_carouselReInit(t){window.requestAnimationFrame((()=>{var e;null===(e=this._carousel)||void 0===e||e.reInit(Object.assign({},t))}))}_carouselReInitInPlaceInternal(){const t=this.getCarouselSelected();this._carouselReInit(Object.assign({},t&&{startIndex:t.index}))}carouselReInitWhenSafe(){this._scrolling?this._reInitOnSettle=!0:this._carouselReInitInPlace()}getCarouselPlugins(){var t,e;return null!==(e=null===(t=this._carousel)||void 0===t?void 0:t.plugins())&&void 0!==e?e:null}updated(t){super.updated(t),this._carousel||this._initCarousel()}_destroyCarousel(t){var e,i;this._savedStartIndex=null!==(i=(null==t?void 0:t.savePosition)?null===(e=this._carousel)||void 0===e?void 0:e.selectedScrollSnap():null)&&void 0!==i?i:null,this._carousel&&this._carousel.destroy(),this._carousel=void 0}_initCarousel(){var t;const e=this.renderRoot.querySelector(".embla__viewport"),i={root:e,slides:null===(t=this._refSlot.value)||void 0===t?void 0:t.assignedElements({flatten:!0})};e&&i.slides&&(this._carousel=N_(i,Object.assign(Object.assign({axis:"horizontal"==this.direction?"x":"y",speed:20},this.carouselOptions),this._savedStartIndex&&{startIndex:this._savedStartIndex}),this.carouselPlugins),this._carousel.on("init",(()=>Dg(this,"carousel:init"))),this._carousel.on("select",(()=>{const t=this.getCarouselSelected();t&&Dg(this,"carousel:select",t),this.requestUpdate()})),this._carousel.on("scroll",(()=>{this._scrolling=!0})),this._carousel.on("settle",(()=>{this._scrolling=!1,this._reInitOnSettle&&(this._reInitOnSettle=!1,this._carouselReInitInPlace())})),this._carousel.on("settle",(()=>{const t=this.getCarouselSelected();t&&Dg(this,"carousel:settle",t)})))}_slotChanged(){this._destroyCarousel({savePosition:!1}),this.requestUpdate()}render(){var t,e,i,n,o;const r=(null===(t=this._refSlot.value)||void 0===t?void 0:t.assignedElements({flatten:!0}))||[],s=null!==(i=null===(e=this._carousel)||void 0===e?void 0:e.selectedScrollSnap())&&void 0!==i?i:0,a=(null===(n=this.carouselOptions)||void 0===n?void 0:n.loop)||s>0,l=(null===(o=this.carouselOptions)||void 0===o?void 0:o.loop)||s+1<r.length;return K` <div class="embla">
      ${a?K`<slot name="previous"></slot>`:""}
      <div class="embla__viewport">
        <div class="embla__container">
          <slot ${Gt(this._refSlot)} @slotchange=${this._slotChanged.bind(this)}></slot>
        </div>
      </div>
      ${l?K`<slot name="next"></slot>`:""}
    </div>`}static get styles(){return _(":host {\n  display: block;\n  height: 100%;\n  width: 100%;\n}\n\n.embla {\n  width: 100%;\n  height: 100%;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n.embla__container {\n  display: flex;\n  width: 100%;\n  height: 100%;\n  user-select: none;\n  -webkit-touch-callout: none;\n  -khtml-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n}\n\n:host([direction=vertical]) .embla__container {\n  flex-direction: column;\n}\n\n:host([direction=horizontal]) .embla__container {\n  flex-direction: row;\n}\n\n.embla__viewport {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.embla__viewport.is-draggable {\n  cursor: move;\n  cursor: grab;\n}\n\n.embla__viewport.is-dragging {\n  cursor: grabbing;\n}\n\n:host([direction=vertical]) ::slotted(.embla__slide) {\n  margin-bottom: 5px;\n}\n\n:host([direction=horizontal]) ::slotted(.embla__slide) {\n  margin-right: 5px;\n}")}};t([yt({attribute:!0,reflect:!0})],rw.prototype,"direction",void 0),t([yt({attribute:!1})],rw.prototype,"carouselOptions",void 0),t([yt({attribute:!1})],rw.prototype,"carouselPlugins",void 0),t([yt({attribute:!0})],rw.prototype,"transitionEffect",void 0),rw=t([vt("frigate-card-carousel")],rw);const sw=`data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${16} ${9}"%3E%3C/svg%3E`;const aw=(t,e)=>{Dg(t,"carousel:media:loaded",e)},lw=(t,e)=>{e.stopPropagation(),aw(e.composedPath()[0],{slide:t,mediaLoadedInfo:e.detail})},dw=(t,e)=>{e.stopPropagation(),Dg(e.composedPath()[0],"carousel:media:unloaded",{slide:t})};let cw=class extends gt{constructor(){super(),this._mediaLoadedInfo={},this._nextControlRef=zt(),this._previousControlRef=zt(),this._titleControlRef=zt(),this._titleTimerID=null,this._boundAutoPlayHandler=this.autoPlay.bind(this),this._boundAutoUnmuteHandler=this.autoUnmute.bind(this),this._boundAdaptContainerHeightToSlide=this._adaptContainerHeightToSlide.bind(this),this._boundTitleHandler=this._titleHandler.bind(this),this._refCarousel=zt(),this._resizeObserver=new ResizeObserver(this._reInitAndAdjustHeight.bind(this)),this._slideResizeObserver=new ResizeObserver(this._reInitAndAdjustHeight.bind(this)),this._intersectionObserver=new IntersectionObserver(this._intersectionHandler.bind(this))}frigateCardCarousel(){var t;return null!==(t=this._refCarousel.value)&&void 0!==t?t:null}_getAutoMediaPlugin(){var t,e,i;return null!==(i=null===(e=null===(t=this.frigateCardCarousel())||void 0===t?void 0:t.carousel())||void 0===e?void 0:e.plugins().autoMedia)&&void 0!==i?i:null}autoPlay(){var t,e;const i=null===(t=this._getAutoMediaPlugin())||void 0===t?void 0:t.options;(null==i?void 0:i.autoPlayCondition)&&["all","selected"].includes(null==i?void 0:i.autoPlayCondition)&&(null===(e=this._getAutoMediaPlugin())||void 0===e||e.play())}autoPause(){var t,e;const i=null===(t=this._getAutoMediaPlugin())||void 0===t?void 0:t.options;(null==i?void 0:i.autoPauseCondition)&&["all","selected"].includes(i.autoPauseCondition)&&(null===(e=this._getAutoMediaPlugin())||void 0===e||e.pause())}autoUnmute(){var t,e;const i=null===(t=this._getAutoMediaPlugin())||void 0===t?void 0:t.options;(null==i?void 0:i.autoUnmuteCondition)&&["all","selected"].includes(null==i?void 0:i.autoUnmuteCondition)&&(null===(e=this._getAutoMediaPlugin())||void 0===e||e.unmute())}autoMute(){var t,e;const i=null===(t=this._getAutoMediaPlugin())||void 0===t?void 0:t.options;(null==i?void 0:i.autoMuteCondition)&&["all","selected"].includes(null==i?void 0:i.autoMuteCondition)&&(null===(e=this._getAutoMediaPlugin())||void 0===e||e.mute())}_titleHandler(){var t;const e=()=>{var t;this._titleTimerID=null,null===(t=this._titleControlRef.value)||void 0===t||t.show()};this._titleTimerID&&window.clearTimeout(this._titleTimerID),(null===(t=this._titleControlRef.value)||void 0===t?void 0:t.isVisible())&&e(),this._titleTimerID=window.setTimeout(e,500)}connectedCallback(){super.connectedCallback(),this.addEventListener("frigate-card:media:loaded",this._boundAutoPlayHandler),this.addEventListener("frigate-card:media:loaded",this._boundAutoUnmuteHandler),this.addEventListener("frigate-card:media:loaded",this._boundAdaptContainerHeightToSlide),this.addEventListener("frigate-card:media:loaded",this._boundTitleHandler),this._resizeObserver.observe(this),this._intersectionObserver.observe(this)}disconnectedCallback(){this.removeEventListener("frigate-card:media:loaded",this._boundAutoPlayHandler),this.removeEventListener("frigate-card:media:loaded",this._boundAutoUnmuteHandler),this.removeEventListener("frigate-card:media:loaded",this._boundAdaptContainerHeightToSlide),this.removeEventListener("frigate-card:media:loaded",this._boundTitleHandler),this._resizeObserver.disconnect(),this._intersectionObserver.disconnect(),this._mediaLoadedInfo={},super.disconnectedCallback()}_reInitAndAdjustHeight(){var t;null===(t=this.frigateCardCarousel())||void 0===t||t.carouselReInitWhenSafe(),this._adaptContainerHeightToSlide()}_intersectionHandler(t){t.some((t=>t.isIntersecting))&&this._reInitAndAdjustHeight()}_adaptContainerHeightToSlide(){window.requestAnimationFrame((()=>{var t;const e=null===(t=this.frigateCardCarousel())||void 0===t?void 0:t.getCarouselSelected();if(e){this.style.removeProperty("max-height");const t=e.element.getBoundingClientRect().height;void 0!==t&&t>0&&(this.style.maxHeight=`${t}px`)}}))}_dispatchMediaLoadedInfo(){var t,e;const i=null===(e=null===(t=this.frigateCardCarousel())||void 0===t?void 0:t.getCarouselSelected())||void 0===e?void 0:e.index;void 0!==i&&i in this._mediaLoadedInfo&&e_(this,this._mediaLoadedInfo[i])}_storeMediaLoadedInfo(t){var e,i;t.stopPropagation();const n=t.detail.mediaLoadedInfo,o=t.detail.slide;n&&i_(n)&&(this._mediaLoadedInfo[o]=n,(null===(i=null===(e=this.frigateCardCarousel())||void 0===e?void 0:e.getCarouselSelected())||void 0===i?void 0:i.index)===o&&e_(this,n))}_removeMediaLoadedInfo(t){var e,i;const n=t.detail.slide;delete this._mediaLoadedInfo[n],(null===(i=null===(e=this.frigateCardCarousel())||void 0===e?void 0:e.getCarouselSelected())||void 0===i?void 0:i.index)!==n&&t.stopPropagation()}render(){return K` <frigate-card-carousel
        ${Gt(this._refCarousel)}
        .carouselOptions=${this.carouselOptions}
        .carouselPlugins=${this.carouselPlugins}
        transitionEffect=${nw(this.transitionEffect)}
        @frigate-card:carousel:init=${this._dispatchMediaLoadedInfo.bind(this)}
        @frigate-card:carousel:select=${t=>{this._slideResizeObserver.disconnect(),this._slideResizeObserver.observe(t.detail.element),Dg(this,"media-carousel:select",t.detail),this._dispatchMediaLoadedInfo()}}
        @frigate-card:carousel:media:loaded=${this._storeMediaLoadedInfo.bind(this)}
        @frigate-card:carousel:media:unloaded=${this._removeMediaLoadedInfo.bind(this)}
      >
        <slot slot="previous" name="previous"></slot>
        <slot></slot>
        <slot slot="next" name="next"></slot>
      </frigate-card-carousel>
      ${this.label&&this.titlePopupConfig?K`<frigate-card-title-control
            ${Gt(this._titleControlRef)}
            .config=${this.titlePopupConfig}
            .text="${this.label}"
            .fitInto=${this}
          >
          </frigate-card-title-control> `:""}`}static get styles(){return _(":host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  --video-max-height: none;\n  position: relative;\n}")}};t([yt({attribute:!1})],cw.prototype,"nextPreviousConfig",void 0),t([yt({attribute:!1})],cw.prototype,"carouselOptions",void 0),t([yt({attribute:!1})],cw.prototype,"carouselPlugins",void 0),t([yt({attribute:!0})],cw.prototype,"transitionEffect",void 0),t([yt({attribute:!1})],cw.prototype,"label",void 0),t([yt({attribute:!1})],cw.prototype,"titlePopupConfig",void 0),cw=t([vt("frigate-card-media-carousel")],cw);let hw=class extends gt{constructor(){super(...arguments),this._toastRef=zt()}render(){if(!this.text||!this.config||"none"==this.config.mode||!this.fitInto)return K``;const t=this.config.mode.match(/-top-/)?"top":"bottom",e=this.config.mode.match(/-left$/)?"left":"right";return K` <paper-toast
      ${Gt(this._toastRef)}
      class="capsule"
      .duration=${1e3*this.config.duration_seconds}
      .verticalAlign=${t}
      .horizontalAlign=${e}
      .text="${this.text}"
      .fitInto=${this.fitInto}
    >
    </paper-toast>`}isVisible(){var t,e;return null!==(e=null===(t=this._toastRef.value)||void 0===t?void 0:t.opened)&&void 0!==e&&e}hide(){this._toastRef.value&&(this._toastRef.value.opened=!1)}show(){this._toastRef.value&&(this._toastRef.value.opened=!1,this._toastRef.value.opened=!0)}static get styles(){return _(":host {\n  --paper-toast-background-color: rgba(0,0,0,0.6);\n  --paper-toast-color: white;\n}\n\npaper-toast {\n  max-width: unset;\n  min-width: unset;\n}")}};t([yt({attribute:!1})],hw.prototype,"config",void 0),t([yt({attribute:!1})],hw.prototype,"text",void 0),t([yt({attribute:!1})],hw.prototype,"fitInto",void 0),hw=t([vt("frigate-card-title-control")],hw);var uw=":host {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  overflow: hidden;\n}\n\n::slotted:not([name]) {\n  flex: 1;\n}";const Aw=document.createElement("template");Aw.innerHTML='<style>\n:host {\n  background-color: #ffffff;\n  width: 350px;\n  max-width: 75vw;\n\n  visibility: hidden;\n  transition: visibility 0.5s;\n}\n\n:host([open]) {\n  visibility: visible;\n}\n\n::slotted(div) {\n  box-sizing: border-box;\n}\n\n#d {\n  position: fixed;\n  z-index: 99;\n  background-color: inherit;\n  -webkit-overflow-scrolling: touch;\n  overflow: auto;\n  overscroll-behavior: contain;\n  backdrop-filter: var(--side-drawer-backdrop-filter, none);\n\n  top: 0;\n  bottom: 0;\n  left: 0;\n  height: 100%;\n  box-sizing: border-box;\n  transform: translateX(-100%);\n  transition: var(\n    --side-drawer-transition,\n    transform 0.25s ease-out\n  );\n  width: inherit;\n  max-width: inherit;\n  border-top-right-radius: inherit;\n  border-bottom-right-radius: inherit;\n}\n\n:host([open]) #d {\n  transform: none;\n  box-shadow: 0px 0px 25px 0px rgba(0, 0, 0, 0.5);\n}\n\n#fs {\n  position: fixed;\n  z-index: 98;\n  background-color: #000000;\n  backdrop-filter: var(--side-drawer-backdrop-filter, none);\n\n  top: 0;\n  bottom: 0;\n  right: -30px; /* hide scrollbar until overscroll bug is fixed */\n  height: 100vh;\n  transition: var(\n    --side-drawer-overlay-transition,\n    opacity linear 0.25s\n  );\n  width: calc(\n    100vw + 30px\n  ); /* put back to just 100vw once overscroll bug fixed */\n  opacity: 0;\n  visibility: hidden;\n\n  overflow: auto;\n  overscroll-behavior: contain;\n}\n\n:host([open]) #fs {\n  opacity: var(--side-drawer-overlay-opacity, 0.7);\n  visibility: visible;\n}\n\n/*\n   * Workaround for bug https://bugs.chromium.org/p/chromium/issues/detail?id=813094\n   * Once bug is fixed and in the wild we can remove this element and make #if overflow:hidden\n   * and set "right: 0; width: 100vw" for #fs\n   */\n#ifs {\n  height: calc(100vh + 1px);\n}\n</style>\n<div id="d"><slot></slot></div>\n<div id="fs"><div id="ifs"></div></div>\n';class pw extends HTMLElement{constructor(){super();const t=this.attachShadow({mode:"open"});t.appendChild(Aw.content.cloneNode(!0)),this._freeSpaceDiv=t.getElementById("fs")}connectedCallback(){this._freeSpaceDiv&&this._freeSpaceDiv.addEventListener("click",this.handleFreeSpaceDivClick),this.upgradeProperty("open")}disconnectedCallback(){document.removeEventListener("keyup",this.handleKeyUp)}upgradeProperty(t){if(this.hasOwnProperty(t)){let e=this[t];delete this[t],this[t]=e}}handleKeyUp=t=>{if(!t.altKey&&"Escape"===t.key)t.preventDefault(),this.open=!1};get open(){return this.hasAttribute("open")}set open(t){t?this.hasAttribute("open")||this.setAttribute("open",""):this.hasAttribute("open")&&this.removeAttribute("open")}static get observedAttributes(){return["open"]}attributeChangedCallback(t,e,i){"open"===t&&(this.open?(this.setAttribute("tabindex","0"),this.setAttribute("aria-disabled","false"),this.focus({preventScroll:!0}),document.addEventListener("keyup",this.handleKeyUp),this.dispatchEvent(new CustomEvent("open",{bubbles:!0}))):(this.setAttribute("tabindex","-1"),this.setAttribute("aria-disabled","true"),document.removeEventListener("keyup",this.handleKeyUp),this.dispatchEvent(new CustomEvent("close",{bubbles:!0}))))}handleFreeSpaceDivClick=()=>{this.open=!1}}customElements.define("side-drawer",pw);let mw=class extends gt{constructor(){super(...arguments),this.location="left",this.control=!0,this.open=!1,this.empty=!0,this._refDrawer=zt(),this._refSlot=zt(),this._resizeObserver=new ResizeObserver((()=>this._hideDrawerIfNecessary())),this._isHoverableDevice=Rg()}firstUpdated(t){var e,i;super.firstUpdated(t);const n=document.createElement("style");n.innerHTML=":host {\n  width: unset;\n}\n\n#fs {\n  display: none;\n  width: 100%;\n  inset: 0;\n}\n\n#d,\n#fs {\n  height: 100%;\n  position: absolute;\n}\n\n#d {\n  overflow: visible;\n  max-width: 90%;\n}\n\n:host([location=right]) #d {\n  left: unset;\n  right: 0;\n  transform: translateX(100%);\n}\n\n:host([location=right][open]) #d {\n  transform: none;\n  box-shadow: 0px 0px 25px 0px black;\n}\n\n#ifs {\n  height: 100%;\n}",null===(i=null===(e=this._refDrawer.value)||void 0===e?void 0:e.shadowRoot)||void 0===i||i.appendChild(n)}_slotChanged(){var t;const e=null===(t=this._refSlot.value)||void 0===t?void 0:t.assignedElements({flatten:!0});this._resizeObserver.disconnect();for(const t of null!=e?e:[])this._resizeObserver.observe(t);this._hideDrawerIfNecessary()}_hideDrawerIfNecessary(){var t;if(!this._refDrawer.value)return;const e=null===(t=this._refSlot.value)||void 0===t?void 0:t.assignedElements({flatten:!0});this.empty=!e||!e.length||e.every((t=>{const e=t.getBoundingClientRect();return!e.width||!e.height}))}render(){return K`
      <side-drawer
        ${Gt(this._refDrawer)}
        location="${this.location}"
        ?open=${this.open}
        @mouseleave=${()=>{this.open&&(this.open=!1)}}
      >
        ${this.control?K`
              <div
                class="control-surround"
                @click=${t=>{Vm(t),this.open=!this.open}}
              >
                <ha-icon
                  class="control"
                  icon="${this.open?"mdi:menu-open":"mdi:menu"}"
                  @mouseenter=${()=>{this._isHoverableDevice&&!this.open&&(this.open=!0)}}
                >
                </ha-icon>
              </div>
            `:""}
        <slot ${Gt(this._refSlot)} @slotchange=${this._slotChanged.bind(this)}></slot>
      </side-drawer>
    `}static get styles(){return _("side-drawer {\n  background-color: var(--card-background-color);\n}\n\ndiv.control-surround {\n  position: absolute;\n  bottom: 50%;\n  transform: translateY(50%);\n  z-index: 0;\n  padding-top: 20px;\n  padding-bottom: 20px;\n}\n\n:host([location=left]) div.control-surround {\n  padding-right: 12px;\n  left: 100%;\n}\n\n:host([location=right]) div.control-surround {\n  padding-left: 12px;\n  right: 100%;\n}\n\n:host([empty]), :host([empty]) > * {\n  visibility: hidden;\n}\n\n:host(:not([empty])), :host(:not([empty])) > * {\n  visibility: visible;\n}\n\nha-icon.control {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.7);\n  opacity: 0.7;\n  pointer-events: all;\n  --mdc-icon-size: 20px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  transition: opacity 0.5s ease;\n}\n\n:host([open]) ha-icon.control, ha-icon.control:hover {\n  opacity: 1;\n  background-color: black;\n}\n\n:host([location=left]) ha-icon.control {\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n}\n\n:host([location=right]) ha-icon.control {\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n}")}};t([yt({attribute:!0,reflect:!0})],mw.prototype,"location",void 0),t([yt({attribute:!0,reflect:!0,type:Boolean})],mw.prototype,"control",void 0),t([yt({type:Boolean,reflect:!0,attribute:!0})],mw.prototype,"open",void 0),t([yt({type:Boolean,reflect:!0,attribute:!0})],mw.prototype,"empty",void 0),mw=t([vt("frigate-card-drawer")],mw);let gw=class extends gt{constructor(){super(...arguments),this._refDrawerLeft=zt(),this._refDrawerRight=zt(),this._boundDrawerHandler=this._drawerHandler.bind(this)}connectedCallback(){super.connectedCallback(),this.addEventListener("frigate-card:drawer:open",this._boundDrawerHandler),this.addEventListener("frigate-card:drawer:close",this._boundDrawerHandler)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("frigate-card:drawer:open",this._boundDrawerHandler),this.removeEventListener("frigate-card:drawer:close",this._boundDrawerHandler)}_drawerHandler(t){const e=t.detail.drawer,i=t.type.endsWith(":open");"left"===e&&this._refDrawerLeft.value?this._refDrawerLeft.value.open=i:"right"===e&&this._refDrawerRight.value&&(this._refDrawerRight.value.open=i)}render(){return K` <slot name="above"></slot>
      <slot></slot>
      <frigate-card-drawer ${Gt(this._refDrawerLeft)} location="left">
        <slot name="left"></slot>
      </frigate-card-drawer>
      <frigate-card-drawer ${Gt(this._refDrawerRight)} location="right">
        <slot name="right"></slot>
      </frigate-card-drawer>
      <slot name="below"></slot>`}static get styles(){return _(uw)}};gw=t([vt("frigate-card-surround")],gw);let fw=class extends gt{async _fetchMedia(){var t,e,i,n;if(!this.fetch||!this.hass||!this.view||!this.config||"none"===this.config.mode||this.view.target||!this.browseMediaParams||null!==(i=null===(e=null===(t=this.view.context)||void 0===t?void 0:t.thumbnails)||void 0===e?void 0:e.fetch)&&void 0!==i&&!i)return;let o;try{o=await by(this.hass,this.browseMediaParams)}catch(t){return qg(this,t)}null!==gy(o)&&(null===(n=this.view)||void 0===n||n.evolve(Object.assign(Object.assign({},this.targetView&&{view:this.targetView}),{target:o,childIndex:null,previous:null})).dispatchChangeEvent(this))}_hasDrawer(){return!!this.config&&["left","right"].includes(this.config.mode)}willUpdate(t){["view","targetView","fetch","browseMediaParams"].some((e=>t.has(e)))&&this._fetchMedia()}render(){if(!this.hass||!this.view||!this.config)return;const t=(t,e)=>{this.config&&this._hasDrawer()&&Dg(t.composedPath()[0],"drawer:"+e,{drawer:this.config.mode})};return K` <frigate-card-surround
      @frigate-card:thumbnails:open=${e=>t(e,"open")}
      @frigate-card:thumbnails:close=${e=>t(e,"close")}
    >
      ${this.config&&"none"!==this.config.mode?K` <frigate-card-thumbnail-carousel
            slot=${this.config.mode}
            .hass=${this.hass}
            .config=${this.config}
            .view=${this.view}
            .target=${this.view.target}
            .selected=${this.view.childIndex}
            .cameras=${this.cameras}
            @frigate-card:view:change=${e=>t(e,"close")}
            @frigate-card:thumbnail-carousel:tap=${t=>{var e;null===(e=this.view)||void 0===e||e.evolve({view:this.targetView||"media",target:t.detail.target,childIndex:t.detail.childIndex,context:null}).dispatchChangeEvent(t.composedPath()[0])}}
          >
          </frigate-card-thumbnail-carousel>`:""}
      <slot></slot>
    </frigate-card-surround>`}static get styles(){return _(uw)}};t([yt({attribute:!1})],fw.prototype,"hass",void 0),t([yt({attribute:!1})],fw.prototype,"view",void 0),t([yt({attribute:!1,hasChanged:Tg})],fw.prototype,"config",void 0),t([yt({attribute:!1})],fw.prototype,"targetView",void 0),t([yt({attribute:!0,type:Boolean})],fw.prototype,"fetch",void 0),t([yt({attribute:!1,hasChanged:Tg})],fw.prototype,"browseMediaParams",void 0),t([yt({attribute:!1})],fw.prototype,"cameras",void 0),fw=t([vt("frigate-card-surround-thumbnails")],fw);var vw="img, video {\n  object-fit: var(--frigate-card-media-layout-fit, contain);\n  object-position: var(--frigate-card-media-layout-position-x, 50%) var(--frigate-card-media-layout-position-y, 50%);\n}";customElements.whenDefined("ha-hls-player").then((()=>{let e=class extends(customElements.get("ha-hls-player")){play(){var t;null===(t=this._video)||void 0===t||t.play()}pause(){var t;null===(t=this._video)||void 0===t||t.pause()}mute(){this._video&&(this._video.muted=!0)}unmute(){this._video&&(this._video.muted=!1)}seek(t){this._video&&(this._video.currentTime=t)}render(){return this._error?Gg(this,this._error):K`
        <video
          id="video"
          ?autoplay=${this.autoPlay}
          .muted=${this.muted}
          ?playsinline=${this.playsInline}
          ?controls=${this.controls}
          @loadeddata=${t=>{t_(this,t)}}
        ></video>
      `}static get styles(){return[super.styles,_(vw),w`
          :host {
            width: 100%;
            height: 100%;
          }
          video {
            width: 100%;
            height: 100%;
          }
        `]}};t([wt("#video")],e.prototype,"_video",void 0),e=t([vt("frigate-card-ha-hls-player")],e)})),customElements.whenDefined("ha-web-rtc-player").then((()=>{let e=class extends(customElements.get("ha-web-rtc-player")){play(){var t;null===(t=this._video)||void 0===t||t.play()}pause(){var t;null===(t=this._video)||void 0===t||t.pause()}mute(){this._video&&(this._video.muted=!0)}unmute(){this._video&&(this._video.muted=!1)}seek(t){this._video&&(this._video.currentTime=t)}render(){return this._error?Gg(this,`${this._error} (${this.entityid})`):K`
        <video
          id="remote-stream"
          ?autoplay=${this.autoPlay}
          .muted=${this.muted}
          ?playsinline=${this.playsInline}
          ?controls=${this.controls}
          @loadeddata=${t=>{t_(this,t)}}
        ></video>
      `}static get styles(){return[super.styles,_(vw),w`
          :host {
            width: 100%;
            height: 100%;
          }
          video {
            width: 100%;
            height: 100%;
          }
        `]}};t([wt("#remote-stream")],e.prototype,"_video",void 0),e=t([vt("frigate-card-ha-web-rtc-player")],e)})),customElements.whenDefined("ha-camera-stream").then((()=>{let e=class extends(customElements.get("ha-camera-stream")){play(){var t;null===(t=this._player)||void 0===t||t.play()}pause(){var t;null===(t=this._player)||void 0===t||t.pause()}mute(){var t;null===(t=this._player)||void 0===t||t.mute()}unmute(){var t;null===(t=this._player)||void 0===t||t.unmute()}seek(t){var e;null===(e=this._player)||void 0===e||e.seek(t)}render(){return this.stateObj?this._shouldRenderMJPEG?K`
          <img
            @load=${t=>{t_(this,t)}}
            .src=${void 0===this._connected||this._connected?(i=this.stateObj,`/api/camera_proxy_stream/${i.entity_id}?token=${i.attributes.access_token}`):""}
            .alt=${`Preview of the ${t=this.stateObj,void 0===t.attributes.friendly_name?(e=t.entity_id,e.substr(e.indexOf(".")+1)).replace(/_/g," "):t.attributes.friendly_name||""} camera.`}
          />
        `:"hls"===this.stateObj.attributes.frontend_stream_type?this._url?K` <frigate-card-ha-hls-player
              id="player"
              ?autoplay=${!1}
              playsinline
              .allowExoPlayer=${this.allowExoPlayer}
              .muted=${this.muted}
              .controls=${this.controls}
              .hass=${this.hass}
              .url=${this._url}
            ></frigate-card-ha-hls-player>`:K``:"web_rtc"===this.stateObj.attributes.frontend_stream_type?K`<frigate-card-ha-web-rtc-player
          id="player"
          ?autoplay=${!1}
          playsinline
          .muted=${this.muted}
          .controls=${this.controls}
          .hass=${this.hass}
          .entityid=${this.stateObj.entity_id}
        ></frigate-card-ha-web-rtc-player>`:void 0:K``;var t,e,i}static get styles(){return[super.styles,_(vw),w`
          :host {
            width: 100%;
            height: 100%;
          }
          img {
            width: 100%;
            height: 100%;
          }
        `]}};t([wt("#player")],e.prototype,"_player",void 0),e=t([vt("frigate-card-ha-camera-stream")],e)}));let bw=class extends gt{constructor(){super(),this._inBackground=!0,this._backgroundMediaLoadedInfo=null,this._messageReceivedPostRender=!1,this._renderKey=0,this._intersectionObserver=new IntersectionObserver(this._intersectionHandler.bind(this))}_intersectionHandler(t){this._inBackground=t.every((t=>!t.isIntersecting)),this._inBackground||this._messageReceivedPostRender||!this._backgroundMediaLoadedInfo||(e_(this,this._backgroundMediaLoadedInfo),this._backgroundMediaLoadedInfo=null),this._messageReceivedPostRender&&!this._inBackground&&this.requestUpdate()}shouldUpdate(t){return!this._inBackground||!this._messageReceivedPostRender}connectedCallback(){this._intersectionObserver.observe(this),super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback(),this._intersectionObserver.disconnect()}render(){if(!(this.hass&&this.liveConfig&&this.cameras&&this.view))return;const t=eg(this.liveConfig,this.liveOverrides,this.conditionState),e=Cy(this.hass,this.cameras,this.view.camera,t.controls.thumbnails.media),i=K`${K_(this._renderKey,K`<frigate-card-surround-thumbnails
        .hass=${this.hass}
        .view=${this.view}
        .config=${t.controls.thumbnails}
        .browseMediaParams=${null!=e?e:void 0}
        .cameras=${this.cameras}
        ?fetch=${!this._inBackground}
        @frigate-card:message=${t=>{this._renderKey++,this._messageReceivedPostRender=!0,this._inBackground&&t.stopPropagation()}}
        @frigate-card:media:loaded=${t=>{this._inBackground&&(this._backgroundMediaLoadedInfo=t.detail,t.stopPropagation())}}
        @frigate-card:view:change=${t=>{this._inBackground&&t.stopPropagation()}}
      >
        <frigate-card-live-carousel
          .hass=${this.hass}
          .view=${this.view}
          .cameras=${this.cameras}
          .liveConfig=${this.liveConfig}
          .inBackground=${this._inBackground}
          .conditionState=${this.conditionState}
          .liveOverrides=${this.liveOverrides}
        >
        </frigate-card-live-carousel>
      </frigate-card-surround-thumbnails>`)}`;return this._messageReceivedPostRender=!1,i}static get styles(){return _(":host {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\nfrigate-card-live-carousel {\n  flex: 1;\n  min-height: 0;\n}")}};t([yt({attribute:!1})],bw.prototype,"conditionState",void 0),t([yt({attribute:!1})],bw.prototype,"hass",void 0),t([yt({attribute:!1})],bw.prototype,"view",void 0),t([yt({attribute:!1})],bw.prototype,"cameras",void 0),t([yt({attribute:!1})],bw.prototype,"liveConfig",void 0),t([yt({attribute:!1,hasChanged:Tg})],bw.prototype,"liveOverrides",void 0),t([_t()],bw.prototype,"_inBackground",void 0),bw=t([vt("frigate-card-live")],bw);let yw=class extends gt{constructor(){super(...arguments),this._cameraToSlide={},this._refMediaCarousel=zt()}updated(t){var e,i,n;super.updated(t);const o=this._refMediaCarousel.value,r=null==o?void 0:o.frigateCardCarousel();if(t.has("view")){const o=t.get("view");if(r&&(null===(e=this.view)||void 0===e?void 0:e.camera)&&(!o||(null===(i=this.view)||void 0===i?void 0:i.camera)!==o.camera)){const t=this._cameraToSlide[this.view.camera];void 0!==t&&t!==(null===(n=r.getCarouselSelected())||void 0===n?void 0:n.index)&&r.carouselScrollTo(t)}}o&&r&&t.has("inBackground")&&(this.inBackground?(o.autoPause(),o.autoMute()):(o.autoPlay(),o.autoUnmute()))}_getTransitionEffect(){var t,e;return null!==(e=null===(t=this.liveConfig)||void 0===t?void 0:t.transition_effect)&&void 0!==e?e:Pm.live.transition_effect}_getOptions(){var t;return{startIndex:this.cameras&&this.view?Math.max(0,Array.from(this.cameras.keys()).indexOf(this.view.camera)):0,draggable:null===(t=this.liveConfig)||void 0===t?void 0:t.draggable,loop:!0}}_getPlugins(){var t,e,i,n,o,r;return[...this.cameras&&this.cameras.size>1?[W_({forceWheelAxis:"y"})]:[],iw(Object.assign(Object.assign({},(null===(t=this.liveConfig)||void 0===t?void 0:t.lazy_load)&&{lazyLoadCallback:(t,e)=>this._lazyloadOrUnloadSlide("load",t,e)}),{lazyUnloadCondition:null===(e=this.liveConfig)||void 0===e?void 0:e.lazy_unload,lazyUnloadCallback:(t,e)=>this._lazyloadOrUnloadSlide("unload",t,e)})),tw(Object.assign(Object.assign(Object.assign(Object.assign({playerSelector:"frigate-card-live-provider"},(null===(i=this.liveConfig)||void 0===i?void 0:i.auto_play)&&{autoPlayCondition:this.liveConfig.auto_play}),(null===(n=this.liveConfig)||void 0===n?void 0:n.auto_pause)&&{autoPauseCondition:this.liveConfig.auto_pause}),(null===(o=this.liveConfig)||void 0===o?void 0:o.auto_mute)&&{autoMuteCondition:this.liveConfig.auto_mute}),(null===(r=this.liveConfig)||void 0===r?void 0:r.auto_unmute)&&{autoUnmuteCondition:this.liveConfig.auto_unmute}))]}_getLazyLoadCount(){var t;return!1===(null===(t=this.liveConfig)||void 0===t?void 0:t.lazy_load)?null:0}_getSlides(){if(!this.cameras)return[[],{}];const t=[],e={};for(const[i,n]of this.cameras){const o=this._renderLive(i,n,t.length);o&&(e[i]=t.length,t.push(o))}return[t,e]}_setViewHandler(){var t,e,i;const n=null===(i=null===(e=null===(t=this._refMediaCarousel.value)||void 0===t?void 0:t.frigateCardCarousel())||void 0===e?void 0:e.getCarouselSelected())||void 0===i?void 0:i.index;void 0!==n&&this.view&&this.cameras&&this.view.evolve({camera:Array.from(this.cameras.keys())[n],target:null,childIndex:null}).mergeInContext({thumbnails:{fetch:!1}}).dispatchChangeEvent(this)}_lazyloadOrUnloadSlide(t,e,i){i instanceof HTMLSlotElement&&(i=i.assignedElements({flatten:!0})[0]);const n=null==i?void 0:i.querySelector("frigate-card-live-provider");n&&(n.disabled="load"!==t)}_renderLive(t,e,i){if(!this.liveConfig)return;const n=Object.assign(Object.assign({},this.conditionState),{camera:t}),o=eg(this.liveConfig,this.liveOverrides,n);return K`
      <div class="embla__slide">
        <frigate-card-live-provider
          ?disabled=${this.liveConfig.lazy_load}
          .cameraConfig=${e}
          .label=${uy(this.hass,e)}
          .liveConfig=${o}
          .hass=${this.hass}
          @frigate-card:media:loaded=${t=>{lw(i,t)}}
          @frigate-card:media:unloaded=${t=>{dw(i,t)}}
        >
        </frigate-card-live-provider>
      </div>
    `}_getCameraNeighbors(){var t,e;if(!this.cameras||!this.view||!this.hass)return[null,null];const i=Array.from(this.cameras.keys()),n=i.indexOf(this.view.camera);if(n<0||this.cameras.size<=1)return[null,null];return[null!==(t=this.cameras.get(i[n>0?n-1:this.cameras.size-1]))&&void 0!==t?t:null,null!==(e=this.cameras.get(i[n+1<this.cameras.size?n+1:0]))&&void 0!==e?e:null]}render(){const[t,e]=this._getSlides();if(this._cameraToSlide=e,!(t.length&&this.liveConfig&&this.cameras&&this.view))return;const i=eg(this.liveConfig,this.liveOverrides,this.conditionState),[n,o]=this._getCameraNeighbors(),r=uy(this.hass,this.cameras.get(this.view.camera));return K`
      <frigate-card-media-carousel
        ${Gt(this._refMediaCarousel)}
        .carouselOptions=${J_([this.cameras,this.liveConfig],this._getOptions.bind(this))}
        .carouselPlugins=${J_([this.cameras,this.liveConfig],this._getPlugins.bind(this))}
        .label="${r?`${Sg("common.live")}: ${r}`:""}"
        .titlePopupConfig=${i.controls.title}
        transitionEffect=${this._getTransitionEffect()}
        @frigate-card:media-carousel:select=${this._setViewHandler.bind(this)}
        @frigate-card:carousel:settle=${()=>{Dg(this,"view:change-context",{thumbnails:{fetch:!0}})}}
      >
        <frigate-card-next-previous-control
          slot="previous"
          .hass=${this.hass}
          .direction=${"previous"}
          .controlConfig=${i.controls.next_previous}
          .label=${uy(this.hass,n)}
          .icon=${Ay(this.hass,n)}
          ?disabled=${null==n}
          @click=${t=>{var e,i;null===(i=null===(e=this._refMediaCarousel.value)||void 0===e?void 0:e.frigateCardCarousel())||void 0===i||i.carouselScrollPrevious(),Vm(t)}}
        >
        </frigate-card-next-previous-control>
        ${t}
        <frigate-card-next-previous-control
          slot="next"
          .hass=${this.hass}
          .direction=${"next"}
          .controlConfig=${i.controls.next_previous}
          .label=${uy(this.hass,o)}
          .icon=${Ay(this.hass,o)}
          ?disabled=${null==o}
          @click=${t=>{var e,i;null===(i=null===(e=this._refMediaCarousel.value)||void 0===e?void 0:e.frigateCardCarousel())||void 0===i||i.carouselScrollNext(),Vm(t)}}
        >
        </frigate-card-next-previous-control>
      </frigate-card-media-carousel>
    `}static get styles(){return _(".embla__slide {\n  height: 100%;\n  flex: 0 0 100%;\n}")}};t([yt({attribute:!1})],yw.prototype,"hass",void 0),t([yt({attribute:!1})],yw.prototype,"view",void 0),t([yt({attribute:!1})],yw.prototype,"cameras",void 0),t([yt({attribute:!1})],yw.prototype,"liveConfig",void 0),t([yt({attribute:!1,hasChanged:Tg})],yw.prototype,"liveOverrides",void 0),t([yt({attribute:!1})],yw.prototype,"inBackground",void 0),t([yt({attribute:!1})],yw.prototype,"conditionState",void 0),yw=t([vt("frigate-card-live-carousel")],yw);let _w=class extends gt{constructor(){super(...arguments),this.disabled=!1,this.label="",this._isVideoMediaLoaded=!1,this._providerRef=zt()}play(){var t;null===(t=this._providerRef.value)||void 0===t||t.play()}pause(){var t;null===(t=this._providerRef.value)||void 0===t||t.pause()}mute(){var t;null===(t=this._providerRef.value)||void 0===t||t.mute()}unmute(){var t;null===(t=this._providerRef.value)||void 0===t||t.unmute()}seek(t){var e;null===(e=this._providerRef.value)||void 0===e||e.seek(t)}_getResolvedProvider(){var t,e,i,n,o,r,s,a;return"auto"===(null===(t=this.cameraConfig)||void 0===t?void 0:t.live_provider)?(null===(i=null===(e=this.cameraConfig)||void 0===e?void 0:e.webrtc_card)||void 0===i?void 0:i.entity)||(null===(o=null===(n=this.cameraConfig)||void 0===n?void 0:n.webrtc_card)||void 0===o?void 0:o.url)?"webrtc-card":(null===(r=this.cameraConfig)||void 0===r?void 0:r.camera_entity)?"ha":(null===(s=this.cameraConfig)||void 0===s?void 0:s.frigate.camera_name)?"frigate-jsmpeg":Pm.cameras.live_provider:(null===(a=this.cameraConfig)||void 0===a?void 0:a.live_provider)||Pm.cameras.live_provider}_shouldShowImageDuringLoading(){var t,e;return!!(null===(t=this.cameraConfig)||void 0===t?void 0:t.camera_entity)&&!!this.hass&&!!(null===(e=this.liveConfig)||void 0===e?void 0:e.show_image_during_load)}disconnectedCallback(){this._isVideoMediaLoaded=!1}_videoMediaShowHandler(){this._isVideoMediaLoaded=!0}willUpdate(t){var e;t.has("disabled")&&this.disabled&&(this._isVideoMediaLoaded=!1,Dg(this,"media:unloaded")),t.has("liveConfig")&&Zy(this,null===(e=this.liveConfig)||void 0===e?void 0:e.layout)}render(){if(this.disabled||!this.hass||!this.liveConfig||!this.cameraConfig)return;this.title=this.label,this.ariaLabel=this.label;const t=this._getResolvedProvider(),e=!this._isVideoMediaLoaded&&this._shouldShowImageDuringLoading(),i={hidden:e};return K`
      ${e?K`<frigate-card-image
            .imageConfig=${{mode:"camera",refresh_seconds:1}}
            .hass=${this.hass}
            .cameraConfig=${this.cameraConfig}
          >
          </frigate-card-image>`:K``}
      ${"ha"===t?K` <frigate-card-live-ha
            ${Gt(this._providerRef)}
            class=${Dt(i)}
            .hass=${this.hass}
            .cameraConfig=${this.cameraConfig}
            @frigate-card:media:loaded=${this._videoMediaShowHandler.bind(this)}
          >
          </frigate-card-live-ha>`:"webrtc-card"===t?K`<frigate-card-live-webrtc-card
            ${Gt(this._providerRef)}
            class=${Dt(i)}
            .hass=${this.hass}
            .cameraConfig=${this.cameraConfig}
            .webRTCConfig=${this.liveConfig.webrtc_card}
            @frigate-card:media:loaded=${this._videoMediaShowHandler.bind(this)}
          >
          </frigate-card-live-webrtc-card>`:K` <frigate-card-live-jsmpeg
            ${Gt(this._providerRef)}
            class=${Dt(i)}
            .hass=${this.hass}
            .cameraConfig=${this.cameraConfig}
            .jsmpegConfig=${this.liveConfig.jsmpeg}
            @frigate-card:media:loaded=${this._videoMediaShowHandler.bind(this)}
          >
          </frigate-card-live-jsmpeg>`}
    `}static get styles(){return _(".hidden {\n  display: none;\n}")}};t([yt({attribute:!1})],_w.prototype,"hass",void 0),t([yt({attribute:!1})],_w.prototype,"cameraConfig",void 0),t([yt({attribute:!1})],_w.prototype,"liveConfig",void 0),t([yt({attribute:!0,type:Boolean})],_w.prototype,"disabled",void 0),t([yt({attribute:!1})],_w.prototype,"label",void 0),t([_t()],_w.prototype,"_isVideoMediaLoaded",void 0),_w=t([vt("frigate-card-live-provider")],_w);let ww=class extends gt{constructor(){super(...arguments),this._playerRef=zt()}play(){var t;null===(t=this._playerRef.value)||void 0===t||t.play()}pause(){var t;null===(t=this._playerRef.value)||void 0===t||t.pause()}mute(){var t;null===(t=this._playerRef.value)||void 0===t||t.mute()}unmute(){var t;null===(t=this._playerRef.value)||void 0===t||t.unmute()}seek(t){var e;null===(e=this._playerRef.value)||void 0===e||e.seek(t)}render(){var t;if(!this.hass)return;if(!(null===(t=this.cameraConfig)||void 0===t?void 0:t.camera_entity))return Gg(this,Sg("error.no_live_camera"),{context:this.cameraConfig});const e=this.hass.states[this.cameraConfig.camera_entity];return e?"unavailable"===e.state?Hg(this,Sg("error.live_camera_unavailable"),"info",{icon:"mdi:connection",context:uy(this.hass,this.cameraConfig)}):K` <frigate-card-ha-camera-stream
      ${Gt(this._playerRef)}
      .hass=${this.hass}
      .stateObj=${e}
      .controls=${!0}
      .muted=${!0}
    >
    </frigate-card-ha-camera-stream>`:Gg(this,Sg("error.live_camera_not_found"),{context:this.cameraConfig})}static get styles(){return _(":host {\n  width: 100%;\n  height: 100%;\n  display: block;\n  --video-max-height: none;\n}")}};t([yt({attribute:!1})],ww.prototype,"hass",void 0),t([yt({attribute:!1})],ww.prototype,"cameraConfig",void 0),ww=t([vt("frigate-card-live-ha")],ww);let Cw=class extends gt{constructor(){super(...arguments),this._webrtcTask=new jy(this,this._getWebRTCCardElement,(()=>[1]))}play(){var t;null===(t=this._getPlayer())||void 0===t||t.play().catch((()=>{}))}pause(){var t;null===(t=this._getPlayer())||void 0===t||t.pause()}mute(){const t=this._getPlayer();t&&(t.muted=!0)}unmute(){const t=this._getPlayer();t&&(t.muted=!1)}seek(t){const e=this._getPlayer();e&&(e.currentTime=t)}_getPlayer(){var t;return null===(t=this.renderRoot)||void 0===t?void 0:t.querySelector("#video")}async _getWebRTCCardElement(){return await customElements.whenDefined("webrtc-camera"),customElements.get("webrtc-camera")}_createWebRTC(){var t,e,i,n;const o=this._webrtcTask.value;if(o&&this.hass){const r=new o,s=Object.assign({},this.webRTCConfig);return s.url||(s.url=null===(e=null===(t=this.cameraConfig)||void 0===t?void 0:t.webrtc_card)||void 0===e?void 0:e.url),s.entity||(s.entity=null===(n=null===(i=this.cameraConfig)||void 0===i?void 0:i.webrtc_card)||void 0===n?void 0:n.entity),r.setConfig(s),r.hass=this.hass,r}return null}render(){return Fy(this,this._webrtcTask,(()=>{let t;try{t=this._createWebRTC()}catch(t){return Gg(this,t instanceof fp?t.message:Sg("error.webrtc_card_reported_error")+": "+t.message,{context:t.context})}return t&&(t.id="webrtc"),K`${t}`}),(()=>Ug(Sg("error.webrtc_card_waiting"))))}updated(){this.updateComplete.then((()=>{const t=this._getPlayer();if(t){const e=t.onloadeddata;t.onloadeddata=i=>{e&&e.call(t,i),t_(this,t)}}}))}static get styles(){return _(":host {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n/* Don't drop shadow or have radius for nested webrtc card */\n#webrtc ha-card {\n  border-radius: 0px;\n  background-color: unset;\n  margin: 0px;\n  box-shadow: none;\n}\n\n#webrtc #video {\n  object-fit: var(--frigate-card-media-layout-fit, contain);\n  object-position: var(--frigate-card-media-layout-position-x, 50%) var(--frigate-card-media-layout-position-y, 50%);\n}")}};t([yt({attribute:!1,hasChanged:Tg})],Cw.prototype,"webRTCConfig",void 0),t([yt({attribute:!1})],Cw.prototype,"cameraConfig",void 0),Cw=t([vt("frigate-card-live-webrtc-card")],Cw);let Iw=class extends gt{play(){var t;null===(t=this._jsmpegVideoPlayer)||void 0===t||t.play()}pause(){var t;null===(t=this._jsmpegVideoPlayer)||void 0===t||t.stop()}mute(){var t;const e=null===(t=this._jsmpegVideoPlayer)||void 0===t?void 0:t.player;e&&(e.volume=0)}unmute(){var t;const e=null===(t=this._jsmpegVideoPlayer)||void 0===t?void 0:t.player;e&&(e.volume=1)}seek(t){}async _getURL(){var t,e;if(!this.hass||!(null===(t=this.cameraConfig)||void 0===t?void 0:t.frigate.client_id)||!(null===(e=this.cameraConfig)||void 0===e?void 0:e.frigate.camera_name))return null;let i;try{i=await ey(this.hass,`/api/frigate/${this.cameraConfig.frigate.client_id}/jsmpeg/${this.cameraConfig.frigate.camera_name}`,86400)}catch(t){return Og(t),null}return i?i.replace(/^http/i,"ws"):null}async _createJSMPEGPlayer(t){return new Promise((e=>{var i;let n=!1;const o=new R_.VideoElement(this,t,{canvas:this._jsmpegCanvasElement},Object.assign(Object.assign({pauseWhenHidden:!1,autoplay:!1,protocols:[],audio:!1,videoBufferSize:4194304},null===(i=this.jsmpegConfig)||void 0===i?void 0:i.options),{reconnectInterval:0,onVideoDecode:()=>{!n&&this._jsmpegCanvasElement&&(n=!0,t_(this,this._jsmpegCanvasElement),e(o))}}))}))}_resetPlayer(){if(this._refreshPlayerTimerID&&(window.clearTimeout(this._refreshPlayerTimerID),this._refreshPlayerTimerID=void 0),this._jsmpegVideoPlayer){try{this._jsmpegVideoPlayer.destroy()}catch(t){}this._jsmpegVideoPlayer=void 0}this._jsmpegCanvasElement&&(this._jsmpegCanvasElement.remove(),this._jsmpegCanvasElement=void 0)}connectedCallback(){super.connectedCallback(),this.isConnected&&this.requestUpdate()}disconnectedCallback(){this.isConnected||this._resetPlayer(),super.disconnectedCallback()}async _refreshPlayer(){var t;if(this._resetPlayer(),this._jsmpegCanvasElement=document.createElement("canvas"),this._jsmpegCanvasElement.className="media",!(null===(t=this.cameraConfig)||void 0===t?void 0:t.frigate.camera_name))return Gg(this,Sg("error.no_camera_name"),{context:this.cameraConfig});const e=await this._getURL();e?(this._jsmpegVideoPlayer=await this._createJSMPEGPlayer(e),this._refreshPlayerTimerID=window.setTimeout((()=>{this.requestUpdate()}),828e5)):Gg(this,Sg("error.jsmpeg_no_sign"))}render(){return K`${Vt((async()=>(await this._refreshPlayer(),this._jsmpegVideoPlayer&&this._jsmpegCanvasElement?K`${this._jsmpegCanvasElement}`:Gg(this,Sg("error.jsmpeg_no_player"))))(),Ug())}`}static get styles(){return _(":host {\n  width: 100%;\n  height: 100%;\n  display: flex;\n}\n\ncanvas {\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: var(--frigate-card-media-layout-fit, contain);\n  object-position: var(--frigate-card-media-layout-position-x, 50%) var(--frigate-card-media-layout-position-y, 50%);\n}")}};t([yt({attribute:!1})],Iw.prototype,"cameraConfig",void 0),t([yt({attribute:!1,hasChanged:Tg})],Iw.prototype,"jsmpegConfig",void 0),Iw=t([vt("frigate-card-live-jsmpeg")],Iw);let Ew=class extends gt{_renderItem(t){if(!this.hass)return;const e=sy(this.hass,Object.assign({},t));return K`
      <mwc-list-item
        style="${qt(e.style||{})}"
        graphic=${nw(e.icon?"icon":void 0)}
        ?twoline=${!!t.subtitle}
        ?selected=${t.selected}
        ?activated=${t.selected}
        ?disabled=${!1===t.enabled}
        aria-label="${e.title||""}"
        @action=${e=>{e.detail.config=t}}
        .actionHandler=${Zm({hasHold:Wm(t.hold_action),hasDoubleClick:Wm(t.double_tap_action)})}
      >
        <span>${e.title||""}</span>
        ${t.subtitle?K`<span slot="secondary">${t.subtitle}</span>`:""}
        ${(t=>t.icon?K` <ha-icon
          style="${qt(t.style||{})}"
          data-domain=${nw(t.data_domain)}
          data-state=${nw(t.data_state)}
          slot="graphic"
          icon="${t.icon||""}"
        >
        </ha-icon>`:K``)(e)}
      </mwc-list-item>
    `}render(){return this.submenu?K`
      <ha-button-menu
        corner=${"BOTTOM_LEFT"}
        @closed=${t=>t.stopPropagation()}
        @click=${t=>Vm(t)}
      >
        <ha-icon-button
          style="${qt(this.submenu.style||{})}"
          class="button"
          slot="trigger"
          .label=${this.submenu.title||""}
          .actionHandler=${Zm({allowPropagation:!0,hasHold:Wm(this.submenu.hold_action),hasDoubleClick:Wm(this.submenu.double_tap_action)})}
        >
          <ha-icon icon="${this.submenu.icon}"></ha-icon>
        </ha-icon-button>
        ${this.submenu.items.map(this._renderItem.bind(this))}
      </ha-button-menu>
    `:K``}static get styles(){return _("ha-icon-button.button {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 0px;\n  margin: 3px;\n  --ha-icon-display: block;\n  /* Buttons can always be clicked */\n  pointer-events: auto;\n  opacity: 0.9;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\nha-icon[data-domain=alert][data-state=on],\nha-icon[data-domain=automation][data-state=on],\nha-icon[data-domain=binary_sensor][data-state=on],\nha-icon[data-domain=calendar][data-state=on],\nha-icon[data-domain=camera][data-state=streaming],\nha-icon[data-domain=cover][data-state=open],\nha-icon[data-domain=fan][data-state=on],\nha-icon[data-domain=humidifier][data-state=on],\nha-icon[data-domain=light][data-state=on],\nha-icon[data-domain=input_boolean][data-state=on],\nha-icon[data-domain=lock][data-state=unlocked],\nha-icon[data-domain=media_player][data-state=on],\nha-icon[data-domain=media_player][data-state=paused],\nha-icon[data-domain=media_player][data-state=playing],\nha-icon[data-domain=script][data-state=on],\nha-icon[data-domain=sun][data-state=above_horizon],\nha-icon[data-domain=switch][data-state=on],\nha-icon[data-domain=timer][data-state=active],\nha-icon[data-domain=vacuum][data-state=cleaning],\nha-icon[data-domain=group][data-state=on],\nha-icon[data-domain=group][data-state=home],\nha-icon[data-domain=group][data-state=open],\nha-icon[data-domain=group][data-state=locked],\nha-icon[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=pending],\nha-icon[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=plant][data-state=problem],\nha-icon[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\nha-icon-button[data-domain=alert][data-state=on],\nha-icon-button[data-domain=automation][data-state=on],\nha-icon-button[data-domain=binary_sensor][data-state=on],\nha-icon-button[data-domain=calendar][data-state=on],\nha-icon-button[data-domain=camera][data-state=streaming],\nha-icon-button[data-domain=cover][data-state=open],\nha-icon-button[data-domain=fan][data-state=on],\nha-icon-button[data-domain=humidifier][data-state=on],\nha-icon-button[data-domain=light][data-state=on],\nha-icon-button[data-domain=input_boolean][data-state=on],\nha-icon-button[data-domain=lock][data-state=unlocked],\nha-icon-button[data-domain=media_player][data-state=on],\nha-icon-button[data-domain=media_player][data-state=paused],\nha-icon-button[data-domain=media_player][data-state=playing],\nha-icon-button[data-domain=script][data-state=on],\nha-icon-button[data-domain=sun][data-state=above_horizon],\nha-icon-button[data-domain=switch][data-state=on],\nha-icon-button[data-domain=timer][data-state=active],\nha-icon-button[data-domain=vacuum][data-state=cleaning],\nha-icon-button[data-domain=group][data-state=on],\nha-icon-button[data-domain=group][data-state=home],\nha-icon-button[data-domain=group][data-state=open],\nha-icon-button[data-domain=group][data-state=locked],\nha-icon-button[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon-button[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon-button[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon-button[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon-button[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=pending],\nha-icon-button[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=plant][data-state=problem],\nha-icon-button[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon-button[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\n:host {\n  pointer-events: auto;\n}\n\nmwc-list-item {\n  z-index: 20;\n}")}};t([yt({attribute:!1})],Ew.prototype,"hass",void 0),t([yt({attribute:!1})],Ew.prototype,"submenu",void 0),Ew=t([vt("frigate-card-submenu")],Ew);let xw=class extends gt{shouldUpdate(t){const e=t.get("hass");return 1!=t.size||!this.submenuSelect||!!e&&ny(this.hass,e,[this.submenuSelect.entity])}willUpdate(){var t;if(!this.submenuSelect||!this.hass)return;const e=this.submenuSelect.entity,i=this.hass.states[e],n=null===(t=null==i?void 0:i.attributes)||void 0===t?void 0:t.options;if(!i||!n)return;const o=Object.assign(Object.assign(Object.assign({icon:Zb("select")},sy(this.hass,this.submenuSelect)),this.submenuSelect),{type:"custom:frigate-card-menu-submenu",items:[]});delete o.options;for(const t of n){const n=i.attributes.device_class?this.hass.localize(`component.select.state.${i.attributes.device_class}.${t}`):t;o.items.push(Object.assign(Object.assign({state_color:!0,selected:i.state===t,enabled:!0,title:n||t},(e.startsWith("select.")||e.startsWith("input_select."))&&{tap_action:{action:"call-service",service:e.startsWith("select.")?"select.select_option":"input_select.select_option",service_data:{entity_id:e,option:t}}}),this.submenuSelect.options&&this.submenuSelect.options[t]))}this._generatedSubmenu=o}render(){return K` <frigate-card-submenu
      .hass=${this.hass}
      .submenu=${this._generatedSubmenu}
    ></frigate-card-submenu>`}};var Bw;t([yt({attribute:!1})],xw.prototype,"hass",void 0),t([yt({attribute:!1})],xw.prototype,"submenuSelect",void 0),xw=t([vt("frigate-card-submenu-select")],xw);let kw=Bw=class extends gt{constructor(){super(...arguments),this.expanded=!1,this.buttons=[]}set menuConfig(t){this._menuConfig=t,t&&this.style.setProperty("--frigate-card-menu-button-size",`${t.button_size}px`),this.setAttribute("data-style",t.style),this.setAttribute("data-position",t.position),this.setAttribute("data-alignment",t.alignment)}static isHidingMenu(t){var e;return null!==(e="hidden"===(null==t?void 0:t.style))&&void 0!==e&&e}toggleMenu(){this._isHidingMenu()&&(this.expanded=!this.expanded)}_isHidingMenu(){return Bw.isHidingMenu(this._menuConfig)}_isMenuToggleAction(t){if(!t)return!1;const e=Gm(t);return!!e&&"menu_toggle"==e.frigate_card_action}_actionHandler(t,e){if(!t)return;t.detail.config&&(e=t.detail.config),t.stopPropagation();const i=t.detail.action;let n=Ym(i,e);if(!e||!i)return;let o=!1,r=!1;if(Array.isArray(n)){const t=n.length;n=n.filter((t=>!this._isMenuToggleAction(t))),n.length!=t&&(r=!0),n.length&&(o=$m(this,this.hass,e,i,n))}else this._isMenuToggleAction(n)?r=!0:o=$m(this,this.hass,e,i,n);this._isHidingMenu()&&(r?this.expanded=!this.expanded:o&&(this.expanded=!1))}willUpdate(t){var e;const i=null===(e=this._menuConfig)||void 0===e?void 0:e.style,n=(t,e)=>{if("hidden"===i){if("frigate"===t.icon)return-1;if("frigate"===e.icon)return 1}return void 0===t.priority||void 0!==e.priority&&e.priority>t.priority?1:void 0===e.priority||void 0!==t.priority&&e.priority<t.priority?-1:0};(t.has("_menuConfig")||t.has("buttons"))&&this.buttons.sort(n)}_renderButton(t){if(!1===t.enabled)return;if("custom:frigate-card-menu-submenu"===t.type)return K` <frigate-card-submenu
        .hass=${this.hass}
        .submenu=${t}
        @action=${this._actionHandler.bind(this)}
      >
      </frigate-card-submenu>`;if("custom:frigate-card-menu-submenu-select"===t.type)return K` <frigate-card-submenu-select
        .hass=${this.hass}
        .submenuSelect=${t}
        @action=${this._actionHandler.bind(this)}
      >
      </frigate-card-submenu-select>`;let e=Object.assign({},t);const i="frigate"===e.icon?Dy:"";this.hass&&"custom:frigate-card-menu-state-icon"===t.type&&(e=sy(this.hass,e));const n=Wm(t.hold_action),o=Wm(t.double_tap_action);return K` <ha-icon-button
      data-domain=${nw(e.data_domain)}
      data-state=${nw(e.data_state)}
      class="${Dt({button:!0})}"
      style="${qt(e.style||{})}"
      .actionHandler=${Zm({hasHold:n,hasDoubleClick:o})}
      .label=${e.title||""}
      @action=${e=>this._actionHandler(e,t)}
    >
      ${i?K`<ha-svg-icon .path="${i}"></ha-svg-icon>`:K`<ha-icon
            icon="${e.icon||"mdi:gesture-tap-button"}"
          ></ha-icon>`}
    </ha-icon-button>`}render(){if(!this._menuConfig)return;const t=this._menuConfig.style;if("none"===t)return;const e="hidden"!==t||this.expanded?this.buttons.filter((t=>!t.alignment||"matching"===t.alignment)):this.buttons.filter((t=>"frigate"===t.icon)),i="hidden"!==t||this.expanded?this.buttons.filter((t=>"opposing"===t.alignment)):[],n={flex:String(e.length)},o={flex:String(i.length)};return K` <div class="matching" style="${qt(n)}">
        ${e.map((t=>this._renderButton(t)))}
      </div>
      <div class="opposing" style="${qt(o)}">
        ${i.map((t=>this._renderButton(t)))}
      </div>`}static get styles(){return _('ha-icon-button.button {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 0px;\n  margin: 3px;\n  --ha-icon-display: block;\n  /* Buttons can always be clicked */\n  pointer-events: auto;\n  opacity: 0.9;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\nha-icon[data-domain=alert][data-state=on],\nha-icon[data-domain=automation][data-state=on],\nha-icon[data-domain=binary_sensor][data-state=on],\nha-icon[data-domain=calendar][data-state=on],\nha-icon[data-domain=camera][data-state=streaming],\nha-icon[data-domain=cover][data-state=open],\nha-icon[data-domain=fan][data-state=on],\nha-icon[data-domain=humidifier][data-state=on],\nha-icon[data-domain=light][data-state=on],\nha-icon[data-domain=input_boolean][data-state=on],\nha-icon[data-domain=lock][data-state=unlocked],\nha-icon[data-domain=media_player][data-state=on],\nha-icon[data-domain=media_player][data-state=paused],\nha-icon[data-domain=media_player][data-state=playing],\nha-icon[data-domain=script][data-state=on],\nha-icon[data-domain=sun][data-state=above_horizon],\nha-icon[data-domain=switch][data-state=on],\nha-icon[data-domain=timer][data-state=active],\nha-icon[data-domain=vacuum][data-state=cleaning],\nha-icon[data-domain=group][data-state=on],\nha-icon[data-domain=group][data-state=home],\nha-icon[data-domain=group][data-state=open],\nha-icon[data-domain=group][data-state=locked],\nha-icon[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=pending],\nha-icon[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=plant][data-state=problem],\nha-icon[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\nha-icon-button[data-domain=alert][data-state=on],\nha-icon-button[data-domain=automation][data-state=on],\nha-icon-button[data-domain=binary_sensor][data-state=on],\nha-icon-button[data-domain=calendar][data-state=on],\nha-icon-button[data-domain=camera][data-state=streaming],\nha-icon-button[data-domain=cover][data-state=open],\nha-icon-button[data-domain=fan][data-state=on],\nha-icon-button[data-domain=humidifier][data-state=on],\nha-icon-button[data-domain=light][data-state=on],\nha-icon-button[data-domain=input_boolean][data-state=on],\nha-icon-button[data-domain=lock][data-state=unlocked],\nha-icon-button[data-domain=media_player][data-state=on],\nha-icon-button[data-domain=media_player][data-state=paused],\nha-icon-button[data-domain=media_player][data-state=playing],\nha-icon-button[data-domain=script][data-state=on],\nha-icon-button[data-domain=sun][data-state=above_horizon],\nha-icon-button[data-domain=switch][data-state=on],\nha-icon-button[data-domain=timer][data-state=active],\nha-icon-button[data-domain=vacuum][data-state=cleaning],\nha-icon-button[data-domain=group][data-state=on],\nha-icon-button[data-domain=group][data-state=home],\nha-icon-button[data-domain=group][data-state=open],\nha-icon-button[data-domain=group][data-state=locked],\nha-icon-button[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon-button[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon-button[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon-button[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon-button[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=pending],\nha-icon-button[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=plant][data-state=problem],\nha-icon-button[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon-button[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\n:host {\n  --frigate-card-menu-button-size: 40px;\n  --mdc-icon-button-size: var(--frigate-card-menu-button-size);\n  --mdc-icon-size: calc(var(--mdc-icon-button-size) / 2);\n  pointer-events: none;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n/***********************************\n * Aligned divs: matching & opposing\n ***********************************/\ndiv.matching,\ndiv.opposing {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  align-items: flex-start;\n  min-width: 0px;\n  min-height: 0px;\n}\n\ndiv.matching {\n  justify-content: flex-start;\n}\n\ndiv.opposing {\n  justify-content: flex-end;\n}\n\n/********************\n * Outside menu style\n ********************/\n:host([data-style=outside]) {\n  width: 100%;\n  background: var(--secondary-background-color);\n}\n\n/************************************\n * Match menu rounded corners to card\n ************************************/\n:host([data-position=top]),\n:host([data-position=left]) {\n  border-top-left-radius: var(--ha-card-border-radius, 4px);\n}\n\n:host([data-position=top]),\n:host([data-position=right]) {\n  border-top-right-radius: var(--ha-card-border-radius, 4px);\n}\n\n:host([data-position=bottom]),\n:host([data-position=left]) {\n  border-bottom-left-radius: var(--ha-card-border-radius, 4px);\n}\n\n:host([data-position=bottom]),\n:host([data-position=right]) {\n  border-bottom-right-radius: var(--ha-card-border-radius, 4px);\n}\n\n/**************************************\n * Positioning for absolute menu styles\n **************************************/\n:host(:not([data-style=outside])[data-position=top]),\n:host(:not([data-style=outside])[data-position=left][data-alignment=top]),\n:host(:not([data-style=outside])[data-position=right][data-alignment=top]) {\n  top: 0px;\n}\n\n:host(:not([data-style=outside])[data-position=bottom]),\n:host(:not([data-style=outside])[data-position=left][data-alignment=bottom]),\n:host(:not([data-style=outside])[data-position=right][data-alignment=bottom]) {\n  bottom: 0px;\n}\n\n:host(:not([data-style=outside])[data-position=left]),\n:host(:not([data-style=outside])[data-position=top][data-alignment=left]),\n:host(:not([data-style=outside])[data-position=bottom][data-alignment=left]) {\n  left: 0px;\n}\n\n:host(:not([data-style=outside])[data-position=right]),\n:host(:not([data-style=outside])[data-position=top][data-alignment=right]),\n:host(:not([data-style=outside])[data-position=bottom][data-alignment=right]) {\n  right: 0px;\n}\n\n/********************************************************\n * Hack: Ensure host & div expand for column flex layouts\n ********************************************************/\n:host(:not([data-style=outside])[data-position=left]) {\n  writing-mode: vertical-lr;\n}\n\n:host(:not([data-style=outside])[data-position=right]) {\n  writing-mode: vertical-rl;\n}\n\n:host(:not([data-style=outside])[data-style=overlay][data-position=left]) div > *,\n:host(:not([data-style=outside])[data-style=overlay][data-position=right]) div > *,\n:host(:not([data-style=outside])[data-style=hover][data-position=left]) div > *,\n:host(:not([data-style=outside])[data-style=hover][data-position=right]) div > *,\n:host(:not([data-style=outside])[data-style=hidden][data-position=left]) div > *,\n:host(:not([data-style=outside])[data-style=hidden][data-position=right]) div > * {\n  writing-mode: horizontal-tb;\n}\n\n/**********************\n * "Reverse" alignments\n **********************/\n:host(:not([data-style=outside])[data-position=left][data-alignment=bottom]),\n:host(:not([data-style=outside])[data-position=right][data-alignment=bottom]),\n:host([data-position=top][data-alignment=right]),\n:host([data-position=bottom][data-alignment=right]),\n:host(:not([data-style=outside])[data-position=left][data-alignment=bottom]) div,\n:host(:not([data-style=outside])[data-position=right][data-alignment=bottom]) div,\n:host([data-position=top][data-alignment=right]) div,\n:host([data-position=bottom][data-alignment=right]) div {\n  flex-direction: row-reverse;\n}\n\n/****************************\n * Wrap upwards on the bottom\n ****************************/\n:host(:not([data-style=outside])[data-position=bottom]) div {\n  flex-wrap: wrap-reverse;\n}\n\n/********************************************\n * Positioning for absolute based menu styles\n ********************************************/\n:host([data-style=overlay]),\n:host([data-style=hover]),\n:host([data-style=hidden]) {\n  position: absolute;\n  overflow: hidden;\n  width: calc(var(--frigate-card-menu-button-size) + 6px);\n  height: calc(var(--frigate-card-menu-button-size) + 6px);\n}\n\n:host([data-style=overlay][data-position=top]),\n:host([data-style=overlay][data-position=bottom]),\n:host([data-style=hover][data-position=top]),\n:host([data-style=hover][data-position=bottom]),\n:host([data-style=hidden][data-position=top][expanded]),\n:host([data-style=hidden][data-position=bottom][expanded]) {\n  width: 100%;\n  height: auto;\n  overflow: visible;\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0));\n}\n\n:host([data-style=overlay][data-position=left]),\n:host([data-style=overlay][data-position=right]),\n:host([data-style=hover][data-position=left]),\n:host([data-style=hover][data-position=right]),\n:host([data-style=hidden][data-position=left][expanded]),\n:host([data-style=hidden][data-position=right][expanded]) {\n  height: 100%;\n  width: auto;\n  overflow: visible;\n  background: linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0));\n}')}};t([yt({attribute:!1})],kw.prototype,"hass",void 0),t([yt({attribute:!0,type:Boolean,reflect:!0})],kw.prototype,"expanded",void 0),t([_t()],kw.prototype,"_menuConfig",void 0),t([yt({attribute:!1})],kw.prototype,"buttons",void 0),kw=Bw=t([vt("frigate-card-menu")],kw);let Sw=class extends gt{constructor(){super(),this._refCarousel=zt(),this._selected=null,this._carouselPlugins=[W_({forceWheelAxis:"y"})],this._resizeObserver=new ResizeObserver(this._resizeHandler.bind(this))}set selected(t){this._selected=t,this.style.setProperty("--frigate-card-carousel-thumbnail-opacity",null===t?"1.0":"0.4")}_resizeHandler(){var t;null===(t=this._refCarousel.value)||void 0===t||t.carouselReInitWhenSafe()}connectedCallback(){super.connectedCallback(),this._resizeObserver.observe(this)}disconnectedCallback(){this._resizeObserver.disconnect(),super.disconnectedCallback()}_getOptions(){var t;return{containScroll:"keepSnaps",dragFree:!0,startIndex:null!==(t=this._selected)&&void 0!==t?t:0}}_getSlides(){if(!this.target||!this.target.children||!this.target.children.length)return[];const t=[];for(let e=0;e<this.target.children.length;++e){const i=this._renderThumbnail(this.target,e,t.length);i&&t.push(i)}return t}willUpdate(t){var e;if(t.has("config")){(null===(e=this.config)||void 0===e?void 0:e.size)&&this.style.setProperty("--frigate-card-thumbnail-size",`${this.config.size}px`);const t=this._getDirection();t?this.setAttribute("direction",t):this.removeAttribute("direction")}this._carouselOptions||(this._carouselOptions=this._getOptions())}updated(t){super.updated(t),t.has("_selected")&&this.updateComplete.then((()=>{var t;null!==this._selected&&(null===(t=this._refCarousel.value)||void 0===t||t.carouselScrollTo(this._selected))}))}_renderThumbnail(t,e,i){var n,o,r,s,a;if(!t.children||!t.children.length||!my(t.children[e]))return;const l={embla__slide:!0,"slide-selected":this._selected===e},d=(null===(n=this.view)||void 0===n?void 0:n.camera)?null===(o=this.cameras)||void 0===o?void 0:o.get(this.view.camera):null;return K` <frigate-card-thumbnail
      .hass=${this.hass}
      .view=${this.view}
      .target=${t}
      .childIndex=${e}
      .clientID=${null==d?void 0:d.frigate.client_id}
      ?details=${null===(r=this.config)||void 0===r?void 0:r.show_details}
      ?show_favorite_control=${null===(s=this.config)||void 0===s?void 0:s.show_favorite_control}
      ?show_timeline_control=${null===(a=this.config)||void 0===a?void 0:a.show_timeline_control}
      class="${Dt(l)}"
      @click=${n=>{var o;(null===(o=this._refCarousel.value)||void 0===o?void 0:o.carouselClickAllowed())&&Dg(this,"thumbnail-carousel:tap",{slideIndex:i,target:t,childIndex:e}),Vm(n)}}
    >
    </frigate-card-thumbnail>`}_getDirection(){var t,e,i,n;return"left"===(null===(t=this.config)||void 0===t?void 0:t.mode)||"right"===(null===(e=this.config)||void 0===e?void 0:e.mode)?"vertical":"above"===(null===(i=this.config)||void 0===i?void 0:i.mode)||"below"===(null===(n=this.config)||void 0===n?void 0:n.mode)?"horizontal":void 0}render(){const t=this._getSlides();if(t.length&&this.config&&"none"!==this.config.mode)return K`<frigate-card-carousel
      ${Gt(this._refCarousel)}
      direction=${nw(this._getDirection())}
      .carouselOptions=${this._carouselOptions}
      .carouselPlugins=${this._carouselPlugins}
    >
      ${t}
    </frigate-card-carousel>`}static get styles(){return _(":host {\n  --frigate-card-thumbnail-size-max: 175px;\n  --frigate-card-thumbnail-details-width: calc(\n    var(--frigate-card-thumbnail-size) + 200px\n  );\n}\n\n:host {\n  display: block;\n  width: 100%;\n  height: 100%;\n  --frigate-card-carousel-thumbnail-opacity: 1;\n}\n\n:host([direction=vertical]) {\n  height: 100%;\n}\n\n:host([direction=horizontal]) {\n  height: auto;\n}\n\n.embla__slide {\n  flex: 0 0 auto;\n  opacity: var(--frigate-card-carousel-thumbnail-opacity);\n}\n\n.embla__slide.slide-selected {\n  opacity: 1;\n}\n\nfrigate-card-thumbnail {\n  width: var(--frigate-card-thumbnail-size);\n  height: var(--frigate-card-thumbnail-size);\n}\n\nfrigate-card-thumbnail[details] {\n  width: var(--frigate-card-thumbnail-details-width);\n}")}};t([yt({attribute:!1})],Sw.prototype,"hass",void 0),t([yt({attribute:!1})],Sw.prototype,"view",void 0),t([yt({attribute:!1,hasChanged:Tg})],Sw.prototype,"target",void 0),t([yt({attribute:!1})],Sw.prototype,"cameras",void 0),t([yt({attribute:!1})],Sw.prototype,"config",void 0),t([_t()],Sw.prototype,"_selected",void 0),t([yt({attribute:!1})],Sw.prototype,"selected",null),Sw=t([vt("frigate-card-thumbnail-carousel")],Sw);var Dw={exports:{}};!function(t){function e(t){if(t)return function(t){for(var i in e.prototype)t[i]=e.prototype[i];return t}(t)}Dw.exports=e,e.prototype.on=e.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},e.prototype.once=function(t,e){function i(){this.off(t,i),e.apply(this,arguments)}return i.fn=e,this.on(t,i),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i,n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var o=0;o<n.length;o++)if((i=n[o])===e||i.fn===e){n.splice(o,1);break}return 0===n.length&&delete this._callbacks["$"+t],this},e.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),i=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(i){n=0;for(var o=(i=i.slice(0)).length;n<o;++n)i[n].apply(this,e)}return this},e.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},e.prototype.hasListeners=function(t){return!!this.listeners(t).length}}();var Qw,Mw=Dw.exports;
/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Tw(){return Tw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Tw.apply(this,arguments)}function Ow(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Rw(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Qw="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o])}return e}:Object.assign;var Pw,Nw=Qw,Fw=["","webkit","Moz","MS","ms","o"],Lw="undefined"==typeof document?{style:{}}:document.createElement("div"),jw=Math.round,zw=Math.abs,Uw=Date.now;function Hw(t,e){for(var i,n,o=e[0].toUpperCase()+e.slice(1),r=0;r<Fw.length;){if((n=(i=Fw[r])?i+o:e)in t)return n;r++}}Pw="undefined"==typeof window?{}:window;var Gw=Hw(Lw.style,"touchAction"),qw=void 0!==Gw;var Yw=function(){if(!qw)return!1;var t={},e=Pw.CSS&&Pw.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){return t[i]=!e||Pw.CSS.supports("touch-action",i)})),t}(),$w="ontouchstart"in Pw,Ww=void 0!==Hw(Pw,"PointerEvent"),Vw=$w&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Jw=["x","y"],Kw=["clientX","clientY"];function Zw(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function Xw(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function tC(t,e){return t.indexOf(e)>-1}var eC=function(){function t(t,e){this.manager=t,this.set(e)}var e=t.prototype;return e.set=function(t){"compute"===t&&(t=this.compute()),qw&&this.manager.element.style&&Yw[t]&&(this.manager.element.style[Gw]=t),this.actions=t.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var t=[];return Zw(this.manager.recognizers,(function(e){Xw(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(tC(t,"none"))return"none";var e=tC(t,"pan-x"),i=tC(t,"pan-y");return e&&i?"none":e||i?e?"pan-x":"pan-y":tC(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},e.preventDefaults=function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,o=tC(n,"none")&&!Yw.none,r=tC(n,"pan-y")&&!Yw["pan-y"],s=tC(n,"pan-x")&&!Yw["pan-x"];if(o){var a=1===t.pointers.length,l=t.distance<2,d=t.deltaTime<250;if(a&&l&&d)return}if(!s||!r)return o||r&&6&i||s&&24&i?this.preventSrc(e):void 0}},e.preventSrc=function(t){this.manager.session.prevented=!0,t.preventDefault()},t}();function iC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function nC(t){var e=t.length;if(1===e)return{x:jw(t[0].clientX),y:jw(t[0].clientY)};for(var i=0,n=0,o=0;o<e;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:jw(i/e),y:jw(n/e)}}function oC(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:jw(t.pointers[i].clientX),clientY:jw(t.pointers[i].clientY)},i++;return{timeStamp:Uw(),pointers:e,center:nC(e),deltaX:t.deltaX,deltaY:t.deltaY}}function rC(t,e,i){i||(i=Jw);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function sC(t,e,i){i||(i=Jw);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function aC(t,e){return t===e?1:zw(t)>=zw(e)?t<0?2:4:e<0?8:16}function lC(t,e,i){return{x:e/t||0,y:i/t||0}}function dC(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=oC(e)),o>1&&!i.firstMultiple?i.firstMultiple=oC(e):1===o&&(i.firstMultiple=!1);var r=i.firstInput,s=i.firstMultiple,a=s?s.center:r.center,l=e.center=nC(n);e.timeStamp=Uw(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=sC(a,l),e.distance=rC(a,l),function(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},r=t.prevInput||{};1!==e.eventType&&4!==r.eventType||(o=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}(i,e),e.offsetDirection=aC(e.deltaX,e.deltaY);var d,c,h=lC(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=h.x,e.overallVelocityY=h.y,e.overallVelocity=zw(h.x)>zw(h.y)?h.x:h.y,e.scale=s?(d=s.pointers,rC((c=n)[0],c[1],Kw)/rC(d[0],d[1],Kw)):1,e.rotation=s?function(t,e){return sC(e[1],e[0],Kw)+sC(t[1],t[0],Kw)}(s.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,o,r,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var l=e.deltaX-s.deltaX,d=e.deltaY-s.deltaY,c=lC(a,l,d);n=c.x,o=c.y,i=zw(c.x)>zw(c.y)?c.x:c.y,r=aC(l,d),t.lastInterval=e}else i=s.velocity,n=s.velocityX,o=s.velocityY,r=s.direction;e.velocity=i,e.velocityX=n,e.velocityY=o,e.direction=r}(i,e);var u,A=t.element,p=e.srcEvent;iC(u=p.composedPath?p.composedPath()[0]:p.path?p.path[0]:p.target,A)&&(A=u),e.target=A}function cC(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,r=1&e&&n-o==0,s=12&e&&n-o==0;i.isFirst=!!r,i.isFinal=!!s,r&&(t.session={}),i.eventType=e,dC(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function hC(t){return t.trim().split(/\s+/g)}function uC(t,e,i){Zw(hC(e),(function(e){t.addEventListener(e,i,!1)}))}function AC(t,e,i){Zw(hC(e),(function(e){t.removeEventListener(e,i,!1)}))}function pC(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var mC=function(){function t(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){Xw(t.options.enable,[t])&&i.handler(e)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&uC(this.element,this.evEl,this.domHandler),this.evTarget&&uC(this.target,this.evTarget,this.domHandler),this.evWin&&uC(pC(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&AC(this.element,this.evEl,this.domHandler),this.evTarget&&AC(this.target,this.evTarget,this.domHandler),this.evWin&&AC(pC(this.element),this.evWin,this.domHandler)},t}();function gC(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}var fC={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},vC={2:"touch",3:"pen",4:"mouse",5:"kinect"},bC="pointerdown",yC="pointermove pointerup pointercancel";Pw.MSPointerEvent&&!Pw.PointerEvent&&(bC="MSPointerDown",yC="MSPointerMove MSPointerUp MSPointerCancel");var _C=function(t){function e(){var i,n=e.prototype;return n.evEl=bC,n.evWin=yC,(i=t.apply(this,arguments)||this).store=i.manager.session.pointerEvents=[],i}return Ow(e,t),e.prototype.handler=function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=fC[n],r=vC[t.pointerType]||t.pointerType,s="touch"===r,a=gC(e,t.pointerId,"pointerId");1&o&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):12&o&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))},e}(mC);function wC(t){return Array.prototype.slice.call(t,0)}function CC(t,e,i){for(var n=[],o=[],r=0;r<t.length;){var s=e?t[r][e]:t[r];gC(o,s)<0&&n.push(t[r]),o[r]=s,r++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}var IC={touchstart:1,touchmove:2,touchend:4,touchcancel:8},EC=function(t){function e(){var i;return e.prototype.evTarget="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).targetIds={},i}return Ow(e,t),e.prototype.handler=function(t){var e=IC[t.type],i=xC.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})},e}(mC);function xC(t,e){var i,n,o=wC(t.touches),r=this.targetIds;if(3&e&&1===o.length)return r[o[0].identifier]=!0,[o,o];var s=wC(t.changedTouches),a=[],l=this.target;if(n=o.filter((function(t){return iC(t.target,l)})),1===e)for(i=0;i<n.length;)r[n[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[CC(n.concat(a),"identifier",!0),a]:void 0}var BC={mousedown:1,mousemove:2,mouseup:4},kC=function(t){function e(){var i,n=e.prototype;return n.evEl="mousedown",n.evWin="mousemove mouseup",(i=t.apply(this,arguments)||this).pressed=!1,i}return Ow(e,t),e.prototype.handler=function(t){var e=BC[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))},e}(mC);function SC(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY},n=this.lastTouches;this.lastTouches.push(i);setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function DC(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,SC.call(this,e)):12&t&&SC.call(this,e)}function QC(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var o=this.lastTouches[n],r=Math.abs(e-o.x),s=Math.abs(i-o.y);if(r<=25&&s<=25)return!0}return!1}var MC=function(){return function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handler=function(t,e,i){var o="touch"===i.pointerType,r="mouse"===i.pointerType;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(o)DC.call(Rw(Rw(n)),e,i);else if(r&&QC.call(Rw(Rw(n)),i))return;n.callback(t,e,i)}},n.touch=new EC(n.manager,n.handler),n.mouse=new kC(n.manager,n.handler),n.primaryTouch=null,n.lastTouches=[],n}return Ow(e,t),e.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},e}(mC)}();function TC(t,e,i){return!!Array.isArray(t)&&(Zw(t,i[e],i),!0)}var OC=1;function RC(t,e){var i=e.manager;return i?i.get(t):t}function PC(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}var NC=function(){function t(t){void 0===t&&(t={}),this.options=Tw({enable:!0},t),this.id=OC++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(t){return Nw(this.options,t),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(t){if(TC(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=RC(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},e.dropRecognizeWith=function(t){return TC(t,"dropRecognizeWith",this)||(t=RC(t,this),delete this.simultaneous[t.id]),this},e.requireFailure=function(t){if(TC(t,"requireFailure",this))return this;var e=this.requireFail;return-1===gC(e,t=RC(t,this))&&(e.push(t),t.requireFailure(this)),this},e.dropRequireFailure=function(t){if(TC(t,"dropRequireFailure",this))return this;t=RC(t,this);var e=gC(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(t){return!!this.simultaneous[t.id]},e.emit=function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+PC(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+PC(i))},e.tryEmit=function(t){if(this.canEmit())return this.emit(t);this.state=32},e.canEmit=function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},e.recognize=function(t){var e=Nw({},t);if(!Xw(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},e.process=function(t){},e.getTouchAction=function(){},e.reset=function(){},t}(),FC=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Tw({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},e))||this).pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}Ow(e,t);var i=e.prototype;return i.getTouchAction=function(){return["manipulation"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime<i.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(o&&r&&n){if(4!==t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<i.interval,a=!this.pCenter||rC(this.pCenter,t.center)<i.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t,0===this.count%i.taps)return this.hasRequireFailures()?(this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.interval),2):8}return 32},i.failTimeout=function(){var t=this;return this._timer=setTimeout((function(){t.state=32}),this.options.interval),32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(NC),LC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Tw({pointers:1},e))||this}Ow(e,t);var i=e.prototype;return i.attrTest=function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},i.process=function(t){var e=this.state,i=t.eventType,n=6&e,o=this.attrTest(t);return n&&(8&i||!o)?16|e:n||o?4&i?8|e:2&e?4|e:2:32},e}(NC);function jC(t){return 16===t?"down":8===t?"up":2===t?"left":4===t?"right":""}var zC=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Tw({event:"pan",threshold:10,pointers:1,direction:30},e))||this).pX=null,i.pY=null,i}Ow(e,t);var i=e.prototype;return i.getTouchAction=function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},i.directionTest=function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(6&e.direction?(o=0===r?1:r<0?2:4,i=r!==this.pX,n=Math.abs(t.deltaX)):(o=0===s?1:s<0?8:16,i=s!==this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},i.attrTest=function(t){return LC.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},i.emit=function(e){this.pX=e.deltaX,this.pY=e.deltaY;var i=jC(e.direction);i&&(e.additionalEvent=this.options.event+i),t.prototype.emit.call(this,e)},e}(LC),UC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Tw({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},e))||this}Ow(e,t);var i=e.prototype;return i.getTouchAction=function(){return zC.prototype.getTouchAction.call(this)},i.attrTest=function(e){var i,n=this.options.direction;return 30&n?i=e.overallVelocity:6&n?i=e.overallVelocityX:24&n&&(i=e.overallVelocityY),t.prototype.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers===this.options.pointers&&zw(i)>this.options.velocity&&4&e.eventType},i.emit=function(t){var e=jC(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)},e}(LC),HC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Tw({event:"pinch",threshold:0,pointers:2},e))||this}Ow(e,t);var i=e.prototype;return i.getTouchAction=function(){return["none"]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},i.emit=function(e){if(1!==e.scale){var i=e.scale<1?"in":"out";e.additionalEvent=this.options.event+i}t.prototype.emit.call(this,e)},e}(LC),GC=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Tw({event:"rotate",threshold:0,pointers:2},e))||this}Ow(e,t);var i=e.prototype;return i.getTouchAction=function(){return["none"]},i.attrTest=function(e){return t.prototype.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)},e}(LC),qC=function(t){function e(e){var i;return void 0===e&&(e={}),(i=t.call(this,Tw({event:"press",pointers:1,time:251,threshold:9},e))||this)._timer=null,i._input=null,i}Ow(e,t);var i=e.prototype;return i.getTouchAction=function(){return["auto"]},i.process=function(t){var e=this,i=this.options,n=t.pointers.length===i.pointers,o=t.distance<i.threshold,r=t.deltaTime>i.time;if(this._input=t,!o||!n||12&t.eventType&&!r)this.reset();else if(1&t.eventType)this.reset(),this._timer=setTimeout((function(){e.state=8,e.tryEmit()}),i.time);else if(4&t.eventType)return 8;return 32},i.reset=function(){clearTimeout(this._timer)},i.emit=function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=Uw(),this.manager.emit(this.options.event,this._input)))},e}(NC),YC={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},$C=[[GC,{enable:!1}],[HC,{enable:!1},["rotate"]],[UC,{direction:6}],[zC,{direction:6},["swipe"]],[FC],[FC,{event:"doubletap",taps:2},["tap"]],[qC]];function WC(t,e){var i,n=t.element;n.style&&(Zw(t.options.cssProps,(function(o,r){i=Hw(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=o):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}var VC=function(){function t(t,e){var i,n=this;this.options=Nw({},YC,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(Ww?_C:Vw?EC:$w?MC:kC))(i,cC),this.touchAction=new eC(this,this.options.touchAction),WC(this,!0),Zw(this.options.recognizers,(function(t){var e=n.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}var e=t.prototype;return e.set=function(t){return Nw(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},e.stop=function(t){this.session.stopped=t?2:1},e.recognize=function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,o=e.curRecognizer;(!o||o&&8&o.state)&&(e.curRecognizer=null,o=null);for(var r=0;r<n.length;)i=n[r],2===e.stopped||o&&i!==o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&14&i.state&&(e.curRecognizer=i,o=i),r++}},e.get=function(t){if(t instanceof NC)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event===t)return e[i];return null},e.add=function(t){if(TC(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},e.remove=function(t){if(TC(t,"remove",this))return this;var e=this.get(t);if(t){var i=this.recognizers,n=gC(i,e);-1!==n&&(i.splice(n,1),this.touchAction.update())}return this},e.on=function(t,e){if(void 0===t||void 0===e)return this;var i=this.handlers;return Zw(hC(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this},e.off=function(t,e){if(void 0===t)return this;var i=this.handlers;return Zw(hC(t),(function(t){e?i[t]&&i[t].splice(gC(i[t],e),1):delete i[t]})),this},e.emit=function(t,e){this.options.domEvents&&function(t,e){var i=document.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},e.destroy=function(){this.element&&WC(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),JC={touchstart:1,touchmove:2,touchend:4,touchcancel:8},KC=function(t){function e(){var i,n=e.prototype;return n.evTarget="touchstart",n.evWin="touchstart touchmove touchend touchcancel",(i=t.apply(this,arguments)||this).started=!1,i}return Ow(e,t),e.prototype.handler=function(t){var e=JC[t.type];if(1===e&&(this.started=!0),this.started){var i=ZC.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}},e}(mC);function ZC(t,e){var i=wC(t.touches),n=wC(t.changedTouches);return 12&e&&(i=CC(i.concat(n),"identifier",!0)),[i,n]}function XC(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,i),t.apply(this,arguments)}}var tI=XC((function(t,e,i){for(var n=Object.keys(e),o=0;o<n.length;)(!i||i&&void 0===t[n[o]])&&(t[n[o]]=e[n[o]]),o++;return t}),"extend","Use `assign`."),eI=XC((function(t,e){return tI(t,e,!0)}),"merge","Use `assign`.");function iI(t,e,i){var n,o=e.prototype;(n=t.prototype=Object.create(o)).constructor=t,n._super=o,i&&Nw(n,i)}function nI(t,e){return function(){return t.apply(e,arguments)}}var oI=function(){var t=function(t,e){return void 0===e&&(e={}),new VC(t,Tw({recognizers:$C.concat()},e))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=30,t.DIRECTION_DOWN=16,t.DIRECTION_LEFT=2,t.DIRECTION_RIGHT=4,t.DIRECTION_UP=8,t.DIRECTION_HORIZONTAL=6,t.DIRECTION_VERTICAL=24,t.DIRECTION_NONE=1,t.DIRECTION_DOWN=16,t.INPUT_START=1,t.INPUT_MOVE=2,t.INPUT_END=4,t.INPUT_CANCEL=8,t.STATE_POSSIBLE=1,t.STATE_BEGAN=2,t.STATE_CHANGED=4,t.STATE_ENDED=8,t.STATE_RECOGNIZED=8,t.STATE_CANCELLED=16,t.STATE_FAILED=32,t.Manager=VC,t.Input=mC,t.TouchAction=eC,t.TouchInput=EC,t.MouseInput=kC,t.PointerEventInput=_C,t.TouchMouseInput=MC,t.SingleTouchInput=KC,t.Recognizer=NC,t.AttrRecognizer=LC,t.Tap=FC,t.Pan=zC,t.Swipe=UC,t.Pinch=HC,t.Rotate=GC,t.Press=qC,t.on=uC,t.off=AC,t.each=Zw,t.merge=eI,t.extend=tI,t.bindFn=nI,t.assign=Nw,t.inherit=iI,t.bindFn=nI,t.prefixed=Hw,t.toArray=wC,t.inArray=gC,t.uniqueArray=CC,t.splitStr=hC,t.boolOrFn=Xw,t.hasParent=iC,t.addEventListeners=uC,t.removeEventListeners=AC,t.defaults=Nw({},YC,{preset:$C}),t}();oI.defaults;
/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 5.0.3
 * @date    2022-03-04T18:53:16.725Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
const rI=Symbol("DELETE");function sI(t,...e){return aI({},t,...e)}function aI(...t){const e=lI(...t);return cI(e),e}function lI(...t){if(t.length<2)return t[0];if(t.length>2)return lI(aI(t[0],t[1]),...t.slice(2));const e=t[0],i=t[1];for(const t of Reflect.ownKeys(i))Object.prototype.propertyIsEnumerable.call(i,t)&&(i[t]===rI?delete e[t]:null===e[t]||null===i[t]||"object"!=typeof e[t]||"object"!=typeof i[t]||Array.isArray(e[t])||Array.isArray(i[t])?e[t]=dI(i[t]):e[t]=lI(e[t],i[t]));return e}function dI(t){return Array.isArray(t)?t.map((t=>dI(t))):"object"==typeof t&&null!==t?lI({},t):t}function cI(t){for(const e of Object.keys(t))t[e]===rI?delete t[e]:"object"==typeof t[e]&&null!==t[e]&&cI(t[e])}const hI="undefined"!=typeof window?window.Hammer||oI:function(){return function(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:()=>({set:t})}}()};function uI(t){this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push((()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)}));const e=hI(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push((()=>{e.destroy()}));["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((t=>{e.on(t,(t=>{t.srcEvent.stopPropagation()}))})),document&&document.body&&(this._onClick=e=>{(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(e.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push((()=>{document.body.removeEventListener("click",this._onClick)}))),this._escListener=t=>{("key"in t?"Escape"===t.key:27===t.keyCode)&&this.deactivate()}}Mw(uI.prototype),uI.current=null,uI.prototype.destroy=function(){this.deactivate();for(const t of this._cleanupQueue.splice(0).reverse())t()},uI.prototype.activate=function(){uI.current&&uI.current.deactivate(),uI.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)},uI.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")},uI.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};const AI=/^\/?Date\((-?\d+)/i,pI=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,mI=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,gI=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,fI=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function vI(t){return t instanceof Number||"number"==typeof t}function bI(t){return t instanceof String||"string"==typeof t}function yI(t){return"object"==typeof t&&null!==t}function _I(t,e,i,n){let o=!1;!0===n&&(o=null===e[i]&&void 0!==t[i]),o?delete t[i]:t[i]=e[i]}const wI=Object.assign;function CI(t,e,i=!1,n=!1){for(const o in e)(Object.prototype.hasOwnProperty.call(e,o)||!0===i)&&("object"==typeof e[o]&&null!==e[o]&&Object.getPrototypeOf(e[o])===Object.prototype?void 0===t[o]?t[o]=CI({},e[o],i):"object"==typeof t[o]&&null!==t[o]&&Object.getPrototypeOf(t[o])===Object.prototype?CI(t[o],e[o],i):_I(t,e,o,n):Array.isArray(e[o])?t[o]=e[o].slice():_I(t,e,o,n));return t}function II(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"===e?"Number":"boolean"===e?"Boolean":"string"===e?"String":void 0===e?"undefined":e}function EI(t,e){return[...t,e]}function xI(t){return t.slice()}const BI=Object.values;const kI={asBoolean:(t,e)=>("function"==typeof t&&(t=t()),null!=t?0!=t:e||null),asNumber:(t,e)=>("function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null),asString:(t,e)=>("function"==typeof t&&(t=t()),null!=t?String(t):e||null),asSize:(t,e)=>("function"==typeof t&&(t=t()),bI(t)?t:vI(t)?t+"px":e||null),asElement:(t,e)=>("function"==typeof t&&(t=t()),t||e||null)};function SI(t){let e;switch(t.length){case 3:case 4:return e=mI.exec(t),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=pI.exec(t),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function DI(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)}function QI(t,e,i){t/=255,e/=255,i/=255;const n=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));if(n===o)return{h:0,s:0,v:n};return{h:60*((t===n?3:i===n?1:5)-(t===n?e-i:i===n?t-e:i-t)/(o-n))/360,s:(o-n)/o,v:o}}const MI={split(t){const e={};return t.split(";").forEach((t=>{if(""!=t.trim()){const i=t.split(":"),n=i[0].trim(),o=i[1].trim();e[n]=o}})),e},join:t=>Object.keys(t).map((function(e){return e+": "+t[e]})).join("; ")};function TI(t,e,i){let n,o,r;const s=Math.floor(6*t),a=6*t-s,l=i*(1-e),d=i*(1-a*e),c=i*(1-(1-a)*e);switch(s%6){case 0:n=i,o=c,r=l;break;case 1:n=d,o=i,r=l;break;case 2:n=l,o=i,r=c;break;case 3:n=l,o=d,r=i;break;case 4:n=c,o=l,r=i;break;case 5:n=i,o=l,r=d}return{r:Math.floor(255*n),g:Math.floor(255*o),b:Math.floor(255*r)}}function OI(t,e,i){const n=TI(t,e,i);return DI(n.r,n.g,n.b)}function RI(t){const e=SI(t);if(!e)throw new TypeError(`'${t}' is not a valid color.`);return QI(e.r,e.g,e.b)}function PI(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function NI(t){return gI.test(t)}function FI(t){return fI.test(t)}function LI(t){if(null===t||"object"!=typeof t)return null;if(t instanceof Element)return t;const e=Object.create(t);for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&"object"==typeof t[i]&&(e[i]=LI(t[i]));return e}const jI={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>t*(2-t),easeInOutQuad:t=>t<.5?2*t*t:(4-2*t)*t-1,easeInCubic:t=>t*t*t,easeOutCubic:t=>--t*t*t+1,easeInOutCubic:t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1- --t*t*t*t,easeInOutQuart:t=>t<.5?8*t*t*t*t:1-8*--t*t*t*t,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1+--t*t*t*t*t,easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t};const zI={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class UI{constructor(t=1){this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}setCloseCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}_isColorString(t){if("string"==typeof t)return zI[t]}setColor(t,e=!0){if("none"===t)return;let i;const n=this._isColorString(t);if(void 0!==n&&(t=n),!0===bI(t)){if(!0===NI(t)){const e=t.substr(4).substr(0,t.length-5).split(",");i={r:e[0],g:e[1],b:e[2],a:1}}else if(!0===FI(t)){const e=t.substr(5).substr(0,t.length-6).split(",");i={r:e[0],g:e[1],b:e[2],a:e[3]}}else if(!0===PI(t)){const e=SI(t);i={r:e.r,g:e.g,b:e.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){const e=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:e}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(t=!0){!0===t&&(this.previousColor=Object.assign({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout((()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)}),0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(t,e=!0){!0===e&&(this.initialColor=Object.assign({},t)),this.color=t;const i=QI(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,r=this.centerCoordinates.x+o*Math.sin(n*i.h),s=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}_setOpacity(t){this.color.a=t/100,this._updatePicker(this.color)}_setBrightness(t){const e=QI(this.color.r,this.color.g,this.color.b);e.v=t/100;const i=TI(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(t=this.color){const e=QI(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const t=this;this.opacityRange.onchange=function(){t._setOpacity(this.value)},this.opacityRange.oninput=function(){t._setOpacity(this.value)},this.brightnessRange.onchange=function(){t._setBrightness(this.value)},this.brightnessRange.oninput=function(){t._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new hI(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",(t=>{t.isFirst&&this._moveSelector(t)})),this.hammer.on("tap",(t=>{this._moveSelector(t)})),this.hammer.on("panstart",(t=>{this._moveSelector(t)})),this.hammer.on("panmove",(t=>{this._moveSelector(t)})),this.hammer.on("panend",(t=>{this._moveSelector(t)}))}_generateHueCircle(){if(!1===this.generated){const t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const e=this.colorPickerCanvas.clientWidth,i=this.colorPickerCanvas.clientHeight;let n,o,r,s;t.clearRect(0,0,e,i),this.centerCoordinates={x:.5*e,y:.5*i},this.r=.49*e;const a=2*Math.PI/360,l=1/360,d=1/this.r;let c;for(r=0;r<360;r++)for(s=0;s<this.r;s++)n=this.centerCoordinates.x+s*Math.sin(a*r),o=this.centerCoordinates.y+s*Math.cos(a*r),c=TI(r*l,s*d,1),t.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",t.fillRect(n-.5,o-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,e,i)}this.generated=!0}_moveSelector(t){const e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=n-o,l=Math.atan2(s,a),d=.98*Math.min(Math.sqrt(s*s+a*a),r),c=Math.cos(l)*d+o,h=Math.sin(l)*d+r;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let u=l/(2*Math.PI);u=u<0?u+1:u;const A=d/this.r,p=QI(this.color.r,this.color.g,this.color.b);p.h=u,p.s=A;const m=TI(p.h,p.s,p.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}function HI(...t){if(t.length<1)throw new TypeError("Invalid arguments.");if(1===t.length)return document.createTextNode(t[0]);{const e=document.createElement(t[0]);return e.appendChild(HI(...t.slice(1))),e}}let GI,qI=!1;class YI{static validate(t,e,i){qI=!1,GI=e;let n=e;return void 0!==i&&(n=e[i]),YI.parse(t,n,[]),qI}static parse(t,e,i){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&YI.check(n,t,e,i)}static check(t,e,i,n){if(void 0===i[t]&&void 0===i.__any__)return void YI.getSuggestion(t,i,n);let o=t,r=!0;void 0===i[t]&&void 0!==i.__any__&&(o="__any__",r="object"===YI.getType(e[t]));let s=i[o];r&&void 0!==s.__type__&&(s=s.__type__),YI.checkFields(t,e,i,o,s,n)}static checkFields(t,e,i,n,o,r){const s=function(e){console.error("%c"+e+YI.printLocation(r,t),"background: #FFeeee; color: #dd0000")},a=YI.getType(e[t]),l=o[a];void 0!==l?"array"===YI.getType(l)&&-1===l.indexOf(e[t])?(s('Invalid option detected in "'+t+'". Allowed values are:'+YI.print(l)+' not "'+e[t]+'". '),qI=!0):"object"===a&&"__any__"!==n&&(r=EI(r,t),YI.parse(e[t],i[n],r)):void 0===o.any&&(s('Invalid type received for "'+t+'". Expected: '+YI.print(Object.keys(o))+". Received ["+a+'] "'+e[t]+'"'),qI=!0)}static getType(t){const e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(t,e,i){const n=YI.findInOptions(t,e,i,!1),o=YI.findInOptions(t,GI,[],!0);let r;r=void 0!==n.indexMatch?" in "+YI.printLocation(n.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+'"?\n\n':o.distance<=4&&n.distance>o.distance?" in "+YI.printLocation(n.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+YI.printLocation(o.path,o.closestMatch,""):n.distance<=8?'. Did you mean "'+n.closestMatch+'"?'+YI.printLocation(n.path,t):". Did you mean one of these: "+YI.print(Object.keys(e))+YI.printLocation(i,t),console.error('%cUnknown option detected: "'+t+'"'+r,"background: #FFeeee; color: #dd0000"),qI=!0}static findInOptions(t,e,i,n=!1){let o=1e9,r="",s=[];const a=t.toLowerCase();let l;for(const d in e){let c;if(void 0!==e[d].__type__&&!0===n){const n=YI.findInOptions(t,e[d],EI(i,d));o>n.distance&&(r=n.closestMatch,s=n.path,o=n.distance,l=n.indexMatch)}else-1!==d.toLowerCase().indexOf(a)&&(l=d),c=YI.levenshteinDistance(t,d),o>c&&(r=d,s=xI(i),o=c)}return{closestMatch:r,path:s,distance:o,indexMatch:l}}static printLocation(t,e,i="Problem value found at: \n"){let n="\n\n"+i+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)n+="  ";n+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)n+="  ";n+=e+"\n";for(let e=0;e<t.length+1;e++){for(let i=0;i<t.length-e;i++)n+="  ";n+="}\n"}return n+"\n\n"}static print(t){return JSON.stringify(t).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;const i=[];let n,o;for(n=0;n<=e.length;n++)i[n]=[n];for(o=0;o<=t.length;o++)i[0][o]=o;for(n=1;n<=e.length;n++)for(o=1;o<=t.length;o++)e.charAt(n-1)==t.charAt(o-1)?i[n][o]=i[n-1][o-1]:i[n][o]=Math.min(i[n-1][o-1]+1,Math.min(i[n][o-1]+1,i[n-1][o]+1));return i[e.length][t.length]}}const $I=uI,WI=UI,VI=class{constructor(t,e,i,n=1,o=(()=>!1)){this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new UI(n),this.wrapper=void 0}setOptions(t){if(void 0!==t){this.popupHistory={},this._removePopup();let e=!0;if("string"==typeof t)this.options.filter=t;else if(Array.isArray(t))this.options.filter=t.join();else if("object"==typeof t){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const t=this.options.filter;let e=0,i=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?(i=t(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):!0!==t&&-1===t.indexOf(n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}_clean(){for(let t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(t){let e=this.moduleOptions;for(let i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}_makeItem(t,...e){if(!0===this.allowCreation){const i=document.createElement("div");return i.className="vis-configuration vis-config-item vis-config-s"+t.length,e.forEach((t=>{i.appendChild(t)})),this.domElements.push(i),this.domElements.length}return 0}_makeHeader(t){const e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerText=t,this._makeItem([],e)}_makeLabel(t,e,i=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+e.length,!0===i){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(HI("i","b",t))}else n.innerText=t+":";return n}_makeDropdown(t,e,i){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(let e=0;e<t.length;e++){const i=document.createElement("option");i.value=t[e],e===o&&(i.selected="selected"),i.innerText=t[e],n.appendChild(i)}const r=this;n.onchange=function(){r._update(this.value,i)};const s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeRange(t,e,i){const n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(t){}a.step=s;let l="",d=0;if(void 0!==e){const t=1.2;e<0&&e*t<o?(a.min=Math.ceil(e*t),d=a.min,l="range increased"):e/t<o&&(a.min=Math.ceil(e/t),d=a.min,l="range increased"),e*t>r&&1!==r&&(a.max=Math.ceil(e*t),d=a.max,l="range increased"),a.value=e}else a.value=n;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=a.value;const h=this;a.onchange=function(){c.value=this.value,h._update(Number(this.value),i)},a.oninput=function(){c.value=this.value};const u=this._makeLabel(i[i.length-1],i),A=this._makeItem(i,u,a,c);""!==l&&this.popupHistory[A]!==d&&(this.popupHistory[A]=d,this._setupPopup(l,A))}_makeButton(){if(!0===this.options.showButton){const t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerText="generate options",t.onclick=()=>{this._printOptions()},t.onmouseover=()=>{t.className="vis-configuration vis-config-button hover"},t.onmouseout=()=>{t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}_setupPopup(t,e){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){const i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerText=t,i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((()=>{this.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((()=>{this._removePopup()}),1800)}}_makeCheckbox(t,e,i){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));const o=this;n.onchange=function(){o._update(this.checked,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeTextInput(t,e,i){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});const o=this;n.onchange=function(){o._update(this.value,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeColorField(t,e,i){const n=t[1],o=document.createElement("div");"none"!==(e=void 0===e?n:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,o.onclick=()=>{this._showColorPicker(e,o,i)};const r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}_showColorPicker(t,e,i){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((t=>{const n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,this._update(n,i)})),this.colorPicker.setCloseCallback((()=>{e.onclick=()=>{this._showColorPicker(t,e,i)}}))}_handleObject(t,e=[],i=!1){let n=!1;const o=this.options.filter;let r=!1;for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){n=!0;const a=t[s],l=EI(e,s);if("function"==typeof o&&(n=o(s,e),!1===n&&!Array.isArray(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i)),!1!==n){r=!0;const t=this._getValue(l);if(Array.isArray(a))this._handleArray(a,t,l);else if("string"==typeof a)this._makeTextInput(a,t,l);else if("boolean"==typeof a)this._makeCheckbox(a,t,l);else if(a instanceof Object){if(!this.hideOption(e,s,this.moduleOptions))if(void 0!==a.enabled){const t=EI(l,"enabled"),e=this._getValue(t);if(!0===e){const t=this._makeLabel(s,l,!0);this._makeItem(l,t),r=this._handleObject(a,l)||r}else this._makeCheckbox(a,e,l)}else{const t=this._makeLabel(s,l,!0);this._makeItem(l,t),r=this._handleObject(a,l)||r}}else console.error("dont know how to handle",a,s,l)}}return r}_handleArray(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}_update(t,e){const i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(t,e,i={}){let n=i;t="false"!==(t="true"===t||t)&&t;for(let i=0;i<e.length;i++)"global"!==e[i]&&(void 0===n[e[i]]&&(n[e[i]]={}),i!==e.length-1?n=n[e[i]]:n[e[i]]=t);return i}_printOptions(){const t=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(HI("pre","const options = "+JSON.stringify(t,null,2)))}getOptions(){const t={};for(let e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}},JI=hI,KI=class{constructor(t,e){this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(t,e){this.x=parseInt(t),this.y=parseInt(e)}setText(t){if(t instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(t)}else this.frame.innerText=t}show(t){if(void 0===t&&(t=!0),!0===t){const t=this.frame.clientHeight,e=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,n=this.frame.parentNode.clientWidth;let o=0,r=0;if("flip"==this.overflowMethod){let i=!1,s=!0;this.y-t<this.padding&&(s=!1),this.x+e>n-this.padding&&(i=!0),o=i?this.x-e:this.x,r=s?this.y-t:this.y}else r=this.y-t,r+t+this.padding>i&&(r=i-t-this.padding),r<this.padding&&(r=this.padding),o=this.x,o+e+this.padding>n&&(o=n-e-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=r+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},ZI=YI;var XI,tE=Object.freeze({__proto__:null,Activator:$I,Alea:function(...t){return function(t){let[e,i,n]=function(...t){const e=function(){let t=4022871197;return function(e){const i=e.toString();for(let e=0;e<i.length;e++){t+=i.charCodeAt(e);let n=.02519603282416938*t;t=n>>>0,n-=t,n*=t,t=n>>>0,n-=t,t+=4294967296*n}return 2.3283064365386963e-10*(t>>>0)}}();let i=e(" "),n=e(" "),o=e(" ");for(let r=0;r<t.length;r++)i-=e(t[r]),i<0&&(i+=1),n-=e(t[r]),n<0&&(n+=1),o-=e(t[r]),o<0&&(o+=1);return[i,n,o]}(t),o=1;const r=()=>{const t=2091639*e+2.3283064365386963e-10*o;return e=i,i=n,n=t-(o=0|t)};return r.uint32=()=>4294967296*r(),r.fract53=()=>r()+11102230246251565e-32*(2097152*r()|0),r.algorithm="Alea",r.seed=t,r.version="0.9",r}(t.length?t:[Date.now()])},ColorPicker:WI,Configurator:VI,DELETE:rI,HSVToHex:OI,HSVToRGB:TI,Hammer:JI,Popup:KI,RGBToHSV:QI,RGBToHex:DI,VALIDATOR_PRINT_STYLE:"background: #FFeeee; color: #dd0000",Validator:ZI,addClassName:function(t,e){let i=t.className.split(" ");const n=e.split(" ");i=i.concat(n.filter((function(t){return!i.includes(t)}))),t.className=i.join(" ")},addCssText:function(t,e){const i={...MI.split(t.style.cssText),...MI.split(e)};t.style.cssText=MI.join(i)},addEventListener:function(t,e,i,n){t.addEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.includes("Firefox")&&(e="DOMMouseScroll"),t.addEventListener(e,i,n)):t.attachEvent("on"+e,i)},binarySearchCustom:function(t,e,i,n){let o=0,r=0,s=t.length-1;for(;r<=s&&o<1e4;){const a=Math.floor((r+s)/2),l=t[a],d=e(void 0===n?l[i]:l[i][n]);if(0==d)return a;-1==d?r=a+1:s=a-1,o++}return-1},binarySearchValue:function(t,e,i,n,o){let r,s,a,l,d=0,c=0,h=t.length-1;for(o=null!=o?o:function(t,e){return t==e?0:t<e?-1:1};c<=h&&d<1e4;){if(l=Math.floor(.5*(h+c)),r=t[Math.max(0,l-1)][i],s=t[l][i],a=t[Math.min(t.length-1,l+1)][i],0==o(s,e))return l;if(o(r,e)<0&&o(s,e)>0)return"before"==n?Math.max(0,l-1):l;if(o(s,e)<0&&o(a,e)>0)return"before"==n?l:Math.min(t.length-1,l+1);o(s,e)<0?c=l+1:h=l-1,d++}return-1},bridgeObject:LI,copyAndExtendArray:EI,copyArray:xI,deepExtend:CI,deepObjectAssign:aI,easingFunctions:jI,equalArray:function(t,e){if(t.length!==e.length)return!1;for(let i=0,n=t.length;i<n;i++)if(t[i]!=e[i])return!1;return!0},extend:wI,fillIfDefined:function t(e,i,n=!1){for(const o in e)if(void 0!==i[o])if(null===i[o]||"object"!=typeof i[o])_I(e,i,o,n);else{const r=e[o],s=i[o];yI(r)&&yI(s)&&t(r,s,n)}},forEach:function(t,e){if(Array.isArray(t)){const i=t.length;for(let n=0;n<i;n++)e(t[n],n,t)}else for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&e(t[i],i,t)},getAbsoluteLeft:function(t){return t.getBoundingClientRect().left},getAbsoluteRight:function(t){return t.getBoundingClientRect().right},getAbsoluteTop:function(t){return t.getBoundingClientRect().top},getScrollBarWidth:function(){const t=document.createElement("p");t.style.width="100%",t.style.height="200px";const e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),document.body.appendChild(e);const i=t.offsetWidth;e.style.overflow="scroll";let n=t.offsetWidth;return i==n&&(n=e.clientWidth),document.body.removeChild(e),i-n},getTarget:function(t=window.event){let e=null;return t&&(t.target?e=t.target:t.srcElement&&(e=t.srcElement)),e instanceof Element&&(null==e.nodeType||3!=e.nodeType||(e=e.parentNode,e instanceof Element))?e:null},getType:II,hasParent:function(t,e){let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i=i.parentNode}return!1},hexToHSV:RI,hexToRGB:SI,insertSort:function(t,e){for(let i=0;i<t.length;i++){const n=t[i];let o;for(o=i;o>0&&e(n,t[o-1])<0;o--)t[o]=t[o-1];t[o]=n}return t},isDate:function(t){if(t instanceof Date)return!0;if(bI(t)){if(AI.exec(t))return!0;if(!isNaN(Date.parse(t)))return!0}return!1},isNumber:vI,isObject:yI,isString:bI,isValidHex:PI,isValidRGB:NI,isValidRGBA:FI,mergeOptions:function(t,e,i,n={}){const o=function(t){return null!=t},r=function(t){return null!==t&&"object"==typeof t};if(!r(t))throw new Error("Parameter mergeTarget must be an object");if(!r(e))throw new Error("Parameter options must be an object");if(!o(i))throw new Error("Parameter option must have a value");if(!r(n))throw new Error("Parameter globalOptions must be an object");const s=e[i],a=r(n)&&!function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(n),l=a?n[i]:void 0,d=l?l.enabled:void 0;if(void 0===s)return;if("boolean"==typeof s)return r(t[i])||(t[i]={}),void(t[i].enabled=s);if(null===s&&!r(t[i])){if(!o(l))return;t[i]=Object.create(l)}if(!r(s))return;let c=!0;void 0!==s.enabled?c=s.enabled:void 0!==d&&(c=l.enabled),function(t,e,i){r(t[i])||(t[i]={});const n=e[i],o=t[i];for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(o[t]=n[t])}(t,e,i),t[i].enabled=c},option:kI,overrideOpacity:function(t,e){if(t.includes("rgba"))return t;if(t.includes("rgb")){const i=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+i[0]+","+i[1]+","+i[2]+","+e+")"}{const i=SI(t);return null==i?t:"rgba("+i.r+","+i.g+","+i.b+","+e+")"}},parseColor:function(t,e){if(bI(t)){let e=t;if(NI(e)){const t=e.substr(4).substr(0,e.length-5).split(",").map((function(t){return parseInt(t)}));e=DI(t[0],t[1],t[2])}if(!0===PI(e)){const t=RI(e),i={h:t.h,s:.8*t.s,v:Math.min(1,1.02*t.v)},n={h:t.h,s:Math.min(1,1.25*t.s),v:.8*t.v},o=OI(n.h,n.s,n.v),r=OI(i.h,i.s,i.v);return{background:e,border:o,highlight:{background:r,border:o},hover:{background:r,border:o}}}return{background:e,border:e,highlight:{background:e,border:e},hover:{background:e,border:e}}}if(e){return{background:t.background||e.background,border:t.border||e.border,highlight:bI(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||e.highlight.background,border:t.highlight&&t.highlight.border||e.highlight.border},hover:bI(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||e.hover.border,background:t.hover&&t.hover.background||e.hover.background}}}return{background:t.background||void 0,border:t.border||void 0,highlight:bI(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:bI(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}},preventDefault:function(t){t||(t=window.event),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},pureDeepObjectAssign:sI,recursiveDOMDelete:function t(e){if(e)for(;!0===e.hasChildNodes();){const i=e.firstChild;i&&(t(i),e.removeChild(i))}},removeClassName:function(t,e){let i=t.className.split(" ");const n=e.split(" ");i=i.filter((function(t){return!n.includes(t)})),t.className=i.join(" ")},removeCssText:function(t,e){const i=MI.split(t.style.cssText),n=MI.split(e);for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&delete i[t];t.style.cssText=MI.join(i)},removeEventListener:function(t,e,i,n){t.removeEventListener?(void 0===n&&(n=!1),"mousewheel"===e&&navigator.userAgent.includes("Firefox")&&(e="DOMMouseScroll"),t.removeEventListener(e,i,n)):t.detachEvent("on"+e,i)},selectiveBridgeObject:function(t,e){if(null!==e&&"object"==typeof e){const i=Object.create(e);for(let n=0;n<t.length;n++)Object.prototype.hasOwnProperty.call(e,t[n])&&"object"==typeof e[t[n]]&&(i[t[n]]=LI(e[t[n]]));return i}return null},selectiveDeepExtend:function(t,e,i,n=!1){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(let o=0;o<t.length;o++){const r=t[o];if(Object.prototype.hasOwnProperty.call(i,r))if(i[r]&&i[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?CI(e[r],i[r],!1,n):_I(e,i,r,n);else{if(Array.isArray(i[r]))throw new TypeError("Arrays are not supported by deepExtend");_I(e,i,r,n)}}return e},selectiveExtend:function(t,e,...i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(const n of i)for(let i=0;i<t.length;i++){const o=t[i];n&&Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},selectiveNotDeepExtend:function(t,e,i,n=!1){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&!t.includes(o))if(i[o]&&i[o].constructor===Object)void 0===e[o]&&(e[o]={}),e[o].constructor===Object?CI(e[o],i[o]):_I(e,i,o,n);else if(Array.isArray(i[o])){e[o]=[];for(let t=0;t<i[o].length;t++)e[o].push(i[o][t])}else _I(e,i,o,n);return e},throttle:function(t){let e=!1;return()=>{e||(e=!0,requestAnimationFrame((()=>{e=!1,t()})))}},toArray:BI,topMost:function(t,e){let i;Array.isArray(e)||(e=[e]);for(const n of t)if(n){i=n[e[0]];for(let t=1;t<e.length;t++)i&&(i=i[e[t]]);if(void 0!==i)break}return i},updateProperty:function(t,e,i){return t[e]!==i&&(t[e]=i,!0)}}),eE=new Uint8Array(16);function iE(){if(!XI&&!(XI="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return XI(eE)}var nE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function oE(t){return"string"==typeof t&&nE.test(t)}for(var rE=[],sE=0;sE<256;++sE)rE.push((sE+256).toString(16).substr(1));function aE(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(rE[t[e+0]]+rE[t[e+1]]+rE[t[e+2]]+rE[t[e+3]]+"-"+rE[t[e+4]]+rE[t[e+5]]+"-"+rE[t[e+6]]+rE[t[e+7]]+"-"+rE[t[e+8]]+rE[t[e+9]]+"-"+rE[t[e+10]]+rE[t[e+11]]+rE[t[e+12]]+rE[t[e+13]]+rE[t[e+14]]+rE[t[e+15]]).toLowerCase();if(!oE(i))throw TypeError("Stringified UUID is invalid");return i}function lE(t,e,i){function n(t,n,o,r){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}(t)),"string"==typeof n&&(n=function(t){if(!oE(t))throw TypeError("Invalid UUID");var e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=255&e,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=255&e,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=255&e,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=255&e,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=255&e,i}(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+t.length);if(s.set(n),s.set(t,n.length),(s=i(s))[6]=15&s[6]|e,s[8]=63&s[8]|128,o){r=r||0;for(var a=0;a<16;++a)o[r+a]=s[a];return o}return aE(s)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n}function dE(t){return 14+(t+64>>>9<<4)+1}function cE(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function hE(t,e,i,n,o,r){return cE((s=cE(cE(e,t),cE(n,r)))<<(a=o)|s>>>32-a,i);var s,a}function uE(t,e,i,n,o,r,s){return hE(e&i|~e&n,t,e,o,r,s)}function AE(t,e,i,n,o,r,s){return hE(e&n|i&~n,t,e,o,r,s)}function pE(t,e,i,n,o,r,s){return hE(e^i^n,t,e,o,r,s)}function mE(t,e,i,n,o,r,s){return hE(i^(e|~n),t,e,o,r,s)}function gE(t,e,i){var n=(t=t||{}).random||(t.rng||iE)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){i=i||0;for(var o=0;o<16;++o)e[i+o]=n[o];return e}return aE(n)}function fE(t,e,i,n){switch(t){case 0:return e&i^~e&n;case 1:case 3:return e^i^n;case 2:return e&i^e&n^i&n}}function vE(t,e){return t<<e|t>>>32-e}lE("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(t){for(var e=[],i=32*t.length,n="0123456789abcdef",o=0;o<i;o+=8){var r=t[o>>5]>>>o%32&255,s=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);e.push(s)}return e}(function(t,e){t[e>>5]|=128<<e%32,t[dE(e)-1]=e;for(var i=1732584193,n=-271733879,o=-1732584194,r=271733878,s=0;s<t.length;s+=16){var a=i,l=n,d=o,c=r;i=uE(i,n,o,r,t[s],7,-680876936),r=uE(r,i,n,o,t[s+1],12,-389564586),o=uE(o,r,i,n,t[s+2],17,606105819),n=uE(n,o,r,i,t[s+3],22,-1044525330),i=uE(i,n,o,r,t[s+4],7,-176418897),r=uE(r,i,n,o,t[s+5],12,1200080426),o=uE(o,r,i,n,t[s+6],17,-1473231341),n=uE(n,o,r,i,t[s+7],22,-45705983),i=uE(i,n,o,r,t[s+8],7,1770035416),r=uE(r,i,n,o,t[s+9],12,-1958414417),o=uE(o,r,i,n,t[s+10],17,-42063),n=uE(n,o,r,i,t[s+11],22,-1990404162),i=uE(i,n,o,r,t[s+12],7,1804603682),r=uE(r,i,n,o,t[s+13],12,-40341101),o=uE(o,r,i,n,t[s+14],17,-1502002290),i=AE(i,n=uE(n,o,r,i,t[s+15],22,1236535329),o,r,t[s+1],5,-165796510),r=AE(r,i,n,o,t[s+6],9,-1069501632),o=AE(o,r,i,n,t[s+11],14,643717713),n=AE(n,o,r,i,t[s],20,-373897302),i=AE(i,n,o,r,t[s+5],5,-701558691),r=AE(r,i,n,o,t[s+10],9,38016083),o=AE(o,r,i,n,t[s+15],14,-660478335),n=AE(n,o,r,i,t[s+4],20,-405537848),i=AE(i,n,o,r,t[s+9],5,568446438),r=AE(r,i,n,o,t[s+14],9,-1019803690),o=AE(o,r,i,n,t[s+3],14,-187363961),n=AE(n,o,r,i,t[s+8],20,1163531501),i=AE(i,n,o,r,t[s+13],5,-1444681467),r=AE(r,i,n,o,t[s+2],9,-51403784),o=AE(o,r,i,n,t[s+7],14,1735328473),i=pE(i,n=AE(n,o,r,i,t[s+12],20,-1926607734),o,r,t[s+5],4,-378558),r=pE(r,i,n,o,t[s+8],11,-2022574463),o=pE(o,r,i,n,t[s+11],16,1839030562),n=pE(n,o,r,i,t[s+14],23,-35309556),i=pE(i,n,o,r,t[s+1],4,-1530992060),r=pE(r,i,n,o,t[s+4],11,1272893353),o=pE(o,r,i,n,t[s+7],16,-155497632),n=pE(n,o,r,i,t[s+10],23,-1094730640),i=pE(i,n,o,r,t[s+13],4,681279174),r=pE(r,i,n,o,t[s],11,-358537222),o=pE(o,r,i,n,t[s+3],16,-722521979),n=pE(n,o,r,i,t[s+6],23,76029189),i=pE(i,n,o,r,t[s+9],4,-640364487),r=pE(r,i,n,o,t[s+12],11,-421815835),o=pE(o,r,i,n,t[s+15],16,530742520),i=mE(i,n=pE(n,o,r,i,t[s+2],23,-995338651),o,r,t[s],6,-198630844),r=mE(r,i,n,o,t[s+7],10,1126891415),o=mE(o,r,i,n,t[s+14],15,-1416354905),n=mE(n,o,r,i,t[s+5],21,-57434055),i=mE(i,n,o,r,t[s+12],6,1700485571),r=mE(r,i,n,o,t[s+3],10,-1894986606),o=mE(o,r,i,n,t[s+10],15,-1051523),n=mE(n,o,r,i,t[s+1],21,-2054922799),i=mE(i,n,o,r,t[s+8],6,1873313359),r=mE(r,i,n,o,t[s+15],10,-30611744),o=mE(o,r,i,n,t[s+6],15,-1560198380),n=mE(n,o,r,i,t[s+13],21,1309151649),i=mE(i,n,o,r,t[s+4],6,-145523070),r=mE(r,i,n,o,t[s+11],10,-1120210379),o=mE(o,r,i,n,t[s+2],15,718787259),n=mE(n,o,r,i,t[s+9],21,-343485551),i=cE(i,a),n=cE(n,l),o=cE(o,d),r=cE(r,c)}return[i,n,o,r]}(function(t){if(0===t.length)return[];for(var e=8*t.length,i=new Uint32Array(dE(e)),n=0;n<e;n+=8)i[n>>5]|=(255&t[n/8])<<n%32;return i}(t),8*t.length))})),lE("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var o=0;o<n.length;++o)t.push(n.charCodeAt(o))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var r=t.length/4+2,s=Math.ceil(r/16),a=new Array(s),l=0;l<s;++l){for(var d=new Uint32Array(16),c=0;c<16;++c)d[c]=t[64*l+4*c]<<24|t[64*l+4*c+1]<<16|t[64*l+4*c+2]<<8|t[64*l+4*c+3];a[l]=d}a[s-1][14]=8*(t.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(t.length-1)&4294967295;for(var h=0;h<s;++h){for(var u=new Uint32Array(80),A=0;A<16;++A)u[A]=a[h][A];for(var p=16;p<80;++p)u[p]=vE(u[p-3]^u[p-8]^u[p-14]^u[p-16],1);for(var m=i[0],g=i[1],f=i[2],v=i[3],b=i[4],y=0;y<80;++y){var _=Math.floor(y/20),w=vE(m,5)+fE(_,g,f,v)+b+e[_]+u[y]>>>0;b=v,v=f,f=vE(g,30)>>>0,g=m,m=w}i[0]=i[0]+m>>>0,i[1]=i[1]+g>>>0,i[2]=i[2]+f>>>0,i[3]=i[3]+v>>>0,i[4]=i[4]+b>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}));class bE{_source;_transformers;_target;_listeners={add:this._add.bind(this),remove:this._remove.bind(this),update:this._update.bind(this)};constructor(t,e,i){this._source=t,this._transformers=e,this._target=i}all(){return this._target.update(this._transformItems(this._source.get())),this}start(){return this._source.on("add",this._listeners.add),this._source.on("remove",this._listeners.remove),this._source.on("update",this._listeners.update),this}stop(){return this._source.off("add",this._listeners.add),this._source.off("remove",this._listeners.remove),this._source.off("update",this._listeners.update),this}_transformItems(t){return this._transformers.reduce(((t,e)=>e(t)),t)}_add(t,e){null!=e&&this._target.add(this._transformItems(this._source.get(e.items)))}_update(t,e){null!=e&&this._target.update(this._transformItems(this._source.get(e.items)))}_remove(t,e){null!=e&&this._target.remove(this._transformItems(e.oldData))}}class yE{_source;_transformers=[];constructor(t){this._source=t}filter(t){return this._transformers.push((e=>e.filter(t))),this}map(t){return this._transformers.push((e=>e.map(t))),this}flatMap(t){return this._transformers.push((e=>e.flatMap(t))),this}to(t){return new bE(this._source,this._transformers,t)}}function _E(t){return"string"==typeof t||"number"==typeof t}class wE{delay;max;_queue=[];_timeout=null;_extended=null;constructor(t){this.delay=null,this.max=1/0,this.setOptions(t)}setOptions(t){t&&void 0!==t.delay&&(this.delay=t.delay),t&&void 0!==t.max&&(this.max=t.max),this._flushIfNeeded()}static extend(t,e){const i=new wE(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=()=>{i.flush()};const n=[{name:"flush",original:void 0}];if(e&&e.replace)for(let o=0;o<e.replace.length;o++){const r=e.replace[o];n.push({name:r,original:t[r]}),i.replace(t,r)}return i._extended={object:t,methods:n},i}destroy(){if(this.flush(),this._extended){const t=this._extended.object,e=this._extended.methods;for(let i=0;i<e.length;i++){const n=e[i];n.original?t[n.name]=n.original:delete t[n.name]}this._extended=null}}replace(t,e){const i=this,n=t[e];if(!n)throw new Error("Method "+e+" undefined");t[e]=function(...t){i.queue({args:t,fn:n,context:this})}}queue(t){"function"==typeof t?this._queue.push({fn:t}):this._queue.push(t),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&"number"==typeof this.delay&&(this._timeout=setTimeout((()=>{this.flush()}),this.delay))}flush(){this._queue.splice(0).forEach((t=>{t.fn.apply(t.context||t.fn,t.args||[])}))}}class CE{_subscribers={"*":[],add:[],remove:[],update:[]};_trigger(t,e,i){if("*"===t)throw new Error("Cannot trigger event *");[...this._subscribers[t],...this._subscribers["*"]].forEach((n=>{n(t,e,null!=i?i:null)}))}on(t,e){"function"==typeof e&&this._subscribers[t].push(e)}off(t,e){this._subscribers[t]=this._subscribers[t].filter((t=>t!==e))}subscribe=CE.prototype.on;unsubscribe=CE.prototype.off}class IE{_pairs;constructor(t){this._pairs=t}*[Symbol.iterator](){for(const[t,e]of this._pairs)yield[t,e]}*entries(){for(const[t,e]of this._pairs)yield[t,e]}*keys(){for(const[t]of this._pairs)yield t}*values(){for(const[,t]of this._pairs)yield t}toIdArray(){return[...this._pairs].map((t=>t[0]))}toItemArray(){return[...this._pairs].map((t=>t[1]))}toEntryArray(){return[...this._pairs]}toObjectMap(){const t=Object.create(null);for(const[e,i]of this._pairs)t[e]=i;return t}toMap(){return new Map(this._pairs)}toIdSet(){return new Set(this.toIdArray())}toItemSet(){return new Set(this.toItemArray())}cache(){return new IE([...this._pairs])}distinct(t){const e=new Set;for(const[i,n]of this._pairs)e.add(t(n,i));return e}filter(t){const e=this._pairs;return new IE({*[Symbol.iterator](){for(const[i,n]of e)t(n,i)&&(yield[i,n])}})}forEach(t){for(const[e,i]of this._pairs)t(i,e)}map(t){const e=this._pairs;return new IE({*[Symbol.iterator](){for(const[i,n]of e)yield[i,t(n,i)]}})}max(t){const e=this._pairs[Symbol.iterator]();let i=e.next();if(i.done)return null;let n=i.value[1],o=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){const[e,r]=i.value,s=t(r,e);s>o&&(o=s,n=r)}return n}min(t){const e=this._pairs[Symbol.iterator]();let i=e.next();if(i.done)return null;let n=i.value[1],o=t(i.value[1],i.value[0]);for(;!(i=e.next()).done;){const[e,r]=i.value,s=t(r,e);s<o&&(o=s,n=r)}return n}reduce(t,e){for(const[i,n]of this._pairs)e=t(e,n,i);return e}sort(t){return new IE({[Symbol.iterator]:()=>[...this._pairs].sort((([e,i],[n,o])=>t(i,o,e,n)))[Symbol.iterator]()})}}class EE extends CE{flush;length;get idProp(){return this._idProp}_options;_data;_idProp;_queue=null;constructor(t,e){super(),t&&!Array.isArray(t)&&(e=t,t=[]),this._options=e||{},this._data=new Map,this.length=0,this._idProp=this._options.fieldId||"id",t&&t.length&&this.add(t),this.setOptions(e)}setOptions(t){t&&void 0!==t.queue&&(!1===t.queue?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=wE.extend(this,{replace:["add","update","remove"]})),t.queue&&"object"==typeof t.queue&&this._queue.setOptions(t.queue)))}add(t,e){const i=[];let n;if(Array.isArray(t)){const e=t.map((t=>t[this._idProp]));if(e.some((t=>this._data.has(t))))throw new Error("A duplicate id was found in the parameter array.");for(let e=0,o=t.length;e<o;e++)n=this._addItem(t[e]),i.push(n)}else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");n=this._addItem(t),i.push(n)}return i.length&&this._trigger("add",{items:i},e),i}update(t,e){const i=[],n=[],o=[],r=[],s=this._idProp,a=t=>{const e=t[s];if(null!=e&&this._data.has(e)){const i=t,s=Object.assign({},this._data.get(e)),a=this._updateItem(i);n.push(a),r.push(i),o.push(s)}else{const e=this._addItem(t);i.push(e)}};if(Array.isArray(t))for(let e=0,i=t.length;e<i;e++)t[e]&&"object"==typeof t[e]?a(t[e]):console.warn("Ignoring input item, which is not an object at index "+e);else{if(!t||"object"!=typeof t)throw new Error("Unknown dataType");a(t)}if(i.length&&this._trigger("add",{items:i},e),n.length){const t={items:n,oldData:o,data:r};this._trigger("update",t,e)}return i.concat(n)}updateOnly(t,e){Array.isArray(t)||(t=[t]);const i=t.map((t=>{const e=this._data.get(t[this._idProp]);if(null==e)throw new Error("Updating non-existent items is not allowed.");return{oldData:e,update:t}})).map((({oldData:t,update:e})=>{const i=t[this._idProp],n=sI(t,e);return this._data.set(i,n),{id:i,oldData:t,updatedData:n}}));if(i.length){const t={items:i.map((t=>t.id)),oldData:i.map((t=>t.oldData)),data:i.map((t=>t.updatedData))};return this._trigger("update",t,e),t.items}return[]}get(t,e){let i,n,o;_E(t)?(i=t,o=e):Array.isArray(t)?(n=t,o=e):o=t;const r=o&&"Object"===o.returnType?"Object":"Array",s=o&&o.filter,a=[];let l,d,c;if(null!=i)l=this._data.get(i),l&&s&&!s(l)&&(l=void 0);else if(null!=n)for(let t=0,e=n.length;t<e;t++)l=this._data.get(n[t]),null==l||s&&!s(l)||a.push(l);else{d=[...this._data.keys()];for(let t=0,e=d.length;t<e;t++)c=d[t],l=this._data.get(c),null==l||s&&!s(l)||a.push(l)}if(o&&o.order&&null==i&&this._sort(a,o.order),o&&o.fields){const t=o.fields;if(null!=i&&null!=l)l=this._filterFields(l,t);else for(let e=0,i=a.length;e<i;e++)a[e]=this._filterFields(a[e],t)}if("Object"==r){const t={};for(let e=0,i=a.length;e<i;e++){const i=a[e];t[i[this._idProp]]=i}return t}return null!=i?l??null:a}getIds(t){const e=this._data,i=t&&t.filter,n=t&&t.order,o=[...e.keys()],r=[];if(i)if(n){const t=[];for(let e=0,n=o.length;e<n;e++){const n=o[e],r=this._data.get(n);null!=r&&i(r)&&t.push(r)}this._sort(t,n);for(let e=0,i=t.length;e<i;e++)r.push(t[e][this._idProp])}else for(let t=0,e=o.length;t<e;t++){const e=o[t],n=this._data.get(e);null!=n&&i(n)&&r.push(n[this._idProp])}else if(n){const t=[];for(let i=0,n=o.length;i<n;i++){const n=o[i];t.push(e.get(n))}this._sort(t,n);for(let e=0,i=t.length;e<i;e++)r.push(t[e][this._idProp])}else for(let t=0,i=o.length;t<i;t++){const i=o[t],n=e.get(i);null!=n&&r.push(n[this._idProp])}return r}getDataSet(){return this}forEach(t,e){const i=e&&e.filter,n=[...this._data.keys()];if(e&&e.order){const i=this.get(e);for(let e=0,n=i.length;e<n;e++){const n=i[e];t(n,n[this._idProp])}}else for(let e=0,o=n.length;e<o;e++){const o=n[e],r=this._data.get(o);null==r||i&&!i(r)||t(r,o)}}map(t,e){const i=e&&e.filter,n=[],o=[...this._data.keys()];for(let e=0,r=o.length;e<r;e++){const r=o[e],s=this._data.get(r);null==s||i&&!i(s)||n.push(t(s,r))}return e&&e.order&&this._sort(n,e.order),n}_filterFields(t,e){return t?(Array.isArray(e)?e:Object.keys(e)).reduce(((e,i)=>(e[i]=t[i],e)),{}):t}_sort(t,e){if("string"==typeof e){const i=e;t.sort(((t,e)=>{const n=t[i],o=e[i];return n>o?1:n<o?-1:0}))}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}}remove(t,e){const i=[],n=[],o=Array.isArray(t)?t:[t];for(let t=0,e=o.length;t<e;t++){const e=this._remove(o[t]);if(e){const t=e[this._idProp];null!=t&&(i.push(t),n.push(e))}}return i.length&&this._trigger("remove",{items:i,oldData:n},e),i}_remove(t){let e;if(_E(t)?e=t:t&&"object"==typeof t&&(e=t[this._idProp]),null!=e&&this._data.has(e)){const t=this._data.get(e)||null;return this._data.delete(e),--this.length,t}return null}clear(t){const e=[...this._data.keys()],i=[];for(let t=0,n=e.length;t<n;t++)i.push(this._data.get(e[t]));return this._data.clear(),this.length=0,this._trigger("remove",{items:e,oldData:i},t),e}max(t){let e=null,i=null;for(const n of this._data.values()){const o=n[t];"number"==typeof o&&(null==i||o>i)&&(e=n,i=o)}return e||null}min(t){let e=null,i=null;for(const n of this._data.values()){const o=n[t];"number"==typeof o&&(null==i||o<i)&&(e=n,i=o)}return e||null}distinct(t){const e=this._data,i=[...e.keys()],n=[];let o=0;for(let r=0,s=i.length;r<s;r++){const s=i[r],a=e.get(s)[t];let l=!1;for(let t=0;t<o;t++)if(n[t]==a){l=!0;break}l||void 0===a||(n[o]=a,o++)}return n}_addItem(t){const e=function(t,e){return null==t[e]&&(t[e]=gE()),t}(t,this._idProp),i=e[this._idProp];if(this._data.has(i))throw new Error("Cannot add item: item with id "+i+" already exists");return this._data.set(i,e),++this.length,i}_updateItem(t){const e=t[this._idProp];if(null==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");const i=this._data.get(e);if(!i)throw new Error("Cannot update item: no item with id "+e+" found");return this._data.set(e,{...i,...t}),e}stream(t){if(t){const e=this._data;return new IE({*[Symbol.iterator](){for(const i of t){const t=e.get(i);null!=t&&(yield[i,t])}}})}return new IE({[Symbol.iterator]:this._data.entries.bind(this._data)})}}class xE extends CE{length=0;get idProp(){return this.getDataSet().idProp}_listener;_data;_ids=new Set;_options;constructor(t,e){super(),this._options=e||{},this._listener=this._onEvent.bind(this),this.setData(t)}setData(t){if(this._data){this._data.off&&this._data.off("*",this._listener);const t=this._data.getIds({filter:this._options.filter}),e=this._data.get(t);this._ids.clear(),this.length=0,this._trigger("remove",{items:t,oldData:e})}if(null!=t){this._data=t;const e=this._data.getIds({filter:this._options.filter});for(let t=0,i=e.length;t<i;t++){const i=e[t];this._ids.add(i)}this.length=e.length,this._trigger("add",{items:e})}else this._data=new EE;this._data.on&&this._data.on("*",this._listener)}refresh(){const t=this._data.getIds({filter:this._options.filter}),e=[...this._ids],i={},n=[],o=[],r=[];for(let e=0,o=t.length;e<o;e++){const o=t[e];i[o]=!0,this._ids.has(o)||(n.push(o),this._ids.add(o))}for(let t=0,n=e.length;t<n;t++){const n=e[t],s=this._data.get(n);null==s?console.error("If you see this, report it please."):i[n]||(o.push(n),r.push(s),this._ids.delete(n))}this.length+=n.length-o.length,n.length&&this._trigger("add",{items:n}),o.length&&this._trigger("remove",{items:o,oldData:r})}get(t,e){if(null==this._data)return null;let i,n=null;_E(t)||Array.isArray(t)?(n=t,i=e):i=t;const o=Object.assign({},this._options,i),r=this._options.filter,s=i&&i.filter;return r&&s&&(o.filter=t=>r(t)&&s(t)),null==n?this._data.get(o):this._data.get(n,o)}getIds(t){if(this._data.length){const e=this._options.filter,i=null!=t?t.filter:null;let n;return n=i?e?t=>e(t)&&i(t):i:e,this._data.getIds({filter:n,order:t&&t.order})}return[]}forEach(t,e){if(this._data){const i=this._options.filter,n=e&&e.filter;let o;o=n?i?function(t){return i(t)&&n(t)}:n:i,this._data.forEach(t,{filter:o,order:e&&e.order})}}map(t,e){if(this._data){const i=this._options.filter,n=e&&e.filter;let o;return o=n?i?t=>i(t)&&n(t):n:i,this._data.map(t,{filter:o,order:e&&e.order})}return[]}getDataSet(){return this._data.getDataSet()}stream(t){return this._data.stream(t||{[Symbol.iterator]:this._ids.keys.bind(this._ids)})}dispose(){this._data?.off&&this._data.off("*",this._listener);const t="This data view has already been disposed of.",e={get:()=>{throw new Error(t)},set:()=>{throw new Error(t)},configurable:!1};for(const t of Reflect.ownKeys(xE.prototype))Object.defineProperty(this,t,e)}_onEvent(t,e,i){if(!e||!e.items||!this._data)return;const n=e.items,o=[],r=[],s=[],a=[],l=[],d=[];switch(t){case"add":for(let t=0,e=n.length;t<e;t++){const e=n[t];this.get(e)&&(this._ids.add(e),o.push(e))}break;case"update":for(let t=0,i=n.length;t<i;t++){const i=n[t];this.get(i)?this._ids.has(i)?(r.push(i),l.push(e.data[t]),a.push(e.oldData[t])):(this._ids.add(i),o.push(i)):this._ids.has(i)&&(this._ids.delete(i),s.push(i),d.push(e.oldData[t]))}break;case"remove":for(let t=0,i=n.length;t<i;t++){const i=n[t];this._ids.has(i)&&(this._ids.delete(i),s.push(i),d.push(e.oldData[t]))}}this.length+=o.length-s.length,o.length&&this._trigger("add",{items:o},i),r.length&&this._trigger("update",{items:r,oldData:a,data:l},i),s.length&&this._trigger("remove",{items:s,oldData:d},i)}}function BE(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kE={exports:{}};!function(t,e){t.exports=function(){var e,i;function n(){return e.apply(null,arguments)}function o(t){e=t}function r(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(a(t,e))return!1;return!0}function d(t){return void 0===t}function c(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function h(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var i,n=[],o=t.length;for(i=0;i<o;++i)n.push(e(t[i],i));return n}function A(t,e){for(var i in e)a(e,i)&&(t[i]=e[i]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function p(t,e,i,n){return $i(t,e,i,n,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(t){return null==t._pf&&(t._pf=m()),t._pf}function f(t){if(null==t._isValid){var e=g(t),n=i.call(e.parsedDateParts,(function(t){return null!=t})),o=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(o=o&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function v(t){var e=p(NaN);return null!=t?A(g(e),t):g(e).userInvalidated=!0,e}i=Array.prototype.some?Array.prototype.some:function(t){var e,i=Object(this),n=i.length>>>0;for(e=0;e<n;e++)if(e in i&&t.call(this,i[e],e,i))return!0;return!1};var b=n.momentProperties=[],y=!1;function _(t,e){var i,n,o,r=b.length;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=g(e)),d(e._locale)||(t._locale=e._locale),r>0)for(i=0;i<r;i++)d(o=e[n=b[i]])||(t[n]=o);return t}function w(t){_(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function C(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function I(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function E(t,e){var i=!0;return A((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){var o,r,s,l=[],d=arguments.length;for(r=0;r<d;r++){if(o="","object"==typeof arguments[r]){for(s in o+="\n["+r+"] ",arguments[0])a(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[r];l.push(o)}I(t+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)}),e)}var x,B={};function k(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),B[t]||(I(e),B[t]=!0)}function S(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function D(t){var e,i;for(i in t)a(t,i)&&(S(e=t[i])?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Q(t,e){var i,n=A({},t);for(i in e)a(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},A(n[i],t[i]),A(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)a(t,i)&&!a(e,i)&&s(t[i])&&(n[i]=A({},n[i]));return n}function M(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,x=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)a(t,e)&&i.push(e);return i};var T={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return S(n)?n.call(e,i):n}function R(t,e,i){var n=""+Math.abs(t),o=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},L={};function j(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(L[t]=o),e&&(L[e[0]]=function(){return R(o.apply(this,arguments),e[1],e[2])}),i&&(L[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,i,n=t.match(P);for(e=0,i=n.length;e<i;e++)L[n[e]]?n[e]=L[n[e]]:n[e]=z(n[e]);return function(e){var o,r="";for(o=0;o<i;o++)r+=S(n[o])?n[o].call(e,t):n[o];return r}}function H(t,e){return t.isValid()?(e=G(e,t.localeData()),F[e]=F[e]||U(e),F[e](t)):t.localeData().invalidDate()}function G(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(N.lastIndex=0;i>=0&&N.test(t);)t=t.replace(N,n),N.lastIndex=0,i-=1;return t}var q={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(P).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])}var $="Invalid date";function W(){return this._invalidDate}var V="%d",J=/\d{1,2}/;function K(t){return this._ordinal.replace("%d",t)}var Z={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function X(t,e,i,n){var o=this._relativeTime[i];return S(o)?o(t,e,i,n):o.replace(/%d/i,t)}function tt(t,e){var i=this._relativeTime[t>0?"future":"past"];return S(i)?i(e):i.replace(/%s/i,e)}var et={};function it(t,e){var i=t.toLowerCase();et[i]=et[i+"s"]=et[e]=t}function nt(t){return"string"==typeof t?et[t]||et[t.toLowerCase()]:void 0}function ot(t){var e,i,n={};for(i in t)a(t,i)&&(e=nt(i))&&(n[e]=t[i]);return n}var rt={};function st(t,e){rt[t]=e}function at(t){var e,i=[];for(e in t)a(t,e)&&i.push({unit:e,priority:rt[e]});return i.sort((function(t,e){return t.priority-e.priority})),i}function lt(t){return t%4==0&&t%100!=0||t%400==0}function dt(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ct(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=dt(e)),i}function ht(t,e){return function(i){return null!=i?(At(this,t,i),n.updateOffset(this,e),this):ut(this,t)}}function ut(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function At(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&lt(t.year())&&1===t.month()&&29===t.date()?(i=ct(i),t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Xt(i,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function pt(t){return S(this[t=nt(t)])?this[t]():this}function mt(t,e){if("object"==typeof t){var i,n=at(t=ot(t)),o=n.length;for(i=0;i<o;i++)this[n[i].unit](t[n[i].unit])}else if(S(this[t=nt(t)]))return this[t](e);return this}var gt,ft=/\d/,vt=/\d\d/,bt=/\d{3}/,yt=/\d{4}/,_t=/[+-]?\d{6}/,wt=/\d\d?/,Ct=/\d\d\d\d?/,It=/\d\d\d\d\d\d?/,Et=/\d{1,3}/,xt=/\d{1,4}/,Bt=/[+-]?\d{1,6}/,kt=/\d+/,St=/[+-]?\d+/,Dt=/Z|[+-]\d\d:?\d\d/gi,Qt=/Z|[+-]\d\d(?::?\d\d)?/gi,Mt=/[+-]?\d+(\.\d{1,3})?/,Tt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ot(t,e,i){gt[t]=S(e)?e:function(t,n){return t&&i?i:e}}function Rt(t,e){return a(gt,t)?gt[t](e._strict,e._locale):new RegExp(Pt(t))}function Pt(t){return Nt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,i,n,o){return e||i||n||o})))}function Nt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}gt={};var Ft={};function Lt(t,e){var i,n,o=e;for("string"==typeof t&&(t=[t]),c(e)&&(o=function(t,i){i[e]=ct(t)}),n=t.length,i=0;i<n;i++)Ft[t[i]]=o}function jt(t,e){Lt(t,(function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)}))}function zt(t,e,i){null!=e&&a(Ft,t)&&Ft[t](e,i._a,i,t)}var Ut,Ht=0,Gt=1,qt=2,Yt=3,$t=4,Wt=5,Vt=6,Jt=7,Kt=8;function Zt(t,e){return(t%e+e)%e}function Xt(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=Zt(e,12);return t+=(e-i)/12,1===i?lt(t)?29:28:31-i%7%2}Ut=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},j("M",["MM",2],"Mo",(function(){return this.month()+1})),j("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),j("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),it("month","M"),st("month",8),Ot("M",wt),Ot("MM",wt,vt),Ot("MMM",(function(t,e){return e.monthsShortRegex(t)})),Ot("MMMM",(function(t,e){return e.monthsRegex(t)})),Lt(["M","MM"],(function(t,e){e[Gt]=ct(t)-1})),Lt(["MMM","MMMM"],(function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[Gt]=o:g(i).invalidMonth=t}));var te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ie=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ne=Tt,oe=Tt;function re(t,e){return t?r(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ie).test(e)?"format":"standalone"][t.month()]:r(this._months)?this._months:this._months.standalone}function se(t,e){return t?r(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ie.test(e)?"format":"standalone"][t.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ae(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(o=Ut.call(this._shortMonthsParse,s))?o:null:-1!==(o=Ut.call(this._longMonthsParse,s))?o:null:"MMM"===e?-1!==(o=Ut.call(this._shortMonthsParse,s))||-1!==(o=Ut.call(this._longMonthsParse,s))?o:null:-1!==(o=Ut.call(this._longMonthsParse,s))||-1!==(o=Ut.call(this._shortMonthsParse,s))?o:null}function le(t,e,i){var n,o,r;if(this._monthsParseExact)return ae.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=p([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function de(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=ct(e);else if(!c(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),Xt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function ce(t){return null!=t?(de(this,t),n.updateOffset(this,!0),this):ut(this,"Month")}function he(){return Xt(this.year(),this.month())}function ue(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pe.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ne),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ae(t){return this._monthsParseExact?(a(this,"_monthsRegex")||pe.call(this),t?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=oe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pe(){function t(t,e){return e.length-t.length}var e,i,n=[],o=[],r=[];for(e=0;e<12;e++)i=p([2e3,e]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)n[e]=Nt(n[e]),o[e]=Nt(o[e]);for(e=0;e<24;e++)r[e]=Nt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function me(t){return lt(t)?366:365}j("Y",0,0,(function(){var t=this.year();return t<=9999?R(t,4):"+"+t})),j(0,["YY",2],0,(function(){return this.year()%100})),j(0,["YYYY",4],0,"year"),j(0,["YYYYY",5],0,"year"),j(0,["YYYYYY",6,!0],0,"year"),it("year","y"),st("year",1),Ot("Y",St),Ot("YY",wt,vt),Ot("YYYY",xt,yt),Ot("YYYYY",Bt,_t),Ot("YYYYYY",Bt,_t),Lt(["YYYYY","YYYYYY"],Ht),Lt("YYYY",(function(t,e){e[Ht]=2===t.length?n.parseTwoDigitYear(t):ct(t)})),Lt("YY",(function(t,e){e[Ht]=n.parseTwoDigitYear(t)})),Lt("Y",(function(t,e){e[Ht]=parseInt(t,10)})),n.parseTwoDigitYear=function(t){return ct(t)+(ct(t)>68?1900:2e3)};var ge=ht("FullYear",!0);function fe(){return lt(this.year())}function ve(t,e,i,n,o,r,s){var a;return t<100&&t>=0?(a=new Date(t+400,e,i,n,o,r,s),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,i,n,o,r,s),a}function be(t){var e,i;return t<100&&t>=0?((i=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function ye(t,e,i){var n=7+e-i;return-(7+be(t,0,n).getUTCDay()-e)%7+n-1}function _e(t,e,i,n,o){var r,s,a=1+7*(e-1)+(7+i-n)%7+ye(t,n,o);return a<=0?s=me(r=t-1)+a:a>me(t)?(r=t+1,s=a-me(t)):(r=t,s=a),{year:r,dayOfYear:s}}function we(t,e,i){var n,o,r=ye(t.year(),e,i),s=Math.floor((t.dayOfYear()-r-1)/7)+1;return s<1?n=s+Ce(o=t.year()-1,e,i):s>Ce(t.year(),e,i)?(n=s-Ce(t.year(),e,i),o=t.year()+1):(o=t.year(),n=s),{week:n,year:o}}function Ce(t,e,i){var n=ye(t,e,i),o=ye(t+1,e,i);return(me(t)-n+o)/7}function Ie(t){return we(t,this._week.dow,this._week.doy).week}j("w",["ww",2],"wo","week"),j("W",["WW",2],"Wo","isoWeek"),it("week","w"),it("isoWeek","W"),st("week",5),st("isoWeek",5),Ot("w",wt),Ot("ww",wt,vt),Ot("W",wt),Ot("WW",wt,vt),jt(["w","ww","W","WW"],(function(t,e,i,n){e[n.substr(0,1)]=ct(t)}));var Ee={dow:0,doy:6};function xe(){return this._week.dow}function Be(){return this._week.doy}function ke(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Se(t){var e=we(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function De(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}function Qe(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Me(t,e){return t.slice(e,7).concat(t.slice(0,e))}j("d",0,"do","day"),j("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),j("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),j("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),j("e",0,0,"weekday"),j("E",0,0,"isoWeekday"),it("day","d"),it("weekday","e"),it("isoWeekday","E"),st("day",11),st("weekday",11),st("isoWeekday",11),Ot("d",wt),Ot("e",wt),Ot("E",wt),Ot("dd",(function(t,e){return e.weekdaysMinRegex(t)})),Ot("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),Ot("dddd",(function(t,e){return e.weekdaysRegex(t)})),jt(["dd","ddd","dddd"],(function(t,e,i,n){var o=i._locale.weekdaysParse(t,n,i._strict);null!=o?e.d=o:g(i).invalidWeekday=t})),jt(["d","e","E"],(function(t,e,i,n){e[n]=ct(t)}));var Te="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Oe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Re="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pe=Tt,Ne=Tt,Fe=Tt;function Le(t,e){var i=r(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Me(i,this._week.dow):t?i[t.day()]:i}function je(t){return!0===t?Me(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function ze(t){return!0===t?Me(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Ue(t,e,i){var n,o,r,s=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(o=Ut.call(this._weekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Ut.call(this._shortWeekdaysParse,s))?o:null:-1!==(o=Ut.call(this._minWeekdaysParse,s))?o:null:"dddd"===e?-1!==(o=Ut.call(this._weekdaysParse,s))||-1!==(o=Ut.call(this._shortWeekdaysParse,s))||-1!==(o=Ut.call(this._minWeekdaysParse,s))?o:null:"ddd"===e?-1!==(o=Ut.call(this._shortWeekdaysParse,s))||-1!==(o=Ut.call(this._weekdaysParse,s))||-1!==(o=Ut.call(this._minWeekdaysParse,s))?o:null:-1!==(o=Ut.call(this._minWeekdaysParse,s))||-1!==(o=Ut.call(this._weekdaysParse,s))||-1!==(o=Ut.call(this._shortWeekdaysParse,s))?o:null}function He(t,e,i){var n,o,r;if(this._weekdaysParseExact)return Ue.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=p([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}}function Ge(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=De(t,this.localeData()),this.add(t-e,"d")):e}function qe(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ye(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Qe(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function $e(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Pe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function We(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ne),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ve(t){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Je.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Je(){function t(t,e){return e.length-t.length}var e,i,n,o,r,s=[],a=[],l=[],d=[];for(e=0;e<7;e++)i=p([2e3,1]).day(e),n=Nt(this.weekdaysMin(i,"")),o=Nt(this.weekdaysShort(i,"")),r=Nt(this.weekdays(i,"")),s.push(n),a.push(o),l.push(r),d.push(n),d.push(o),d.push(r);s.sort(t),a.sort(t),l.sort(t),d.sort(t),this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ke(){return this.hours()%12||12}function Ze(){return this.hours()||24}function Xe(t,e){j(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function ti(t,e){return e._meridiemParse}function ei(t){return"p"===(t+"").toLowerCase().charAt(0)}j("H",["HH",2],0,"hour"),j("h",["hh",2],0,Ke),j("k",["kk",2],0,Ze),j("hmm",0,0,(function(){return""+Ke.apply(this)+R(this.minutes(),2)})),j("hmmss",0,0,(function(){return""+Ke.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),j("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),j("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Xe("a",!0),Xe("A",!1),it("hour","h"),st("hour",13),Ot("a",ti),Ot("A",ti),Ot("H",wt),Ot("h",wt),Ot("k",wt),Ot("HH",wt,vt),Ot("hh",wt,vt),Ot("kk",wt,vt),Ot("hmm",Ct),Ot("hmmss",It),Ot("Hmm",Ct),Ot("Hmmss",It),Lt(["H","HH"],Yt),Lt(["k","kk"],(function(t,e,i){var n=ct(t);e[Yt]=24===n?0:n})),Lt(["a","A"],(function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t})),Lt(["h","hh"],(function(t,e,i){e[Yt]=ct(t),g(i).bigHour=!0})),Lt("hmm",(function(t,e,i){var n=t.length-2;e[Yt]=ct(t.substr(0,n)),e[$t]=ct(t.substr(n)),g(i).bigHour=!0})),Lt("hmmss",(function(t,e,i){var n=t.length-4,o=t.length-2;e[Yt]=ct(t.substr(0,n)),e[$t]=ct(t.substr(n,2)),e[Wt]=ct(t.substr(o)),g(i).bigHour=!0})),Lt("Hmm",(function(t,e,i){var n=t.length-2;e[Yt]=ct(t.substr(0,n)),e[$t]=ct(t.substr(n))})),Lt("Hmmss",(function(t,e,i){var n=t.length-4,o=t.length-2;e[Yt]=ct(t.substr(0,n)),e[$t]=ct(t.substr(n,2)),e[Wt]=ct(t.substr(o))}));var ii=/[ap]\.?m?\.?/i,ni=ht("Hours",!0);function oi(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var ri,si={calendar:T,longDateFormat:q,invalidDate:$,ordinal:V,dayOfMonthOrdinalParse:J,relativeTime:Z,months:te,monthsShort:ee,week:Ee,weekdays:Te,weekdaysMin:Re,weekdaysShort:Oe,meridiemParse:ii},ai={},li={};function di(t,e){var i,n=Math.min(t.length,e.length);for(i=0;i<n;i+=1)if(t[i]!==e[i])return i;return n}function ci(t){return t?t.toLowerCase().replace("_","-"):t}function hi(t){for(var e,i,n,o,r=0;r<t.length;){for(e=(o=ci(t[r]).split("-")).length,i=(i=ci(t[r+1]))?i.split("-"):null;e>0;){if(n=Ai(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&di(o,i)>=e-1)break;e--}r++}return ri}function ui(t){return null!=t.match("^[^/\\\\]*$")}function Ai(e){var i=null;if(void 0===ai[e]&&t&&t.exports&&ui(e))try{i=ri._abbr,BE("./locale/"+e),pi(i)}catch(t){ai[e]=null}return ai[e]}function pi(t,e){var i;return t&&((i=d(e)?fi(t):mi(t,e))?ri=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ri._abbr}function mi(t,e){if(null!==e){var i,n=si;if(e.abbr=t,null!=ai[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ai[t]._config;else if(null!=e.parentLocale)if(null!=ai[e.parentLocale])n=ai[e.parentLocale]._config;else{if(null==(i=Ai(e.parentLocale)))return li[e.parentLocale]||(li[e.parentLocale]=[]),li[e.parentLocale].push({name:t,config:e}),null;n=i._config}return ai[t]=new M(Q(n,e)),li[t]&&li[t].forEach((function(t){mi(t.name,t.config)})),pi(t),ai[t]}return delete ai[t],null}function gi(t,e){if(null!=e){var i,n,o=si;null!=ai[t]&&null!=ai[t].parentLocale?ai[t].set(Q(ai[t]._config,e)):(null!=(n=Ai(t))&&(o=n._config),e=Q(o,e),null==n&&(e.abbr=t),(i=new M(e)).parentLocale=ai[t],ai[t]=i),pi(t)}else null!=ai[t]&&(null!=ai[t].parentLocale?(ai[t]=ai[t].parentLocale,t===pi()&&pi(t)):null!=ai[t]&&delete ai[t]);return ai[t]}function fi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ri;if(!r(t)){if(e=Ai(t))return e;t=[t]}return hi(t)}function vi(){return x(ai)}function bi(t){var e,i=t._a;return i&&-2===g(t).overflow&&(e=i[Gt]<0||i[Gt]>11?Gt:i[qt]<1||i[qt]>Xt(i[Ht],i[Gt])?qt:i[Yt]<0||i[Yt]>24||24===i[Yt]&&(0!==i[$t]||0!==i[Wt]||0!==i[Vt])?Yt:i[$t]<0||i[$t]>59?$t:i[Wt]<0||i[Wt]>59?Wt:i[Vt]<0||i[Vt]>999?Vt:-1,g(t)._overflowDayOfYear&&(e<Ht||e>qt)&&(e=qt),g(t)._overflowWeeks&&-1===e&&(e=Jt),g(t)._overflowWeekday&&-1===e&&(e=Kt),g(t).overflow=e),t}var yi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_i=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wi=/Z|[+-]\d\d(?::?\d\d)?/,Ci=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ii=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ei=/^\/?Date\((-?\d+)/i,xi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Bi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ki(t){var e,i,n,o,r,s,a=t._i,l=yi.exec(a)||_i.exec(a),d=Ci.length,c=Ii.length;if(l){for(g(t).iso=!0,e=0,i=d;e<i;e++)if(Ci[e][1].exec(l[1])){o=Ci[e][0],n=!1!==Ci[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,i=c;e<i;e++)if(Ii[e][1].exec(l[3])){r=(l[2]||" ")+Ii[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!wi.exec(l[4]))return void(t._isValid=!1);s="Z"}t._f=o+(r||"")+(s||""),ji(t)}else t._isValid=!1}function Si(t,e,i,n,o,r){var s=[Di(t),ee.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&s.push(parseInt(r,10)),s}function Di(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Qi(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mi(t,e,i){return!t||Oe.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(i).weekdayMismatch=!0,i._isValid=!1,!1)}function Ti(t,e,i){if(t)return Bi[t];if(e)return 0;var n=parseInt(i,10),o=n%100;return(n-o)/100*60+o}function Oi(t){var e,i=xi.exec(Qi(t._i));if(i){if(e=Si(i[4],i[3],i[2],i[5],i[6],i[7]),!Mi(i[1],e,t))return;t._a=e,t._tzm=Ti(i[8],i[9],i[10]),t._d=be.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function Ri(t){var e=Ei.exec(t._i);null===e?(ki(t),!1===t._isValid&&(delete t._isValid,Oi(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:n.createFromInputFallback(t)))):t._d=new Date(+e[1])}function Pi(t,e,i){return null!=t?t:null!=e?e:i}function Ni(t){var e=new Date(n.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Fi(t){var e,i,n,o,r,s=[];if(!t._d){for(n=Ni(t),t._w&&null==t._a[qt]&&null==t._a[Gt]&&Li(t),null!=t._dayOfYear&&(r=Pi(t._a[Ht],n[Ht]),(t._dayOfYear>me(r)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),i=be(r,0,t._dayOfYear),t._a[Gt]=i.getUTCMonth(),t._a[qt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Yt]&&0===t._a[$t]&&0===t._a[Wt]&&0===t._a[Vt]&&(t._nextDay=!0,t._a[Yt]=0),t._d=(t._useUTC?be:ve).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Yt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(g(t).weekdayMismatch=!0)}}function Li(t){var e,i,n,o,r,s,a,l,d;null!=(e=t._w).GG||null!=e.W||null!=e.E?(r=1,s=4,i=Pi(e.GG,t._a[Ht],we(Wi(),1,4).year),n=Pi(e.W,1),((o=Pi(e.E,1))<1||o>7)&&(l=!0)):(r=t._locale._week.dow,s=t._locale._week.doy,d=we(Wi(),r,s),i=Pi(e.gg,t._a[Ht],d.year),n=Pi(e.w,d.week),null!=e.d?((o=e.d)<0||o>6)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||e.e>6)&&(l=!0)):o=r),n<1||n>Ce(i,r,s)?g(t)._overflowWeeks=!0:null!=l?g(t)._overflowWeekday=!0:(a=_e(i,n,o,r,s),t._a[Ht]=a.year,t._dayOfYear=a.dayOfYear)}function ji(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],g(t).empty=!0;var e,i,o,r,s,a,l,d=""+t._i,c=d.length,h=0;for(l=(o=G(t._f,t._locale).match(P)||[]).length,e=0;e<l;e++)r=o[e],(i=(d.match(Rt(r,t))||[])[0])&&((s=d.substr(0,d.indexOf(i))).length>0&&g(t).unusedInput.push(s),d=d.slice(d.indexOf(i)+i.length),h+=i.length),L[r]?(i?g(t).empty=!1:g(t).unusedTokens.push(r),zt(r,i,t)):t._strict&&!i&&g(t).unusedTokens.push(r);g(t).charsLeftOver=c-h,d.length>0&&g(t).unusedInput.push(d),t._a[Yt]<=12&&!0===g(t).bigHour&&t._a[Yt]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[Yt]=zi(t._locale,t._a[Yt],t._meridiem),null!==(a=g(t).era)&&(t._a[Ht]=t._locale.erasConvertYear(a,t._a[Ht])),Fi(t),bi(t)}else Oi(t);else ki(t)}function zi(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}function Ui(t){var e,i,n,o,r,s,a=!1,l=t._f.length;if(0===l)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<l;o++)r=0,s=!1,e=_({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],ji(e),f(e)&&(s=!0),r+=g(e).charsLeftOver,r+=10*g(e).unusedTokens.length,g(e).score=r,a?r<n&&(n=r,i=e):(null==n||r<n||s)&&(n=r,i=e,s&&(a=!0));A(t,i||e)}function Hi(t){if(!t._d){var e=ot(t._i),i=void 0===e.day?e.date:e.day;t._a=u([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Fi(t)}}function Gi(t){var e=new w(bi(qi(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function qi(t){var e=t._i,i=t._f;return t._locale=t._locale||fi(t._l),null===e||void 0===i&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),C(e)?new w(bi(e)):(h(e)?t._d=e:r(i)?Ui(t):i?ji(t):Yi(t),f(t)||(t._d=null),t))}function Yi(t){var e=t._i;d(e)?t._d=new Date(n.now()):h(e)?t._d=new Date(e.valueOf()):"string"==typeof e?Ri(t):r(e)?(t._a=u(e.slice(0),(function(t){return parseInt(t,10)})),Fi(t)):s(e)?Hi(t):c(e)?t._d=new Date(e):n.createFromInputFallback(t)}function $i(t,e,i,n,o){var a={};return!0!==e&&!1!==e||(n=e,e=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(s(t)&&l(t)||r(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=i,a._i=t,a._f=e,a._strict=n,Gi(a)}function Wi(t,e,i,n){return $i(t,e,i,n,!1)}n.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Vi=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Wi.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Ji=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Wi.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function Ki(t,e){var i,n;if(1===e.length&&r(e[0])&&(e=e[0]),!e.length)return Wi();for(i=e[0],n=1;n<e.length;++n)e[n].isValid()&&!e[n][t](i)||(i=e[n]);return i}function Zi(){return Ki("isBefore",[].slice.call(arguments,0))}function Xi(){return Ki("isAfter",[].slice.call(arguments,0))}var tn=function(){return Date.now?Date.now():+new Date},en=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nn(t){var e,i,n=!1,o=en.length;for(e in t)if(a(t,e)&&(-1===Ut.call(en,e)||null!=t[e]&&isNaN(t[e])))return!1;for(i=0;i<o;++i)if(t[en[i]]){if(n)return!1;parseFloat(t[en[i]])!==ct(t[en[i]])&&(n=!0)}return!0}function on(){return this._isValid}function rn(){return kn(NaN)}function sn(t){var e=ot(t),i=e.year||0,n=e.quarter||0,o=e.month||0,r=e.week||e.isoWeek||0,s=e.day||0,a=e.hour||0,l=e.minute||0,d=e.second||0,c=e.millisecond||0;this._isValid=nn(e),this._milliseconds=+c+1e3*d+6e4*l+1e3*a*60*60,this._days=+s+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=fi(),this._bubble()}function an(t){return t instanceof sn}function ln(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function dn(t,e,i){var n,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(n=0;n<o;n++)(i&&t[n]!==e[n]||!i&&ct(t[n])!==ct(e[n]))&&s++;return s+r}function cn(t,e){j(t,0,0,(function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+R(~~(t/60),2)+e+R(~~t%60,2)}))}cn("Z",":"),cn("ZZ",""),Ot("Z",Qt),Ot("ZZ",Qt),Lt(["Z","ZZ"],(function(t,e,i){i._useUTC=!0,i._tzm=un(Qt,t)}));var hn=/([\+\-]|\d\d)/gi;function un(t,e){var i,n,o=(e||"").match(t);return null===o?null:0===(n=60*(i=((o[o.length-1]||[])+"").match(hn)||["-",0,0])[1]+ct(i[2]))?0:"+"===i[0]?n:-n}function An(t,e){var i,o;return e._isUTC?(i=e.clone(),o=(C(t)||h(t)?t.valueOf():Wi(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),n.updateOffset(i,!1),i):Wi(t).local()}function pn(t){return-Math.round(t._d.getTimezoneOffset())}function mn(t,e,i){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=un(Qt,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(o=pn(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?Tn(this,kn(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:pn(this)}function gn(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function fn(t){return this.utcOffset(0,t)}function vn(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(pn(this),"m")),this}function bn(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=un(Dt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function yn(t){return!!this.isValid()&&(t=t?Wi(t).utcOffset():0,(this.utcOffset()-t)%60==0)}function _n(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wn(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t,e={};return _(e,this),(e=qi(e))._a?(t=e._isUTC?p(e._a):Wi(e._a),this._isDSTShifted=this.isValid()&&dn(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Cn(){return!!this.isValid()&&!this._isUTC}function In(){return!!this.isValid()&&this._isUTC}function En(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var xn=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Bn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function kn(t,e){var i,n,o,r=t,s=null;return an(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:c(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(s=xn.exec(t))?(i="-"===s[1]?-1:1,r={y:0,d:ct(s[qt])*i,h:ct(s[Yt])*i,m:ct(s[$t])*i,s:ct(s[Wt])*i,ms:ct(ln(1e3*s[Vt]))*i}):(s=Bn.exec(t))?(i="-"===s[1]?-1:1,r={y:Sn(s[2],i),M:Sn(s[3],i),w:Sn(s[4],i),d:Sn(s[5],i),h:Sn(s[6],i),m:Sn(s[7],i),s:Sn(s[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Qn(Wi(r.from),Wi(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),n=new sn(r),an(t)&&a(t,"_locale")&&(n._locale=t._locale),an(t)&&a(t,"_isValid")&&(n._isValid=t._isValid),n}function Sn(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Dn(t,e){var i={};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Qn(t,e){var i;return t.isValid()&&e.isValid()?(e=An(e,t),t.isBefore(e)?i=Dn(t,e):((i=Dn(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Mn(t,e){return function(i,n){var o;return null===n||isNaN(+n)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=i,i=n,n=o),Tn(this,kn(i,n),t),this}}function Tn(t,e,i,o){var r=e._milliseconds,s=ln(e._days),a=ln(e._months);t.isValid()&&(o=null==o||o,a&&de(t,ut(t,"Month")+a*i),s&&At(t,"Date",ut(t,"Date")+s*i),r&&t._d.setTime(t._d.valueOf()+r*i),o&&n.updateOffset(t,s||a))}kn.fn=sn.prototype,kn.invalid=rn;var On=Mn(1,"add"),Rn=Mn(-1,"subtract");function Pn(t){return"string"==typeof t||t instanceof String}function Nn(t){return C(t)||h(t)||Pn(t)||c(t)||Ln(t)||Fn(t)||null==t}function Fn(t){var e,i,n=s(t)&&!l(t),o=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],d=r.length;for(e=0;e<d;e+=1)i=r[e],o=o||a(t,i);return n&&o}function Ln(t){var e=r(t),i=!1;return e&&(i=0===t.filter((function(e){return!c(e)&&Pn(t)})).length),e&&i}function jn(t){var e,i,n=s(t)&&!l(t),o=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<r.length;e+=1)i=r[e],o=o||a(t,i);return n&&o}function zn(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Un(t,e){1===arguments.length&&(arguments[0]?Nn(arguments[0])?(t=arguments[0],e=void 0):jn(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||Wi(),o=An(i,this).startOf("day"),r=n.calendarFormat(this,o)||"sameElse",s=e&&(S(e[r])?e[r].call(this,i):e[r]);return this.format(s||this.localeData().calendar(r,this,Wi(i)))}function Hn(){return new w(this)}function Gn(t,e){var i=C(t)?t:Wi(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())}function qn(t,e){var i=C(t)?t:Wi(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())}function Yn(t,e,i,n){var o=C(t)?t:Wi(t),r=C(e)?e:Wi(e);return!!(this.isValid()&&o.isValid()&&r.isValid())&&("("===(n=n||"()")[0]?this.isAfter(o,i):!this.isBefore(o,i))&&(")"===n[1]?this.isBefore(r,i):!this.isAfter(r,i))}function $n(t,e){var i,n=C(t)?t:Wi(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=nt(e)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))}function Wn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Vn(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Jn(t,e,i){var n,o,r;if(!this.isValid())return NaN;if(!(n=An(t,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),e=nt(e)){case"year":r=Kn(this,n)/12;break;case"month":r=Kn(this,n);break;case"quarter":r=Kn(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:dt(r)}function Kn(t,e){if(t.date()<e.date())return-Kn(e,t);var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Zn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Xn(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?H(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(i,"Z")):H(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function to(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,i,n,o="moment",r="";return this.isLocal()||(o=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),t="["+o+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",n=r+'[")]',this.format(t+e+i+n)}function eo(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=H(this,t);return this.localeData().postformat(e)}function io(t,e){return this.isValid()&&(C(t)&&t.isValid()||Wi(t).isValid())?kn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function no(t){return this.from(Wi(),t)}function oo(t,e){return this.isValid()&&(C(t)&&t.isValid()||Wi(t).isValid())?kn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ro(t){return this.to(Wi(),t)}function so(t){var e;return void 0===t?this._locale._abbr:(null!=(e=fi(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ao=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function lo(){return this._locale}var co=1e3,ho=60*co,uo=60*ho,Ao=3506328*uo;function po(t,e){return(t%e+e)%e}function mo(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-Ao:new Date(t,e,i).valueOf()}function go(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-Ao:Date.UTC(t,e,i)}function fo(t){var e,i;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?go:mo,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=po(e+(this._isUTC?0:this.utcOffset()*ho),uo);break;case"minute":e=this._d.valueOf(),e-=po(e,ho);break;case"second":e=this._d.valueOf(),e-=po(e,co)}return this._d.setTime(e),n.updateOffset(this,!0),this}function vo(t){var e,i;if(void 0===(t=nt(t))||"millisecond"===t||!this.isValid())return this;switch(i=this._isUTC?go:mo,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=uo-po(e+(this._isUTC?0:this.utcOffset()*ho),uo)-1;break;case"minute":e=this._d.valueOf(),e+=ho-po(e,ho)-1;break;case"second":e=this._d.valueOf(),e+=co-po(e,co)-1}return this._d.setTime(e),n.updateOffset(this,!0),this}function bo(){return this._d.valueOf()-6e4*(this._offset||0)}function yo(){return Math.floor(this.valueOf()/1e3)}function _o(){return new Date(this.valueOf())}function wo(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Co(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Io(){return this.isValid()?this.toISOString():null}function Eo(){return f(this)}function xo(){return A({},g(this))}function Bo(){return g(this).overflow}function ko(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function So(t,e){var i,o,r,s=this._eras||fi("en")._eras;for(i=0,o=s.length;i<o;++i)switch("string"==typeof s[i].since&&(r=n(s[i].since).startOf("day"),s[i].since=r.valueOf()),typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":r=n(s[i].until).startOf("day").valueOf(),s[i].until=r.valueOf()}return s}function Do(t,e,i){var n,o,r,s,a,l=this.eras();for(t=t.toUpperCase(),n=0,o=l.length;n<o;++n)if(r=l[n].name.toUpperCase(),s=l[n].abbr.toUpperCase(),a=l[n].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(s===t)return l[n];break;case"NNNN":if(r===t)return l[n];break;case"NNNNN":if(a===t)return l[n]}else if([r,s,a].indexOf(t)>=0)return l[n]}function Qo(t,e){var i=t.since<=t.until?1:-1;return void 0===e?n(t.since).year():n(t.since).year()+(e-t.offset)*i}function Mo(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].name;if(n[t].until<=i&&i<=n[t].since)return n[t].name}return""}function To(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].narrow;if(n[t].until<=i&&i<=n[t].since)return n[t].narrow}return""}function Oo(){var t,e,i,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t){if(i=this.clone().startOf("day").valueOf(),n[t].since<=i&&i<=n[t].until)return n[t].abbr;if(n[t].until<=i&&i<=n[t].since)return n[t].abbr}return""}function Ro(){var t,e,i,o,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(i=r[t].since<=r[t].until?1:-1,o=this.clone().startOf("day").valueOf(),r[t].since<=o&&o<=r[t].until||r[t].until<=o&&o<=r[t].since)return(this.year()-n(r[t].since).year())*i+r[t].offset;return this.year()}function Po(t){return a(this,"_erasNameRegex")||Ho.call(this),t?this._erasNameRegex:this._erasRegex}function No(t){return a(this,"_erasAbbrRegex")||Ho.call(this),t?this._erasAbbrRegex:this._erasRegex}function Fo(t){return a(this,"_erasNarrowRegex")||Ho.call(this),t?this._erasNarrowRegex:this._erasRegex}function Lo(t,e){return e.erasAbbrRegex(t)}function jo(t,e){return e.erasNameRegex(t)}function zo(t,e){return e.erasNarrowRegex(t)}function Uo(t,e){return e._eraYearOrdinalRegex||kt}function Ho(){var t,e,i=[],n=[],o=[],r=[],s=this.eras();for(t=0,e=s.length;t<e;++t)n.push(Nt(s[t].name)),i.push(Nt(s[t].abbr)),o.push(Nt(s[t].narrow)),r.push(Nt(s[t].name)),r.push(Nt(s[t].abbr)),r.push(Nt(s[t].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Go(t,e){j(0,[t,t.length],0,e)}function qo(t){return Ko.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Yo(t){return Ko.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function $o(){return Ce(this.year(),1,4)}function Wo(){return Ce(this.isoWeekYear(),1,4)}function Vo(){var t=this.localeData()._week;return Ce(this.year(),t.dow,t.doy)}function Jo(){var t=this.localeData()._week;return Ce(this.weekYear(),t.dow,t.doy)}function Ko(t,e,i,n,o){var r;return null==t?we(this,n,o).year:(e>(r=Ce(t,n,o))&&(e=r),Zo.call(this,t,e,i,n,o))}function Zo(t,e,i,n,o){var r=_e(t,e,i,n,o),s=be(r.year,0,r.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function Xo(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}j("N",0,0,"eraAbbr"),j("NN",0,0,"eraAbbr"),j("NNN",0,0,"eraAbbr"),j("NNNN",0,0,"eraName"),j("NNNNN",0,0,"eraNarrow"),j("y",["y",1],"yo","eraYear"),j("y",["yy",2],0,"eraYear"),j("y",["yyy",3],0,"eraYear"),j("y",["yyyy",4],0,"eraYear"),Ot("N",Lo),Ot("NN",Lo),Ot("NNN",Lo),Ot("NNNN",jo),Ot("NNNNN",zo),Lt(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,i,n){var o=i._locale.erasParse(t,n,i._strict);o?g(i).era=o:g(i).invalidEra=t})),Ot("y",kt),Ot("yy",kt),Ot("yyy",kt),Ot("yyyy",kt),Ot("yo",Uo),Lt(["y","yy","yyy","yyyy"],Ht),Lt(["yo"],(function(t,e,i,n){var o;i._locale._eraYearOrdinalRegex&&(o=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[Ht]=i._locale.eraYearOrdinalParse(t,o):e[Ht]=parseInt(t,10)})),j(0,["gg",2],0,(function(){return this.weekYear()%100})),j(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Go("gggg","weekYear"),Go("ggggg","weekYear"),Go("GGGG","isoWeekYear"),Go("GGGGG","isoWeekYear"),it("weekYear","gg"),it("isoWeekYear","GG"),st("weekYear",1),st("isoWeekYear",1),Ot("G",St),Ot("g",St),Ot("GG",wt,vt),Ot("gg",wt,vt),Ot("GGGG",xt,yt),Ot("gggg",xt,yt),Ot("GGGGG",Bt,_t),Ot("ggggg",Bt,_t),jt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,i,n){e[n.substr(0,2)]=ct(t)})),jt(["gg","GG"],(function(t,e,i,o){e[o]=n.parseTwoDigitYear(t)})),j("Q",0,"Qo","quarter"),it("quarter","Q"),st("quarter",7),Ot("Q",ft),Lt("Q",(function(t,e){e[Gt]=3*(ct(t)-1)})),j("D",["DD",2],"Do","date"),it("date","D"),st("date",9),Ot("D",wt),Ot("DD",wt,vt),Ot("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),Lt(["D","DD"],qt),Lt("Do",(function(t,e){e[qt]=ct(t.match(wt)[0])}));var tr=ht("Date",!0);function er(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}j("DDD",["DDDD",3],"DDDo","dayOfYear"),it("dayOfYear","DDD"),st("dayOfYear",4),Ot("DDD",Et),Ot("DDDD",bt),Lt(["DDD","DDDD"],(function(t,e,i){i._dayOfYear=ct(t)})),j("m",["mm",2],0,"minute"),it("minute","m"),st("minute",14),Ot("m",wt),Ot("mm",wt,vt),Lt(["m","mm"],$t);var ir=ht("Minutes",!1);j("s",["ss",2],0,"second"),it("second","s"),st("second",15),Ot("s",wt),Ot("ss",wt,vt),Lt(["s","ss"],Wt);var nr,or,rr=ht("Seconds",!1);for(j("S",0,0,(function(){return~~(this.millisecond()/100)})),j(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),j(0,["SSS",3],0,"millisecond"),j(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),j(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),j(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),j(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),j(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),j(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),it("millisecond","ms"),st("millisecond",16),Ot("S",Et,ft),Ot("SS",Et,vt),Ot("SSS",Et,bt),nr="SSSS";nr.length<=9;nr+="S")Ot(nr,kt);function sr(t,e){e[Vt]=ct(1e3*("0."+t))}for(nr="S";nr.length<=9;nr+="S")Lt(nr,sr);function ar(){return this._isUTC?"UTC":""}function lr(){return this._isUTC?"Coordinated Universal Time":""}or=ht("Milliseconds",!1),j("z",0,0,"zoneAbbr"),j("zz",0,0,"zoneName");var dr=w.prototype;function cr(t){return Wi(1e3*t)}function hr(){return Wi.apply(null,arguments).parseZone()}function ur(t){return t}dr.add=On,dr.calendar=Un,dr.clone=Hn,dr.diff=Jn,dr.endOf=vo,dr.format=eo,dr.from=io,dr.fromNow=no,dr.to=oo,dr.toNow=ro,dr.get=pt,dr.invalidAt=Bo,dr.isAfter=Gn,dr.isBefore=qn,dr.isBetween=Yn,dr.isSame=$n,dr.isSameOrAfter=Wn,dr.isSameOrBefore=Vn,dr.isValid=Eo,dr.lang=ao,dr.locale=so,dr.localeData=lo,dr.max=Ji,dr.min=Vi,dr.parsingFlags=xo,dr.set=mt,dr.startOf=fo,dr.subtract=Rn,dr.toArray=wo,dr.toObject=Co,dr.toDate=_o,dr.toISOString=Xn,dr.inspect=to,"undefined"!=typeof Symbol&&null!=Symbol.for&&(dr[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),dr.toJSON=Io,dr.toString=Zn,dr.unix=yo,dr.valueOf=bo,dr.creationData=ko,dr.eraName=Mo,dr.eraNarrow=To,dr.eraAbbr=Oo,dr.eraYear=Ro,dr.year=ge,dr.isLeapYear=fe,dr.weekYear=qo,dr.isoWeekYear=Yo,dr.quarter=dr.quarters=Xo,dr.month=ce,dr.daysInMonth=he,dr.week=dr.weeks=ke,dr.isoWeek=dr.isoWeeks=Se,dr.weeksInYear=Vo,dr.weeksInWeekYear=Jo,dr.isoWeeksInYear=$o,dr.isoWeeksInISOWeekYear=Wo,dr.date=tr,dr.day=dr.days=Ge,dr.weekday=qe,dr.isoWeekday=Ye,dr.dayOfYear=er,dr.hour=dr.hours=ni,dr.minute=dr.minutes=ir,dr.second=dr.seconds=rr,dr.millisecond=dr.milliseconds=or,dr.utcOffset=mn,dr.utc=fn,dr.local=vn,dr.parseZone=bn,dr.hasAlignedHourOffset=yn,dr.isDST=_n,dr.isLocal=Cn,dr.isUtcOffset=In,dr.isUtc=En,dr.isUTC=En,dr.zoneAbbr=ar,dr.zoneName=lr,dr.dates=E("dates accessor is deprecated. Use date instead.",tr),dr.months=E("months accessor is deprecated. Use month instead",ce),dr.years=E("years accessor is deprecated. Use year instead",ge),dr.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gn),dr.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wn);var Ar=M.prototype;function pr(t,e,i,n){var o=fi(),r=p().set(n,e);return o[i](r,t)}function mr(t,e,i){if(c(t)&&(e=t,t=void 0),t=t||"",null!=e)return pr(t,e,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=pr(t,n,i,"month");return o}function gr(t,e,i,n){"boolean"==typeof t?(c(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,c(e)&&(i=e,e=void 0),e=e||"");var o,r=fi(),s=t?r._week.dow:0,a=[];if(null!=i)return pr(e,(i+s)%7,n,"day");for(o=0;o<7;o++)a[o]=pr(e,(o+s)%7,n,"day");return a}function fr(t,e){return mr(t,e,"months")}function vr(t,e){return mr(t,e,"monthsShort")}function br(t,e,i){return gr(t,e,i,"weekdays")}function yr(t,e,i){return gr(t,e,i,"weekdaysShort")}function _r(t,e,i){return gr(t,e,i,"weekdaysMin")}Ar.calendar=O,Ar.longDateFormat=Y,Ar.invalidDate=W,Ar.ordinal=K,Ar.preparse=ur,Ar.postformat=ur,Ar.relativeTime=X,Ar.pastFuture=tt,Ar.set=D,Ar.eras=So,Ar.erasParse=Do,Ar.erasConvertYear=Qo,Ar.erasAbbrRegex=No,Ar.erasNameRegex=Po,Ar.erasNarrowRegex=Fo,Ar.months=re,Ar.monthsShort=se,Ar.monthsParse=le,Ar.monthsRegex=Ae,Ar.monthsShortRegex=ue,Ar.week=Ie,Ar.firstDayOfYear=Be,Ar.firstDayOfWeek=xe,Ar.weekdays=Le,Ar.weekdaysMin=ze,Ar.weekdaysShort=je,Ar.weekdaysParse=He,Ar.weekdaysRegex=$e,Ar.weekdaysShortRegex=We,Ar.weekdaysMinRegex=Ve,Ar.isPM=ei,Ar.meridiem=oi,pi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===ct(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=E("moment.lang is deprecated. Use moment.locale instead.",pi),n.langData=E("moment.langData is deprecated. Use moment.localeData instead.",fi);var wr=Math.abs;function Cr(){var t=this._data;return this._milliseconds=wr(this._milliseconds),this._days=wr(this._days),this._months=wr(this._months),t.milliseconds=wr(t.milliseconds),t.seconds=wr(t.seconds),t.minutes=wr(t.minutes),t.hours=wr(t.hours),t.months=wr(t.months),t.years=wr(t.years),this}function Ir(t,e,i,n){var o=kn(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function Er(t,e){return Ir(this,t,e,1)}function xr(t,e){return Ir(this,t,e,-1)}function Br(t){return t<0?Math.floor(t):Math.ceil(t)}function kr(){var t,e,i,n,o,r=this._milliseconds,s=this._days,a=this._months,l=this._data;return r>=0&&s>=0&&a>=0||r<=0&&s<=0&&a<=0||(r+=864e5*Br(Dr(a)+s),s=0,a=0),l.milliseconds=r%1e3,t=dt(r/1e3),l.seconds=t%60,e=dt(t/60),l.minutes=e%60,i=dt(e/60),l.hours=i%24,s+=dt(i/24),a+=o=dt(Sr(s)),s-=Br(Dr(o)),n=dt(a/12),a%=12,l.days=s,l.months=a,l.years=n,this}function Sr(t){return 4800*t/146097}function Dr(t){return 146097*t/4800}function Qr(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=nt(t))||"quarter"===t||"year"===t)switch(e=this._days+n/864e5,i=this._months+Sr(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Dr(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function Mr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ct(this._months/12):NaN}function Tr(t){return function(){return this.as(t)}}var Or=Tr("ms"),Rr=Tr("s"),Pr=Tr("m"),Nr=Tr("h"),Fr=Tr("d"),Lr=Tr("w"),jr=Tr("M"),zr=Tr("Q"),Ur=Tr("y");function Hr(){return kn(this)}function Gr(t){return t=nt(t),this.isValid()?this[t+"s"]():NaN}function qr(t){return function(){return this.isValid()?this._data[t]:NaN}}var Yr=qr("milliseconds"),$r=qr("seconds"),Wr=qr("minutes"),Vr=qr("hours"),Jr=qr("days"),Kr=qr("months"),Zr=qr("years");function Xr(){return dt(this.days()/7)}var ts=Math.round,es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function is(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function ns(t,e,i,n){var o=kn(t).abs(),r=ts(o.as("s")),s=ts(o.as("m")),a=ts(o.as("h")),l=ts(o.as("d")),d=ts(o.as("M")),c=ts(o.as("w")),h=ts(o.as("y")),u=r<=i.ss&&["s",r]||r<i.s&&["ss",r]||s<=1&&["m"]||s<i.m&&["mm",s]||a<=1&&["h"]||a<i.h&&["hh",a]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(u=u||c<=1&&["w"]||c<i.w&&["ww",c]),(u=u||d<=1&&["M"]||d<i.M&&["MM",d]||h<=1&&["y"]||["yy",h])[2]=e,u[3]=+t>0,u[4]=n,is.apply(null,u)}function os(t){return void 0===t?ts:"function"==typeof t&&(ts=t,!0)}function rs(t,e){return void 0!==es[t]&&(void 0===e?es[t]:(es[t]=e,"s"===t&&(es.ss=e-1),!0))}function ss(t,e){if(!this.isValid())return this.localeData().invalidDate();var i,n,o=!1,r=es;return"object"==typeof t&&(e=t,t=!1),"boolean"==typeof t&&(o=t),"object"==typeof e&&(r=Object.assign({},es,e),null!=e.s&&null==e.ss&&(r.ss=e.s-1)),n=ns(this,!o,r,i=this.localeData()),o&&(n=i.pastFuture(+this,n)),i.postformat(n)}var as=Math.abs;function ls(t){return(t>0)-(t<0)||+t}function ds(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i,n,o,r,s,a,l=as(this._milliseconds)/1e3,d=as(this._days),c=as(this._months),h=this.asSeconds();return h?(t=dt(l/60),e=dt(t/60),l%=60,t%=60,i=dt(c/12),c%=12,n=l?l.toFixed(3).replace(/\.?0+$/,""):"",o=h<0?"-":"",r=ls(this._months)!==ls(h)?"-":"",s=ls(this._days)!==ls(h)?"-":"",a=ls(this._milliseconds)!==ls(h)?"-":"",o+"P"+(i?r+i+"Y":"")+(c?r+c+"M":"")+(d?s+d+"D":"")+(e||t||l?"T":"")+(e?a+e+"H":"")+(t?a+t+"M":"")+(l?a+n+"S":"")):"P0D"}var cs=sn.prototype;return cs.isValid=on,cs.abs=Cr,cs.add=Er,cs.subtract=xr,cs.as=Qr,cs.asMilliseconds=Or,cs.asSeconds=Rr,cs.asMinutes=Pr,cs.asHours=Nr,cs.asDays=Fr,cs.asWeeks=Lr,cs.asMonths=jr,cs.asQuarters=zr,cs.asYears=Ur,cs.valueOf=Mr,cs._bubble=kr,cs.clone=Hr,cs.get=Gr,cs.milliseconds=Yr,cs.seconds=$r,cs.minutes=Wr,cs.hours=Vr,cs.days=Jr,cs.weeks=Xr,cs.months=Kr,cs.years=Zr,cs.humanize=ss,cs.toISOString=ds,cs.toString=ds,cs.toJSON=ds,cs.locale=so,cs.localeData=lo,cs.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ds),cs.lang=ao,j("X",0,0,"unix"),j("x",0,0,"valueOf"),Ot("x",St),Ot("X",Mt),Lt("X",(function(t,e,i){i._d=new Date(1e3*parseFloat(t))})),Lt("x",(function(t,e,i){i._d=new Date(ct(t))})),
//! moment.js
n.version="2.29.4",o(Wi),n.fn=dr,n.min=Zi,n.max=Xi,n.now=tn,n.utc=p,n.unix=cr,n.months=fr,n.isDate=h,n.locale=pi,n.invalid=v,n.duration=kn,n.isMoment=C,n.weekdays=br,n.parseZone=hr,n.localeData=fi,n.isDuration=an,n.monthsShort=vr,n.weekdaysMin=_r,n.defineLocale=mi,n.updateLocale=gi,n.locales=vi,n.weekdaysShort=yr,n.normalizeUnits=nt,n.relativeTimeRounding=os,n.relativeTimeThreshold=rs,n.calendarFormat=zn,n.prototype=dr,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}()}(kE);var SE=kE.exports,DE={exports:{}},QE={},ME={exports:{}},TE={};function OE(){var t={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return t}var RE=/javascript\s*\:/gim;TE.whiteList=OE(),TE.getDefaultWhiteList=OE,TE.onAttr=function(t,e,i){},TE.onIgnoreAttr=function(t,e,i){},TE.safeAttrValue=function(t,e){return RE.test(e)?"":e};var PE={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,o;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}};var NE=function(t,e){";"!==(t=PE.trimRight(t))[t.length-1]&&(t+=";");var i=t.length,n=!1,o=0,r=0,s="";function a(){if(!n){var i=PE.trim(t.slice(o,r)),a=i.indexOf(":");if(-1!==a){var l=PE.trim(i.slice(0,a)),d=PE.trim(i.slice(a+1));if(l){var c=e(o,s.length,l,d,i);c&&(s+=c+"; ")}}}o=r+1}for(;r<i;r++){var l=t[r];if("/"===l&&"*"===t[r+1]){var d=t.indexOf("*/",r+2);if(-1===d)break;o=(r=d+1)+1,n=!1}else"("===l?n=!0:")"===l?n=!1:";"===l?n||a():"\n"===l&&a()}return PE.trim(s)},FE=TE,LE=NE;function jE(t){return null==t}function zE(t){(t=function(t){var e={};for(var i in t)e[i]=t[i];return e}(t||{})).whiteList=t.whiteList||FE.whiteList,t.onAttr=t.onAttr||FE.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||FE.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||FE.safeAttrValue,this.options=t}zE.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,i=e.whiteList,n=e.onAttr,o=e.onIgnoreAttr,r=e.safeAttrValue,s=LE(t,(function(t,e,s,a,l){var d=i[s],c=!1;if(!0===d?c=d:"function"==typeof d?c=d(a):d instanceof RegExp&&(c=d.test(a)),!0!==c&&(c=!1),a=r(s,a)){var h,u={position:e,sourcePosition:t,source:l,isWhite:c};return c?jE(h=n(s,a,u))?s+":"+a:h:jE(h=o(s,a,u))?void 0:h}}));return s};var UE=zE;!function(t,e){var i=TE,n=UE;for(var o in e=t.exports=function(t,e){return new n(e).process(t)},e.FilterCSS=n,i)e[o]=i[o];"undefined"!=typeof window&&(window.filterCSS=t.exports)}(ME,ME.exports);var HE={indexOf:function(t,e){var i,n;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var n,o;if(Array.prototype.forEach)return t.forEach(e,i);for(n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/.exec(t);return e?e.index:-1}},GE=ME.exports.FilterCSS,qE=ME.exports.getDefaultWhiteList,YE=HE;function $E(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var WE=new GE;function VE(t){return t.replace(JE,"&lt;").replace(KE,"&gt;")}var JE=/</g,KE=/>/g,ZE=/"/g,XE=/&quot;/g,tx=/&#([a-zA-Z0-9]*);?/gim,ex=/&colon;?/gim,ix=/&newline;?/gim,nx=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,ox=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,rx=/u\s*r\s*l\s*\(.*/gi;function sx(t){return t.replace(ZE,"&quot;")}function ax(t){return t.replace(XE,'"')}function lx(t){return t.replace(tx,(function(t,e){return"x"===e[0]||"X"===e[0]?String.fromCharCode(parseInt(e.substr(1),16)):String.fromCharCode(parseInt(e,10))}))}function dx(t){return t.replace(ex,":").replace(ix," ")}function cx(t){for(var e="",i=0,n=t.length;i<n;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return YE.trim(e)}function hx(t){return t=cx(t=dx(t=lx(t=ax(t))))}function ux(t){return t=VE(t=sx(t))}QE.whiteList={a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]},QE.getDefaultWhiteList=$E,QE.onTag=function(t,e,i){},QE.onIgnoreTag=function(t,e,i){},QE.onTagAttr=function(t,e,i){},QE.onIgnoreTagAttr=function(t,e,i){},QE.safeAttrValue=function(t,e,i,n){if(i=hx(i),"href"===e||"src"===e){if("#"===(i=YE.trim(i)))return"#";if("http://"!==i.substr(0,7)&&"https://"!==i.substr(0,8)&&"mailto:"!==i.substr(0,7)&&"tel:"!==i.substr(0,4)&&"data:image/"!==i.substr(0,11)&&"ftp://"!==i.substr(0,6)&&"./"!==i.substr(0,2)&&"../"!==i.substr(0,3)&&"#"!==i[0]&&"/"!==i[0])return""}else if("background"===e){if(nx.lastIndex=0,nx.test(i))return""}else if("style"===e){if(ox.lastIndex=0,ox.test(i))return"";if(rx.lastIndex=0,rx.test(i)&&(nx.lastIndex=0,nx.test(i)))return"";!1!==n&&(i=(n=n||WE).process(i))}return i=ux(i)},QE.escapeHtml=VE,QE.escapeQuote=sx,QE.unescapeQuote=ax,QE.escapeHtmlEntities=lx,QE.escapeDangerHtml5Entities=dx,QE.clearNonPrintableCharacter=cx,QE.friendlyAttrValue=hx,QE.escapeAttrValue=ux,QE.onIgnoreTagStripAll=function(){return""},QE.StripTagBody=function(t,e){"function"!=typeof e&&(e=function(){});var i=!Array.isArray(t),n=[],o=!1;return{onIgnoreTag:function(r,s,a){if(function(e){return!!i||-1!==YE.indexOf(t,e)}(r)){if(a.isClosing){var l="[/removed]",d=a.position+l.length;return n.push([!1!==o?o:a.position,d]),o=!1,l}return o||(o=a.position),"[removed]"}return e(r,s,a)},remove:function(t){var e="",i=0;return YE.forEach(n,(function(n){e+=t.slice(i,n[0]),i=n[1]})),e+=t.slice(i)}}},QE.stripCommentTag=function(t){for(var e="",i=0;i<t.length;){var n=t.indexOf("\x3c!--",i);if(-1===n){e+=t.slice(i);break}e+=t.slice(i,n);var o=t.indexOf("--\x3e",n);if(-1===o)break;i=o+3}return e},QE.stripBlankChar=function(t){var e=t.split("");return e=e.filter((function(t){var e=t.charCodeAt(0);return 127!==e&&(!(e<=31)||(10===e||13===e))})),e.join("")},QE.cssFilter=WE,QE.getDefaultCSSWhiteList=qE;var Ax={},px=HE;function mx(t){var e,i=px.spaceIndex(t);return e=-1===i?t.slice(1,-1):t.slice(1,i+1),"/"===(e=px.trim(e).toLowerCase()).slice(0,1)&&(e=e.slice(1)),"/"===e.slice(-1)&&(e=e.slice(0,-1)),e}function gx(t){return"</"===t.slice(0,2)}var fx=/[^a-zA-Z0-9\\_:.-]/gim;function vx(t,e){for(;e<t.length;e++){var i=t[e];if(" "!==i)return"="===i?e:-1}}function bx(t,e){for(;e<t.length;e++){var i=t[e];if(" "!==i)return"'"===i||'"'===i?e:-1}}function yx(t,e){for(;e>0;e--){var i=t[e];if(" "!==i)return"="===i?e:-1}}function _x(t){return function(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}(t)?t.substr(1,t.length-2):t}Ax.parseTag=function(t,e,i){var n="",o=0,r=!1,s=!1,a=0,l=t.length,d="",c="";t:for(a=0;a<l;a++){var h=t.charAt(a);if(!1===r){if("<"===h){r=a;continue}}else if(!1===s){if("<"===h){n+=i(t.slice(o,a)),r=a,o=a;continue}if(">"===h||a===l-1){n+=i(t.slice(o,r)),d=mx(c=t.slice(r,a+1)),n+=e(r,n.length,d,c,gx(c)),o=a+1,r=!1;continue}if('"'===h||"'"===h)for(var u=1,A=t.charAt(a-u);""===A.trim()||"="===A;){if("="===A){s=h;continue t}A=t.charAt(a-++u)}}else if(h===s){s=!1;continue}}return o<l&&(n+=i(t.substr(o))),n},Ax.parseAttr=function(t,e){var i=0,n=0,o=[],r=!1,s=t.length;function a(t,i){if(!((t=(t=px.trim(t)).replace(fx,"").toLowerCase()).length<1)){var n=e(t,i||"");n&&o.push(n)}}for(var l=0;l<s;l++){var d,c=t.charAt(l);if(!1!==r||"="!==c)if(!1===r||l!==n)if(/\s|\n|\t/.test(c)){if(t=t.replace(/\s|\n|\t/g," "),!1===r){if(-1===(d=vx(t,l))){a(px.trim(t.slice(i,l))),r=!1,i=l+1;continue}l=d-1;continue}if(-1===(d=yx(t,l-1))){a(r,_x(px.trim(t.slice(i,l)))),r=!1,i=l+1;continue}}else;else{if(-1===(d=t.indexOf(c,l+1)))break;a(r,px.trim(t.slice(n+1,d))),r=!1,i=(l=d)+1}else r=t.slice(i,l),i=l+1,n='"'===t.charAt(i)||"'"===t.charAt(i)?i:bx(t,l+1)}return i<t.length&&(!1===r?a(t.slice(i)):a(r,_x(px.trim(t.slice(i))))),px.trim(o.join(" "))};var wx=ME.exports.FilterCSS,Cx=QE,Ix=Ax,Ex=Ix.parseTag,xx=Ix.parseAttr,Bx=HE;function kx(t){return null==t}function Sx(t){(t=function(t){var e={};for(var i in t)e[i]=t[i];return e}(t||{})).stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Cx.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=function(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map((function(t){return t.toLowerCase()})):e[i.toLowerCase()]=t[i];return e}(t.whiteList||t.allowList):t.whiteList=Cx.whiteList,t.onTag=t.onTag||Cx.onTag,t.onTagAttr=t.onTagAttr||Cx.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Cx.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Cx.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Cx.safeAttrValue,t.escapeHtml=t.escapeHtml||Cx.escapeHtml,this.options=t,!1===t.css?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new wx(t.css))}Sx.prototype.process=function(t){if(!(t=(t=t||"").toString()))return"";var e=this.options,i=e.whiteList,n=e.onTag,o=e.onIgnoreTag,r=e.onTagAttr,s=e.onIgnoreTagAttr,a=e.safeAttrValue,l=e.escapeHtml,d=this.cssFilter;e.stripBlankChar&&(t=Cx.stripBlankChar(t)),e.allowCommentTag||(t=Cx.stripCommentTag(t));var c=!1;e.stripIgnoreTagBody&&(c=Cx.StripTagBody(e.stripIgnoreTagBody,o),o=c.onIgnoreTag);var h=Ex(t,(function(t,e,c,h,u){var A={sourcePosition:t,position:e,isClosing:u,isWhite:Object.prototype.hasOwnProperty.call(i,c)},p=n(c,h,A);if(!kx(p))return p;if(A.isWhite){if(A.isClosing)return"</"+c+">";var m=function(t){var e=Bx.spaceIndex(t);if(-1===e)return{html:"",closing:"/"===t[t.length-2]};var i="/"===(t=Bx.trim(t.slice(e+1,-1)))[t.length-1];return i&&(t=Bx.trim(t.slice(0,-1))),{html:t,closing:i}}(h),g=i[c],f=xx(m.html,(function(t,e){var i=-1!==Bx.indexOf(g,t),n=r(c,t,e,i);return kx(n)?i?(e=a(c,t,e,d))?t+'="'+e+'"':t:kx(n=s(c,t,e,i))?void 0:n:n}));return h="<"+c,f&&(h+=" "+f),m.closing&&(h+=" /"),h+=">"}return kx(p=o(c,h,A))?l(h):p}),l);return c&&(h=c.remove(h)),h};var Dx=Sx;!function(t,e){var i=QE,n=Ax,o=Dx;function r(t,e){return new o(e).process(t)}(e=t.exports=r).filterXSS=r,e.FilterXSS=o,function(){for(var t in i)e[t]=i[t];for(var o in n)e[o]=n[o]}(),"undefined"!=typeof window&&(window.filterXSS=t.exports),"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope&&(self.filterXSS=t.exports)}(DE,DE.exports);var Qx=DE.exports,Mx=null;
/**
 * vis-timeline and vis-graph2d
 * https://visjs.github.io/vis-timeline/
 *
 * Create a fully customizable, interactive timeline with items and ranges.
 *
 * @version 7.7.0
 * @date    2022-07-10T21:34:08.601Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
var Tx="undefined"!=typeof window&&window.moment||SE;function Ox(t){if(!t)return!1;let e=t.idProp??t._idProp;return!!e&&function(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof e.forEach&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof e.map&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.stream&&function(t,e){return"object"==typeof e&&null!==e&&t===e.idProp&&"function"==typeof e.add&&"function"==typeof e.clear&&"function"==typeof e.distinct&&"function"==typeof e.forEach&&"function"==typeof e.get&&"function"==typeof e.getDataSet&&"function"==typeof e.getIds&&"number"==typeof e.length&&"function"==typeof e.map&&"function"==typeof e.max&&"function"==typeof e.min&&"function"==typeof e.off&&"function"==typeof e.on&&"function"==typeof e.remove&&"function"==typeof e.setOptions&&"function"==typeof e.stream&&"function"==typeof e.update&&"function"==typeof e.updateOnly}(t,e.getDataSet())}(e,t)}const Rx=/^\/?Date\((-?\d+)/i,Px=/^\d+$/;function Nx(t,e){let i;if(void 0!==t){if(null===t)return null;if(!e)return t;if("string"!=typeof e&&!(e instanceof String))throw new Error("Type must be a string");switch(e){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return bI(t)&&!isNaN(Date.parse(t))?SE(t).valueOf():Number(t.valueOf());case"string":case"String":return String(t);case"Date":try{return Nx(t,"Moment").toDate()}catch(i){throw i instanceof TypeError?new TypeError("Cannot convert object of type "+II(t)+" to type "+e):i}case"Moment":if(vI(t))return SE(t);if(t instanceof Date)return SE(t.valueOf());if(SE.isMoment(t))return SE(t);if(bI(t))return i=Rx.exec(t),i?SE(Number(i[1])):(i=Px.exec(t),SE(i?Number(t):t));throw new TypeError("Cannot convert object of type "+II(t)+" to type "+e);case"ISODate":if(vI(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(SE.isMoment(t))return t.toDate().toISOString();if(bI(t))return i=Rx.exec(t),i?new Date(Number(i[1])).toISOString():SE(t).format();throw new Error("Cannot convert object of type "+II(t)+" to type ISODate");case"ASPDate":if(vI(t))return"/Date("+t+")/";if(t instanceof Date||SE.isMoment(t))return"/Date("+t.valueOf()+")/";if(bI(t)){let e;return i=Rx.exec(t),e=i?new Date(Number(i[1])).valueOf():new Date(t).valueOf(),"/Date("+e+")/"}throw new Error("Cannot convert object of type "+II(t)+" to type ASPDate");default:throw new Error(`Unknown type ${e}`)}}}function Fx(t,e={start:"Date",end:"Date"}){const i=t._idProp,n=new EE({fieldId:i}),o=(r=t,new yE(r)).map((t=>Object.keys(t).reduce(((i,n)=>(i[n]=Nx(t[n],e[n]),i)),{}))).to(n);
/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 7.1.4
 * @date    2022-03-15T15:23:59.245Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */
var r;return o.all().start(),{add:(...e)=>t.getDataSet().add(...e),remove:(...e)=>t.getDataSet().remove(...e),update:(...e)=>t.getDataSet().update(...e),updateOnly:(...e)=>t.getDataSet().updateOnly(...e),clear:(...e)=>t.getDataSet().clear(...e),forEach:n.forEach.bind(n),get:n.get.bind(n),getIds:n.getIds.bind(n),off:n.off.bind(n),on:n.on.bind(n),get length(){return n.length},idProp:i,type:e,rawDS:t,coercedDS:n,dispose:()=>o.stop()}}const Lx=t=>{const e=new Qx.FilterXSS(t);return t=>e.process(t)},jx=t=>t;let zx=Lx();const Ux={...tE,convert:Nx,setupXSSProtection:t=>{t&&(!0===t.disabled?(zx=jx,console.warn("You disabled XSS protection for vis-Timeline. I sure hope you know what you're doing!")):t.filterOptions&&(zx=Lx(t.filterOptions)))}};Object.defineProperty(Ux,"xss",{get:function(){return zx}});class Hx{constructor(t,e){this.options=null,this.props=null}setOptions(t){t&&Ux.extend(this.options,t)}redraw(){return!1}destroy(){}_isResized(){const t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t}}function Gx(t,e,i){if(i&&!Array.isArray(i))return Gx(t,e,[i]);if(e.hiddenDates=[],i&&1==Array.isArray(i)){for(let n=0;n<i.length;n++)if(void 0===i[n].repeat){const o={};o.start=t(i[n].start).toDate().valueOf(),o.end=t(i[n].end).toDate().valueOf(),e.hiddenDates.push(o)}e.hiddenDates.sort(((t,e)=>t.start-e.start))}}function qx(t,e,i){if(i&&!Array.isArray(i))return qx(t,e,[i]);if(i&&void 0!==e.domProps.centerContainer.width){Gx(t,e,i);const n=t(e.range.start),o=t(e.range.end),r=(e.range.end-e.range.start)/e.domProps.centerContainer.width;for(let s=0;s<i.length;s++)if(void 0!==i[s].repeat){const a=t(i[s].start);let l=t(i[s].end);if("Invalid Date"==a._d)throw new Error(`Supplied start date is not valid: ${i[s].start}`);if("Invalid Date"==l._d)throw new Error(`Supplied end date is not valid: ${i[s].end}`);if(l-a>=4*r){let t=0;const r=o.clone();switch(i[s].repeat){case"daily":a.day()!=l.day()&&(t=1),a.dayOfYear(n.dayOfYear()),a.year(n.year()),a.subtract(7,"days"),l.dayOfYear(n.dayOfYear()),l.year(n.year()),l.subtract(7-t,"days"),r.add(1,"weeks");break;case"weekly":{const t=l.diff(a,"days"),e=a.day();a.date(n.date()),a.month(n.month()),a.year(n.year()),l=a.clone(),a.day(e),l.day(e),l.add(t,"days"),a.subtract(1,"weeks"),l.subtract(1,"weeks"),r.add(1,"weeks");break}case"monthly":a.month()!=l.month()&&(t=1),a.month(n.month()),a.year(n.year()),a.subtract(1,"months"),l.month(n.month()),l.year(n.year()),l.subtract(1,"months"),l.add(t,"months"),r.add(1,"months");break;case"yearly":a.year()!=l.year()&&(t=1),a.year(n.year()),a.subtract(1,"years"),l.year(n.year()),l.subtract(1,"years"),l.add(t,"years"),r.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[s].repeat)}for(;a<r;)switch(e.hiddenDates.push({start:a.valueOf(),end:l.valueOf()}),i[s].repeat){case"daily":a.add(1,"days"),l.add(1,"days");break;case"weekly":a.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":a.add(1,"months"),l.add(1,"months");break;case"yearly":a.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[s].repeat)}e.hiddenDates.push({start:a.valueOf(),end:l.valueOf()})}}!function(t){const e=t.hiddenDates,i=[];for(var n=0;n<e.length;n++)for(let t=0;t<e.length;t++)n!=t&&1!=e[t].remove&&1!=e[n].remove&&(e[t].start>=e[n].start&&e[t].end<=e[n].end?e[t].remove=!0:e[t].start>=e[n].start&&e[t].start<=e[n].end?(e[n].end=e[t].end,e[t].remove=!0):e[t].end>=e[n].start&&e[t].end<=e[n].end&&(e[n].start=e[t].start,e[t].remove=!0));for(n=0;n<e.length;n++)!0!==e[n].remove&&i.push(e[n]);t.hiddenDates=i,t.hiddenDates.sort(((t,e)=>t.start-e.start))}(e);const s=Zx(e.range.start,e.hiddenDates),a=Zx(e.range.end,e.hiddenDates);let l=e.range.start,d=e.range.end;1==s.hidden&&(l=1==e.range.startToFront?s.startDate-1:s.endDate+1),1==a.hidden&&(d=1==e.range.endToFront?a.startDate-1:a.endDate+1),1!=s.hidden&&1!=a.hidden||e.range._applyRange(l,d)}}function Yx(t,e,i){let n;if(0==t.body.hiddenDates.length)return n=t.range.conversion(i),(e.valueOf()-n.offset)*n.scale;{const o=Zx(e,t.body.hiddenDates);1==o.hidden&&(e=o.startDate);const r=Wx(t.body.hiddenDates,t.range.start,t.range.end);if(e<t.range.start){n=t.range.conversion(i,r);const o=function(t,e,i){let n=0;for(let o=0;o<t.length;o++){const r=t[o].start,s=t[o].end;r>=e&&s<=i&&(n+=s-r)}return n}(t.body.hiddenDates,e,n.offset);return e=t.options.moment(e).toDate().valueOf(),e+=o,-(n.offset-e.valueOf())*n.scale}if(e>t.range.end){const o={start:t.range.start,end:e};return e=Vx(t.options.moment,t.body.hiddenDates,o,e),n=t.range.conversion(i,r),(e.valueOf()-n.offset)*n.scale}return e=Vx(t.options.moment,t.body.hiddenDates,t.range,e),n=t.range.conversion(i,r),(e.valueOf()-n.offset)*n.scale}}function $x(t,e,i){if(0==t.body.hiddenDates.length){const n=t.range.conversion(i);return new Date(e/n.scale+n.offset)}{const n=Wx(t.body.hiddenDates,t.range.start,t.range.end),o=(t.range.end-t.range.start-n)*e/i,r=function(t,e,i){let n=0,o=0,r=e.start;for(let s=0;s<t.length;s++){const a=t[s].start,l=t[s].end;if(a>=e.start&&l<e.end){if(o+=a-r,r=l,o>=i)break;n+=l-a}}return n}(t.body.hiddenDates,t.range,o);return new Date(r+o+t.range.start)}}function Wx(t,e,i){let n=0;for(let o=0;o<t.length;o++){const r=t[o].start,s=t[o].end;r>=e&&s<i&&(n+=s-r)}return n}function Vx(t,e,i,n){return n=t(n).toDate().valueOf(),n-=Jx(t,e,i,n)}function Jx(t,e,i,n){let o=0;n=t(n).toDate().valueOf();for(let t=0;t<e.length;t++){const r=e[t].start,s=e[t].end;r>=i.start&&s<i.end&&n>=s&&(o+=s-r)}return o}function Kx(t,e,i,n){const o=Zx(e,t);return 1==o.hidden?i<0?1==n?o.startDate-(o.endDate-e)-1:o.startDate-1:1==n?o.endDate+(e-o.startDate)+1:o.endDate+1:e}function Zx(t,e){for(let o=0;o<e.length;o++){var i=e[o].start,n=e[o].end;if(t>=i&&t<n)return{hidden:!0,startDate:i,endDate:n}}return{hidden:!1,startDate:i,endDate:n}}class Xx extends Hx{constructor(t,e){super();const i=Tx().hours(0).minutes(0).seconds(0).milliseconds(0),n=i.clone().add(-3,"days").valueOf(),o=i.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===e?(this.start=n,this.end=o):(this.start=e.start||n,this.end=e.end||o),this.rolling=!1,this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:Tx,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=Ux.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(e)}setOptions(t){if(t){const e=["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","zoomFriction","rtl","showCurrentTime","rollingMode","horizontalScroll"];Ux.selectiveExtend(e,this.options,t),t.rollingMode&&t.rollingMode.follow&&this.startRolling(),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}}startRolling(){const t=this;!function e(){t.stopRolling(),t.rolling=!0;let i=t.end-t.start;const n=Ux.convert(new Date,"Date").valueOf(),o=t.options.rollingMode&&t.options.rollingMode.offset||.5,r=n-i*o,s=n+i*(1-o);t.setRange(r,s,{animation:!1}),i=1/t.conversion(t.body.domProps.center.width).scale/10,i<30&&(i=30),i>1e3&&(i=1e3),t.body.dom.rollingModeBtn.style.visibility="hidden",t.currentTimeTimer=setTimeout(e,i)}()}stopRolling(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")}setRange(t,e,i,n,o){i||(i={}),!0!==i.byUser&&(i.byUser=!1);const r=this,s=null!=t?Ux.convert(t,"Date").valueOf():null,a=null!=e?Ux.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,i.animation){const t=this.start,e=this.end,d="object"==typeof i.animation&&"duration"in i.animation?i.animation.duration:500,c="object"==typeof i.animation&&"easingFunction"in i.animation?i.animation.easingFunction:"easeInOutQuad",h=Ux.easingFunctions[c];if(!h)throw new Error(`Unknown easing function ${JSON.stringify(c)}. Choose from: ${Object.keys(Ux.easingFunctions).join(", ")}`);const u=Date.now();let A=!1;const p=()=>{if(!r.props.touch.dragging){const c=Date.now()-u,m=h(c/d),g=c>d,f=g||null===s?s:t+(s-t)*m,v=g||null===a?a:e+(a-e)*m;l=r._applyRange(f,v),qx(r.options.moment,r.body,r.options.hiddenDates),A=A||l;const b={start:new Date(r.start),end:new Date(r.end),byUser:i.byUser,event:i.event};if(o&&o(m,l,g),l&&r.body.emitter.emit("rangechange",b),g){if(A&&(r.body.emitter.emit("rangechanged",b),n))return n()}else r.animationTimer=setTimeout(p,20)}};return p()}var l=this._applyRange(s,a);if(qx(this.options.moment,this.body,this.options.hiddenDates),l){const t={start:new Date(this.start),end:new Date(this.end),byUser:i.byUser,event:i.event};if(this.body.emitter.emit("rangechange",t),clearTimeout(r.timeoutID),r.timeoutID=setTimeout((()=>{r.body.emitter.emit("rangechanged",t)}),200),n)return n()}}getMillisecondsPerPixel(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache}_cancelAnimation(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)}_applyRange(t,e){let i=null!=t?Ux.convert(t,"Date").valueOf():this.start,n=null!=e?Ux.convert(e,"Date").valueOf():this.end;const o=null!=this.options.max?Ux.convert(this.options.max,"Date").valueOf():null,r=null!=this.options.min?Ux.convert(this.options.min,"Date").valueOf():null;let s;if(isNaN(i)||null===i)throw new Error(`Invalid start "${t}"`);if(isNaN(n)||null===n)throw new Error(`Invalid end "${e}"`);if(n<i&&(n=i),null!==r&&i<r&&(s=r-i,i+=s,n+=s,null!=o&&n>o&&(n=o)),null!==o&&n>o&&(s=n-o,i-=s,n-=s,null!=r&&i<r&&(i=r)),null!==this.options.zoomMin){let t=parseFloat(this.options.zoomMin);if(t<0&&(t=0),n-i<t){const e=.5;this.end-this.start===t&&i>=this.start-e&&n<=this.end?(i=this.start,n=this.end):(s=t-(n-i),i-=s/2,n+=s/2)}}if(null!==this.options.zoomMax){let t=parseFloat(this.options.zoomMax);t<0&&(t=0),n-i>t&&(this.end-this.start===t&&i<this.start&&n>this.end?(i=this.start,n=this.end):(s=n-i-t,i+=s/2,n-=s/2))}const a=this.start!=i||this.end!=n;return i>=this.start&&i<=this.end||n>=this.start&&n<=this.end||this.start>=i&&this.start<=n||this.end>=i&&this.end<=n||this.body.emitter.emit("checkRangedItems"),this.start=i,this.end=n,a}getRange(){return{start:this.start,end:this.end}}conversion(t,e){return Xx.conversion(this.start,this.end,t,e)}static conversion(t,e,i,n){return void 0===n&&(n=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-n)}:{offset:0,scale:1}}_onDragStart(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(t)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))}_onDrag(t){if(!t)return;if(!this.props.touch.dragging)return;if(!this.options.moveable)return;if(!this.props.touch.allowDragging)return;const e=this.options.direction;tB(e);let i="horizontal"==e?t.deltaX:t.deltaY;i-=this.deltaDifference;let n=this.props.touch.end-this.props.touch.start;n-=Wx(this.body.hiddenDates,this.start,this.end);const o="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height;let r;r=this.options.rtl?i/o*n:-i/o*n;const s=this.props.touch.start+r,a=this.props.touch.end+r,l=Kx(this.body.hiddenDates,s,this.previousDelta-i,!0),d=Kx(this.body.hiddenDates,a,this.previousDelta-i,!0);if(l!=s||d!=a)return this.deltaDifference+=i,this.props.touch.start=l,this.props.touch.end=d,void this._onDrag(t);this.previousDelta=i,this._applyRange(s,a);const c=new Date(this.start),h=new Date(this.end);this.body.emitter.emit("rangechange",{start:c,end:h,byUser:!0,event:t}),this.body.emitter.emit("panmove")}_onDragEnd(t){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:t}))}_onMouseWheel(t){let e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail?e=-t.detail/3:t.deltaY&&(e=-t.deltaY/3),!(this.options.zoomKey&&!t[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(t)&&e){const i=this.options.zoomFriction||5;let n,o;if(n=e<0?1-e/i:1/(1+e/i),this.rolling){const t=this.options.rollingMode&&this.options.rollingMode.offset||.5;o=this.start+(this.end-this.start)*t}else{const e=this.getPointer({x:t.clientX,y:t.clientY},this.body.dom.center);o=this._pointerToDate(e)}this.zoom(n,o,e,t),t.preventDefault()}}_onTouch(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.props.touch.centerDate=null,this.scaleOffset=0,this.deltaDifference=0,Ux.preventDefault(t)}_onPinch(t){if(!this.options.zoomable||!this.options.moveable)return;Ux.preventDefault(t),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(t.center,this.body.dom.center),this.props.touch.centerDate=this._pointerToDate(this.props.touch.center)),this.stopRolling();const e=1/(t.scale+this.scaleOffset),i=this.props.touch.centerDate,n=Wx(this.body.hiddenDates,this.start,this.end),o=Jx(this.options.moment,this.body.hiddenDates,this,i),r=n-o;let s=i-o+(this.props.touch.start-(i-o))*e,a=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=1-e<=0,this.endToFront=e-1<=0;const l=Kx(this.body.hiddenDates,s,1-e,!0),d=Kx(this.body.hiddenDates,a,e-1,!0);l==s&&d==a||(this.props.touch.start=l,this.props.touch.end=d,this.scaleOffset=1-t.scale,s=l,a=d);const c={animation:!1,byUser:!0,event:t};this.setRange(s,a,c),this.startToFront=!1,this.endToFront=!0}_isInsideRange(t){const e=t.center?t.center.x:t.clientX,i=this.body.dom.centerContainer.getBoundingClientRect(),n=this.options.rtl?e-i.left:i.right-e,o=this.body.util.toTime(n);return o>=this.start&&o<=this.end}_pointerToDate(t){let e;const i=this.options.direction;if(tB(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();{const i=this.body.domProps.center.height;return e=this.conversion(i),t.y/e.scale+e.offset}}getPointer(t,e){const i=e.getBoundingClientRect();return this.options.rtl?{x:i.right-t.x,y:t.y-i.top}:{x:t.x-i.left,y:t.y-i.top}}zoom(t,e,i,n){null==e&&(e=(this.start+this.end)/2);const o=Wx(this.body.hiddenDates,this.start,this.end),r=Jx(this.options.moment,this.body.hiddenDates,this,e),s=o-r;let a=e-r+(this.start-(e-r))*t,l=e+s+(this.end-(e+s))*t;this.startToFront=!(i>0),this.endToFront=!(-i>0);const d=Kx(this.body.hiddenDates,a,i,!0),c=Kx(this.body.hiddenDates,l,-i,!0);d==a&&c==l||(a=d,l=c);const h={animation:!1,byUser:!0,event:n};this.setRange(a,l,h),this.startToFront=!1,this.endToFront=!0}move(t){const e=this.end-this.start,i=this.start+e*t,n=this.end+e*t;this.start=i,this.end=n}moveTo(t){const e=(this.start+this.end)/2-t,i=this.start-e,n=this.end-e;this.setRange(i,n,{animation:!1,byUser:!0,event:null})}}function tB(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError(`Unknown direction "${t}". Choose "horizontal" or "vertical".`)}let eB;if("undefined"!=typeof window){eB=function t(e,i){var n=i||{preventDefault:!1};if(e.Manager){var o=e,r=function(e,i){var r=Object.create(n);return i&&o.assign(r,i),t(new o(e,r),r)};return o.assign(r,o),r.Manager=function(e,i){var r=Object.create(n);return i&&o.assign(r,i),t(new o.Manager(e,r),r)},r}var s=Object.create(e),a=e.element;function l(t){return t.match(/[^ ]+/g)}function d(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var e=!1;t.stopPropagation=function(){e=!0};var i=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof i&&(t.srcEvent.stopPropagation=function(){i(),t.stopPropagation()}),t.firstTarget=Mx;for(var n=Mx;n&&!e;){var o=n.hammer;if(o)for(var r,s=0;s<o.length;s++)if(r=o[s]._handlers[t.type])for(var a=0;a<r.length&&!e;a++)r[a](t);n=n.parentNode}}return a.hammer||(a.hammer=[]),a.hammer.push(s),e.on("hammer.input",(function(t){!0!==n.preventDefault&&n.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(Mx=t.target)})),s._handlers={},s.on=function(t,i){return l(t).forEach((function(t){var n=s._handlers[t];n||(s._handlers[t]=n=[],e.on(t,d)),n.push(i)})),s},s.off=function(t,i){return l(t).forEach((function(t){var n=s._handlers[t];n&&(n=i?n.filter((function(t){return t!==i})):[],n.length>0?s._handlers[t]=n:(e.off(t,d),delete s._handlers[t]))})),s},s.emit=function(t,i){Mx=i.target,e.emit(t,i)},s.destroy=function(){var t=e.element.hammer,i=t.indexOf(s);-1!==i&&t.splice(i,1),t.length||delete e.element.hammer,s._handlers={},e.destroy()},s}(window.Hammer||oI,{preventDefault:"mouse"})}else eB=()=>function(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get:e=>({set:t})}}();var iB=eB;function nB(t,e){e.inputHandler=function(t){t.isFirst&&e(t)},t.on("hammer.input",e.inputHandler)}class oB{constructor(t,e,i,n,o){this.moment=o&&o.moment||Tx,this.options=o||{},this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,Array.isArray(n)?this.hiddenDates=n:this.hiddenDates=null!=n?[n]:[],this.format=oB.FORMAT}setMoment(t){this.moment=t,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())}setFormat(t){const e=Ux.deepExtend({},oB.FORMAT);this.format=Ux.deepExtend(e,t)}setRange(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=t?this.moment(t.valueOf()):Date.now(),this._end=null!=e?this.moment(e.valueOf()):Date.now(),this.autoScale&&this.setMinimumStep(i)}start(){this.current=this._start.clone(),this.roundToMinor()}roundToMinor(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step){let t=this.current.clone();switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}t.isSame(this.current)||(this.current=this.moment(Kx(this.hiddenDates,this.current.valueOf(),-1,!0)))}}hasNext(){return this.current.valueOf()<=this._end.valueOf()}next(){const t=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{const t=this.current.clone();t.add(1,"week"),t.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==t&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,function(t,e,i){let n=!1;const o=e.current.valueOf();for(let t=0;t<e.hiddenDates.length;t++){const i=e.hiddenDates[t].start;var r=e.hiddenDates[t].end;if(o>=i&&o<r){n=!0;break}}if(1==n&&o<e._end.valueOf()&&o!=i){const n=t(i),o=t(r);n.year()!=o.year()?e.switchedYear=!0:n.month()!=o.month()?e.switchedMonth=!0:n.dayOfYear()!=o.dayOfYear()&&(e.switchedDay=!0),e.current=o}}(this.moment,this,t)}getCurrent(){return this.current.clone()}setScale(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)}setAutoScale(t){this.autoScale=t}setMinimumStep(t){if(null==t)return;const e=31104e6,i=2592e6,n=864e5,o=36e5,r=6e4,s=1e3;1e3*e>t&&(this.scale="year",this.step=1e3),500*e>t&&(this.scale="year",this.step=500),100*e>t&&(this.scale="year",this.step=100),50*e>t&&(this.scale="year",this.step=50),10*e>t&&(this.scale="year",this.step=10),5*e>t&&(this.scale="year",this.step=5),e>t&&(this.scale="year",this.step=1),7776e6>t&&(this.scale="month",this.step=3),i>t&&(this.scale="month",this.step=1),6048e5>t&&this.options.showWeekScale&&(this.scale="week",this.step=1),1728e5>t&&(this.scale="day",this.step=2),n>t&&(this.scale="day",this.step=1),432e5>t&&(this.scale="weekday",this.step=1),144e5>t&&(this.scale="hour",this.step=4),o>t&&(this.scale="hour",this.step=1),9e5>t&&(this.scale="minute",this.step=15),6e5>t&&(this.scale="minute",this.step=10),3e5>t&&(this.scale="minute",this.step=5),r>t&&(this.scale="minute",this.step=1),15e3>t&&(this.scale="second",this.step=15),1e4>t&&(this.scale="second",this.step=10),5e3>t&&(this.scale="second",this.step=5),s>t&&(this.scale="second",this.step=1),200>t&&(this.scale="millisecond",this.step=200),100>t&&(this.scale="millisecond",this.step=100),50>t&&(this.scale="millisecond",this.step=50),10>t&&(this.scale="millisecond",this.step=10),5>t&&(this.scale="millisecond",this.step=5),1>t&&(this.scale="millisecond",this.step=1)}static snap(t,e,i){const n=Tx(t);if("year"==e){const t=n.year()+Math.round(n.month()/12);n.year(Math.round(t/i)*i),n.month(0),n.date(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("month"==e)n.date()>15?(n.date(1),n.add(1,"month")):n.date(1),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("week"==e)n.weekday()>2?(n.weekday(0),n.add(1,"week")):n.weekday(0),n.hours(0),n.minutes(0),n.seconds(0),n.milliseconds(0);else if("day"==e){switch(i){case 5:case 2:n.hours(24*Math.round(n.hours()/24));break;default:n.hours(12*Math.round(n.hours()/12))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:n.hours(12*Math.round(n.hours()/12));break;default:n.hours(6*Math.round(n.hours()/6))}n.minutes(0),n.seconds(0),n.milliseconds(0)}else if("hour"==e){if(4===i)n.minutes(60*Math.round(n.minutes()/60));else n.minutes(30*Math.round(n.minutes()/30));n.seconds(0),n.milliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:n.minutes(5*Math.round(n.minutes()/5)),n.seconds(0);break;case 5:n.seconds(60*Math.round(n.seconds()/60));break;default:n.seconds(30*Math.round(n.seconds()/30))}n.milliseconds(0)}else if("second"==e)switch(i){case 15:case 10:n.seconds(5*Math.round(n.seconds()/5)),n.milliseconds(0);break;case 5:n.milliseconds(1e3*Math.round(n.milliseconds()/1e3));break;default:n.milliseconds(500*Math.round(n.milliseconds()/500))}else if("millisecond"==e){const t=i>5?i/2:1;n.milliseconds(Math.round(n.milliseconds()/t)*t)}return n}isMajor(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}const t=this.moment(this.current);switch(this.scale){case"millisecond":return 0==t.milliseconds();case"second":return 0==t.seconds();case"minute":return 0==t.hours()&&0==t.minutes();case"hour":return 0==t.hours();case"weekday":case"day":return this.options.showWeekScale?1==t.isoWeekday():1==t.date();case"week":return 1==t.date();case"month":return 0==t.month();default:return!1}}getLabelMinor(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(t,this.scale,this.step);const e=this.format.minorLabels[this.scale];return"week"===this.scale&&1===t.date()&&0!==t.weekday()?"":e&&e.length>0?this.moment(t).format(e):""}getLabelMajor(t){if(null==t&&(t=this.current),t instanceof Date&&(t=this.moment(t)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(t,this.scale,this.step);const e=this.format.majorLabels[this.scale];return e&&e.length>0?this.moment(t).format(e):""}getClassName(){const t=this.moment,e=this.moment(this.current),i=e.locale?e.locale("en"):e.lang("en"),n=this.step,o=[];function r(t){return t/n%2==0?" vis-even":" vis-odd"}function s(e){return e.isSame(Date.now(),"day")?" vis-today":e.isSame(t().add(1,"day"),"day")?" vis-tomorrow":e.isSame(t().add(-1,"day"),"day")?" vis-yesterday":""}function a(t){return t.isSame(Date.now(),"week")?" vis-current-week":""}function l(t){return t.isSame(Date.now(),"month")?" vis-current-month":""}switch(this.scale){case"millisecond":o.push(s(i)),o.push(r(i.milliseconds()));break;case"second":o.push(s(i)),o.push(r(i.seconds()));break;case"minute":o.push(s(i)),o.push(r(i.minutes()));break;case"hour":o.push(`vis-h${i.hours()}${4==this.step?"-h"+(i.hours()+4):""}`),o.push(s(i)),o.push(r(i.hours()));break;case"weekday":o.push(`vis-${i.format("dddd").toLowerCase()}`),o.push(s(i)),o.push(a(i)),o.push(r(i.date()));break;case"day":o.push(`vis-day${i.date()}`),o.push(`vis-${i.format("MMMM").toLowerCase()}`),o.push(s(i)),o.push(l(i)),o.push(this.step<=2?s(i):""),o.push(this.step<=2?`vis-${i.format("dddd").toLowerCase()}`:""),o.push(r(i.date()-1));break;case"week":o.push(`vis-week${i.format("w")}`),o.push(a(i)),o.push(r(i.week()));break;case"month":o.push(`vis-${i.format("MMMM").toLowerCase()}`),o.push(l(i)),o.push(r(i.month()));break;case"year":o.push(`vis-year${i.year()}`),o.push(function(t){return t.isSame(Date.now(),"year")?" vis-current-year":""}(i)),o.push(r(i.year()))}return o.filter(String).join(" ")}}oB.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}};class rB extends Hx{constructor(t,e){super(),this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,maxMinorChars:7,format:Ux.extend({},oB.FORMAT),moment:Tx,timeAxis:null},this.options=Ux.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}setOptions(t){t&&(Ux.selectiveExtend(["showMinorLabels","showMajorLabels","showWeekScale","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,t),Ux.selectiveDeepExtend(["format"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.axis=t.orientation:"object"==typeof t.orientation&&"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis)),"locale"in t&&("function"==typeof Tx.locale?Tx.locale(t.locale):Tx.lang(t.locale)))}_create(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"}destroy(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null}redraw(){const t=this.props,e=this.dom.foreground,i=this.dom.background,n="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,o=e.parentNode!==n;this._calculateCharSize();const r=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,s=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;t.minorLabelHeight=r?t.minorCharHeight:0,t.majorLabelHeight=s?t.majorCharHeight:0,t.height=t.minorLabelHeight+t.majorLabelHeight,t.width=e.offsetWidth,t.minorLineHeight=this.body.domProps.root.height-t.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),t.minorLineWidth=1,t.majorLineHeight=t.minorLineHeight+t.majorLabelHeight,t.majorLineWidth=1;const a=e.nextSibling,l=i.nextSibling;return e.parentNode&&e.parentNode.removeChild(e),i.parentNode&&i.parentNode.removeChild(i),e.style.height=`${this.props.height}px`,this._repaintLabels(),a?n.insertBefore(e,a):n.appendChild(e),l?this.body.dom.backgroundVertical.insertBefore(i,l):this.body.dom.backgroundVertical.appendChild(i),this._isResized()||o}_repaintLabels(){const t=this.options.orientation.axis,e=Ux.convert(this.body.range.start,"Number"),i=Ux.convert(this.body.range.end,"Number"),n=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf();let o=n-Jx(this.options.moment,this.body.hiddenDates,this.body.range,n);o-=this.body.util.toTime(0).valueOf();const r=new oB(new Date(e),new Date(i),o,this.body.hiddenDates,this.options);r.setMoment(this.options.moment),this.options.format&&r.setFormat(this.options.format),this.options.timeAxis&&r.setScale(this.options.timeAxis),this.step=r;const s=this.dom;let a,l,d,c,h,u;s.redundant.lines=s.lines,s.redundant.majorTexts=s.majorTexts,s.redundant.minorTexts=s.minorTexts,s.lines=[],s.majorTexts=[],s.minorTexts=[];let A,p,m,g=0,f=0;const v=1e3;let b;for(r.start(),l=r.getCurrent(),c=this.body.util.toScreen(l);r.hasNext()&&f<v;){if(f++,h=r.isMajor(),b=r.getClassName(),a=l,d=c,r.next(),l=r.getCurrent(),c=this.body.util.toScreen(l),A=g,g=c-d,"week"===r.scale)u=!0;else u=g>=.4*A;if(this.options.showMinorLabels&&u){var y=this._repaintMinorText(d,r.getLabelMinor(a),t,b);y.style.width=`${g}px`}h&&this.options.showMajorLabels?(d>0&&(null==m&&(m=d),y=this._repaintMajorText(d,r.getLabelMajor(a),t,b)),p=this._repaintMajorLine(d,g,t,b)):u?p=this._repaintMinorLine(d,g,t,b):p&&(p.style.width=`${parseInt(p.style.width)+g}px`)}if(f!==v||sB||(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),sB=!0),this.options.showMajorLabels){const e=this.body.util.toTime(0),i=r.getLabelMajor(e),n=i.length*(this.props.majorCharWidth||10)+10;(null==m||n<m)&&this._repaintMajorText(0,i,t,b)}Ux.forEach(this.dom.redundant,(t=>{for(;t.length;){const e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}}))}_repaintMinorText(t,e,i,n){let o=this.dom.redundant.minorTexts.shift();if(!o){const t=document.createTextNode("");o=document.createElement("div"),o.appendChild(t),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.innerHTML=Ux.xss(e);let r="top"==i?this.props.majorLabelHeight:0;return this._setXY(o,t,r),o.className=`vis-text vis-minor ${n}`,o}_repaintMajorText(t,e,i,n){let o=this.dom.redundant.majorTexts.shift();if(!o){const t=document.createElement("div");o=document.createElement("div"),o.appendChild(t),this.dom.foreground.appendChild(o)}o.childNodes[0].innerHTML=Ux.xss(e),o.className=`vis-text vis-major ${n}`;let r="top"==i?0:this.props.minorLabelHeight;return this._setXY(o,t,r),this.dom.majorTexts.push(o),o}_setXY(t,e,i){const n=this.options.rtl?-1*e:e;t.style.transform=`translate(${n}px, ${i}px)`}_repaintMinorLine(t,e,i,n){let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const r=this.props;o.style.width=`${e}px`,o.style.height=`${r.minorLineHeight}px`;let s="top"==i?r.majorLabelHeight:this.body.domProps.top.height,a=t-r.minorLineWidth/2;return this._setXY(o,a,s),o.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-minor ${n}`,o}_repaintMajorLine(t,e,i,n){let o=this.dom.redundant.lines.shift();o||(o=document.createElement("div"),this.dom.background.appendChild(o)),this.dom.lines.push(o);const r=this.props;o.style.width=`${e}px`,o.style.height=`${r.majorLineHeight}px`;let s="top"==i?0:this.body.domProps.top.height,a=t-r.majorLineWidth/2;return this._setXY(o,a,s),o.className=`vis-grid ${this.options.rtl?"vis-vertical-rtl":"vis-vertical"} vis-major ${n}`,o}_calculateCharSize(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth}}var sB=!1;function aB(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=iB(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((function(t){e.hammer.on(t,(function(t){t.stopPropagation()}))})),document&&document.body&&(this.onClick=function(i){(function(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1})(i.target,t)||e.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=function(t){var e,i=t&&t.preventDefault||!1,n=t&&t.container||window,o={},r={keydown:{},keyup:{}},s={};for(e=97;e<=122;e++)s[String.fromCharCode(e)]={code:e-97+65,shift:!1};for(e=65;e<=90;e++)s[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;e<=9;e++)s[""+e]={code:48+e,shift:!1};for(e=1;e<=12;e++)s["F"+e]={code:111+e,shift:!1};for(e=0;e<=9;e++)s["num"+e]={code:96+e,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},l=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==r[e][t.keyCode]){for(var n=r[e][t.keyCode],o=0;o<n.length;o++)(void 0===n[o].shift||1==n[o].shift&&1==t.shiftKey||0==n[o].shift&&0==t.shiftKey)&&n[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);void 0===r[i][s[t].code]&&(r[i][s[t].code]=[]),r[i][s[t].code].push({fn:e,shift:s[t].shift})},o.bindAll=function(t,e){for(var i in void 0===e&&(e="keydown"),s)s.hasOwnProperty(i)&&o.bind(i,t,e)},o.getKey=function(t){for(var e in s)if(s.hasOwnProperty(e)){if(1==t.shiftKey&&1==s[e].shift&&t.keyCode==s[e].code)return e;if(0==t.shiftKey&&0==s[e].shift&&t.keyCode==s[e].code)return e;if(t.keyCode==s[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===s[t])throw new Error("unsupported key: "+t);if(void 0!==e){var n=[],o=r[i][s[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)o[a].fn==e&&o[a].shift==s[t].shift||n.push(r[i][s[t].code][a]);r[i][s[t].code]=n}else r[i][s[t].code]=[]},o.reset=function(){r={keydown:{},keyup:{}}},o.destroy=function(){r={keydown:{},keyup:{}},n.removeEventListener("keydown",a,!0),n.removeEventListener("keyup",l,!0)},n.addEventListener("keydown",a,!0),n.addEventListener("keyup",l,!0),o}(),this.escListener=this.deactivate.bind(this)}Mw(aB.prototype),aB.current=null,aB.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},aB.prototype.activate=function(){aB.current&&aB.current.deactivate(),aB.current=this,this.active=!0,this.dom.overlay.style.display="none",Ux.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},aB.prototype.deactivate=function(){aB.current===this&&(aB.current=null),this.active=!1,this.dom.overlay.style.display="",Ux.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},aB.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()};const lB={current:"current",time:"time",deleteSelected:"Delete selected"},dB={current:"attuale",time:"tempo",deleteSelected:"Cancella la selezione"},cB={current:"huidige",time:"tijd",deleteSelected:"Selectie verwijderen"},hB={current:"Aktuelle",time:"Zeit",deleteSelected:"Lösche Auswahl"},uB={current:"actuel",time:"heure",deleteSelected:"Effacer la selection"},AB={current:"corriente",time:"hora",deleteSelected:"Eliminar selección"},pB={current:"поточний",time:"час",deleteSelected:"Видалити обране"},mB={current:"текущее",time:"время",deleteSelected:"Удалить выбранное"},gB={current:"aktualny",time:"czas",deleteSelected:"Usuń wybrane"},fB={current:"atual",time:"data",deleteSelected:"Apagar selecionado"},vB={current:"現在",time:"時刻",deleteSelected:"選択されたものを削除"},bB={current:"nuvarande",time:"tid",deleteSelected:"Radera valda"},yB={current:"nåværende",time:"tid",deleteSelected:"Slett valgte"},_B={current:"einamas",time:"laikas",deleteSelected:"Pašalinti pasirinktą"},wB={en:lB,en_EN:lB,en_US:lB,it:dB,it_IT:dB,it_CH:dB,nl:cB,nl_NL:cB,nl_BE:cB,de:hB,de_DE:hB,fr:uB,fr_FR:uB,fr_CA:uB,fr_BE:uB,es:AB,es_ES:AB,uk:pB,uk_UA:pB,ru:mB,ru_RU:mB,pl:gB,pl_PL:gB,pt:fB,pt_BR:fB,pt_PT:fB,ja:vB,ja_JP:vB,lt:_B,lt_LT:_B,sv:bB,sv_SE:bB,nb:yB,nn:yB,nb_NO:yB,nn_NO:yB};class CB extends Hx{constructor(t,e){super(),this.body=t,this.defaultOptions={moment:Tx,locales:wB,locale:"en",id:void 0,title:void 0},this.options=Ux.extend({},this.defaultOptions),this.setOptions(e),this.options.locales=Ux.extend({},wB,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach((t=>{this.options.locales[t]=Ux.extend({},i,this.options.locales[t])})),e&&null!=e.time?this.customTime=e.time:this.customTime=new Date,this.eventParams={},this._create()}setOptions(t){t&&Ux.selectiveExtend(["moment","locale","locales","id","title","rtl","snap"],this.options,t)}_create(){const t=document.createElement("div");t["custom-time"]=this,t.className=`vis-custom-time ${this.options.id||""}`,t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;const e=document.createElement("div");function i(t){this.body.range._onMouseWheel(t)}e.style.position="relative",e.style.top="0px",this.options.rtl?e.style.right="-10px":e.style.left="-10px",e.style.height="100%",e.style.width="20px",e.addEventListener?(e.addEventListener("mousewheel",i.bind(this),!1),e.addEventListener("DOMMouseScroll",i.bind(this),!1)):e.attachEvent("onmousewheel",i.bind(this)),t.appendChild(e),this.hammer=new iB(e),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:iB.DIRECTION_ALL}),this.hammer.get("press").set({time:1e4})}destroy(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null}redraw(){const t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));const e=this.body.util.toScreen(this.customTime);let i=this.options.locales[this.options.locale];i||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),i=this.options.locales.en);let n=this.options.title;return void 0===n?(n=`${i.time}: ${this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")}`,n=n.charAt(0).toUpperCase()+n.substring(1)):"function"==typeof n&&(n=n.call(this,this.customTime)),this.options.rtl?this.bar.style.right=`${e}px`:this.bar.style.left=`${e}px`,this.bar.title=n,!1}hide(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)}setCustomTime(t){this.customTime=Ux.convert(t,"Date"),this.redraw()}getCustomTime(){return new Date(this.customTime.valueOf())}setCustomMarker(t,e){const i=document.createElement("div");i.className="vis-custom-time-marker",i.innerHTML=Ux.xss(t),i.style.position="absolute",e&&(i.setAttribute("contenteditable","true"),i.addEventListener("pointerdown",(function(){i.focus()})),i.addEventListener("input",this._onMarkerChange.bind(this)),i.title=t,i.addEventListener("blur",function(t){this.title!=t.target.innerHTML&&(this._onMarkerChanged(t),this.title=t.target.innerHTML)}.bind(this))),this.bar.appendChild(i)}setCustomTitle(t){this.options.title=t}_onDragStart(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation()}_onDrag(t){if(!this.eventParams.dragging)return;let e=this.options.rtl?-1*t.deltaX:t.deltaX;const i=this.body.util.toScreen(this.eventParams.customTime)+e,n=this.body.util.toTime(i),o=this.body.util.getScale(),r=this.body.util.getStep(),s=this.options.snap,a=s?s(n,o,r):n;this.setCustomTime(a),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation()}_onDragEnd(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:t}),t.stopPropagation())}_onMarkerChange(t){this.body.emitter.emit("markerchange",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}_onMarkerChanged(t){this.body.emitter.emit("markerchanged",{id:this.options.id,title:t.target.innerHTML,event:t}),t.stopPropagation()}static customTimeFromTarget(t){let e=t.target;for(;e;){if(e.hasOwnProperty("custom-time"))return e["custom-time"];e=e.parentNode}return null}}class IB{_create(t){this.dom={},this.dom.container=t,this.dom.container.style.position="relative",this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.loadingScreen=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.loadingScreen.className="vis-loading-screen",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",(()=>{!0===this.initialDrawDone&&this._redraw()})),this.on("rangechanged",(()=>{this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)})),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));const e=this;this._origRedraw=this._redraw.bind(this),this._redraw=Ux.throttle(this._origRedraw),this.on("_change",(t=>{e.itemSet&&e.itemSet.initialItemSetDrawn&&t&&1==t.queue?e._redraw():e._origRedraw()})),this.hammer=new iB(this.dom.root);const i=this.hammer.get("pinch").set({enable:!0});i&&function(t){t.getTouchAction=function(){return["pan-y"]}}(i),this.hammer.get("pan").set({threshold:5,direction:iB.DIRECTION_ALL}),this.timelineListeners={};var n,o;function r(t){this.isActive()&&this.emit("mousewheel",t);let e=0,i=0;if("detail"in t&&(i=-1*t.detail),"wheelDelta"in t&&(i=t.wheelDelta),"wheelDeltaY"in t&&(i=t.wheelDeltaY),"wheelDeltaX"in t&&(e=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=-1*i,i=0),"deltaY"in t&&(i=-1*t.deltaY),"deltaX"in t&&(e=t.deltaX),t.deltaMode&&(1===t.deltaMode?(e*=40,i*=40):(e*=40,i*=800)),this.options.preferZoom){if(!this.options.zoomKey||t[this.options.zoomKey])return}else if(this.options.zoomKey&&t[this.options.zoomKey])return;if(this.options.verticalScroll||this.options.horizontalScroll)if(this.options.verticalScroll&&Math.abs(i)>=Math.abs(e)){const e=this.props.scrollTop,n=e+i;if(this.isActive()){this._setScrollTop(n)!==e&&(this._redraw(),this.emit("scroll",t),t.preventDefault())}}else if(this.options.horizontalScroll){const n=(Math.abs(e)>=Math.abs(i)?e:i)/120*(this.range.end-this.range.start)/20,o=this.range.start+n,r=this.range.end+n,s={animation:!1,byUser:!0,event:t};this.range.setRange(o,r,s),t.preventDefault()}}["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach((t=>{const i=i=>{e.isActive()&&e.emit(t,i)};e.hammer.on(t,i),e.timelineListeners[t]=i})),nB(this.hammer,(t=>{e.emit("touch",t)})),n=this.hammer,(o=t=>{e.emit("release",t)}).inputHandler=function(t){t.isFinal&&o(t)},n.on("hammer.input",o.inputHandler);const s="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":this.dom.centerContainer.addEventListener?"DOMMouseScroll":"onmousewheel";function a(t){if(e.options.verticalScroll&&(t.preventDefault(),e.isActive())){const i=-t.target.scrollTop;e._setScrollTop(i),e._redraw(),e.emit("scrollSide",t)}}this.dom.top.addEventListener,this.dom.bottom.addEventListener,this.dom.centerContainer.addEventListener(s,r.bind(this),!1),this.dom.top.addEventListener(s,r.bind(this),!1),this.dom.bottom.addEventListener(s,r.bind(this),!1),this.dom.left.parentNode.addEventListener("scroll",a.bind(this)),this.dom.right.parentNode.addEventListener("scroll",a.bind(this));let l=!1;if(this.dom.center.addEventListener("dragover",function(t){if(t.preventDefault&&(e.emit("dragover",e.getEventProperties(t)),t.preventDefault()),t.target.className.indexOf("timeline")>-1&&!l)return t.dataTransfer.dropEffect="move",l=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation();try{var i=JSON.parse(t.dataTransfer.getData("text"));if(!i||!i.content)return}catch(t){return!1}return l=!1,t.center={x:t.clientX,y:t.clientY},"item"!==i.target?e.itemSet._onAddItem(t):e.itemSet._onDropObjectOnItem(t),e.emit("drop",e.getEventProperties(t)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!t)throw new Error("No container provided");t.appendChild(this.dom.root),t.appendChild(this.dom.loadingScreen)}setOptions(t){if(t){const e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","preferZoom","rtl","zoomKey","horizontalScroll","verticalScroll","longSelectPressTime","snap"];if(Ux.selectiveExtend(e,this.options,t),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!=typeof this.options.orientation&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation={item:t.orientation,axis:t.orientation}:"object"==typeof t.orientation&&("item"in t.orientation&&(this.options.orientation.item=t.orientation.item),"axis"in t.orientation&&(this.options.orientation.axis=t.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){const t=this.timeAxis2=new rB(this.body);t.setOptions=e=>{const i=e?Ux.extend({},e):{};i.orientation="top",rB.prototype.setOptions.call(t,i)},this.components.push(t)}}else if(this.timeAxis2){const t=this.components.indexOf(this.timeAxis2);-1!==t&&this.components.splice(t,1),this.timeAxis2.destroy(),this.timeAxis2=null}"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),"hiddenDates"in this.options&&Gx(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new aB(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}if(this.components.forEach((e=>e.setOptions(t))),"configure"in t){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(t.configure);const e=Ux.deepExtend({},this.options);this.components.forEach((t=>{Ux.deepExtend(e,t.options)})),this.configurator.setModuleOptions({global:e})}this._redraw()}isActive(){return!this.activator||this.activator.active}destroy(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(const t in this.timelineListeners)this.timelineListeners.hasOwnProperty(t)&&delete this.timelineListeners[t];this.timelineListeners=null,this.hammer&&this.hammer.destroy(),this.hammer=null,this.components.forEach((t=>t.destroy())),this.body=null}setCustomTime(t,e){const i=this.customTimes.filter((t=>e===t.options.id));if(0===i.length)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);i.length>0&&i[0].setCustomTime(t)}getCustomTime(t){const e=this.customTimes.filter((e=>e.options.id===t));if(0===e.length)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);return e[0].getCustomTime()}setCustomTimeMarker(t,e,i){const n=this.customTimes.filter((t=>t.options.id===e));if(0===n.length)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);n.length>0&&n[0].setCustomMarker(t,i)}setCustomTimeTitle(t,e){const i=this.customTimes.filter((t=>t.options.id===e));if(0===i.length)throw new Error(`No custom time bar found with id ${JSON.stringify(e)}`);if(i.length>0)return i[0].setCustomTitle(t)}getEventProperties(t){return{event:t}}addCustomTime(t,e){const i=void 0!==t?Ux.convert(t,"Date"):new Date,n=this.customTimes.some((t=>t.options.id===e));if(n)throw new Error(`A custom time with id ${JSON.stringify(e)} already exists`);const o=new CB(this.body,Ux.extend({},this.options,{time:i,id:e,snap:this.itemSet?this.itemSet.options.snap:this.options.snap}));return this.customTimes.push(o),this.components.push(o),this._redraw(),e}removeCustomTime(t){const e=this.customTimes.filter((e=>e.options.id===t));if(0===e.length)throw new Error(`No custom time bar found with id ${JSON.stringify(t)}`);e.forEach((t=>{this.customTimes.splice(this.customTimes.indexOf(t),1),this.components.splice(this.components.indexOf(t),1),t.destroy()}))}getVisibleItems(){return this.itemSet&&this.itemSet.getVisibleItems()||[]}getItemsAtCurrentTime(t){return this.time=t,this.itemSet&&this.itemSet.getItemsAtCurrentTime(this.time)||[]}getVisibleGroups(){return this.itemSet&&this.itemSet.getVisibleGroups()||[]}fit(t,e){const i=this.getDataRange();if(null===i.min&&null===i.max)return;const n=i.max-i.min,o=new Date(i.min.valueOf()-.01*n),r=new Date(i.max.valueOf()+.01*n),s=!t||void 0===t.animation||t.animation;this.range.setRange(o,r,{animation:s},e)}getDataRange(){throw new Error("Cannot invoke abstract method getDataRange")}setWindow(t,e,i,n){let o,r;"function"==typeof arguments[2]&&(n=arguments[2],i={}),1==arguments.length?(r=arguments[0],o=void 0===r.animation||r.animation,this.range.setRange(r.start,r.end,{animation:o})):2==arguments.length&&"function"==typeof arguments[1]?(r=arguments[0],n=arguments[1],o=void 0===r.animation||r.animation,this.range.setRange(r.start,r.end,{animation:o},n)):(o=!i||void 0===i.animation||i.animation,this.range.setRange(t,e,{animation:o},n))}moveTo(t,e,i){"function"==typeof arguments[1]&&(i=arguments[1],e={});const n=this.range.end-this.range.start,o=Ux.convert(t,"Date").valueOf(),r=o-n/2,s=o+n/2,a=!e||void 0===e.animation||e.animation;this.range.setRange(r,s,{animation:a},i)}getWindow(){const t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}}zoomIn(t,e,i){if(!t||t<0||t>1)return;"function"==typeof arguments[1]&&(i=arguments[1],e={});const n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=(s-s/(1+t))/2,l=o+a,d=r-a;this.setWindow(l,d,e,i)}zoomOut(t,e,i){if(!t||t<0||t>1)return;"function"==typeof arguments[1]&&(i=arguments[1],e={});const n=this.getWindow(),o=n.start.valueOf(),r=n.end.valueOf(),s=r-o,a=o-s*t/2,l=r+s*t/2;this.setWindow(a,l,e,i)}redraw(){this._redraw()}_redraw(){this.redrawCount++;const t=this.dom;if(!t||!t.container||0==t.root.offsetWidth)return;let e=!1;const i=this.options,n=this.props;qx(this.options.moment,this.body,this.options.hiddenDates),"top"==i.orientation?(Ux.addClassName(t.root,"vis-top"),Ux.removeClassName(t.root,"vis-bottom")):(Ux.removeClassName(t.root,"vis-top"),Ux.addClassName(t.root,"vis-bottom")),i.rtl?(Ux.addClassName(t.root,"vis-rtl"),Ux.removeClassName(t.root,"vis-ltr")):(Ux.addClassName(t.root,"vis-ltr"),Ux.removeClassName(t.root,"vis-rtl")),t.root.style.maxHeight=Ux.option.asSize(i.maxHeight,""),t.root.style.minHeight=Ux.option.asSize(i.minHeight,""),t.root.style.width=Ux.option.asSize(i.width,"");const o=t.root.offsetWidth;n.border.left=1,n.border.right=1,n.border.top=1,n.border.bottom=1,n.center.height=t.center.offsetHeight,n.left.height=t.left.offsetHeight,n.right.height=t.right.offsetHeight,n.top.height=t.top.clientHeight||-n.border.top,n.bottom.height=Math.round(t.bottom.getBoundingClientRect().height)||t.bottom.clientHeight||-n.border.bottom;const r=Math.max(n.left.height,n.center.height,n.right.height),s=n.top.height+r+n.bottom.height+n.border.top+n.border.bottom;t.root.style.height=Ux.option.asSize(i.height,`${s}px`),n.root.height=t.root.offsetHeight,n.background.height=n.root.height;const a=n.root.height-n.top.height-n.bottom.height;n.centerContainer.height=a,n.leftContainer.height=a,n.rightContainer.height=n.leftContainer.height,n.root.width=o,n.background.width=n.root.width,this.initialDrawDone||(n.scrollbarWidth=Ux.getScrollBarWidth());const l=t.leftContainer.clientWidth,d=t.rightContainer.clientWidth;i.verticalScroll?i.rtl?(n.left.width=l||-n.border.left,n.right.width=d+n.scrollbarWidth||-n.border.right):(n.left.width=l+n.scrollbarWidth||-n.border.left,n.right.width=d||-n.border.right):(n.left.width=l||-n.border.left,n.right.width=d||-n.border.right),this._setDOM();let c=this._updateScrollTop();"top"!=i.orientation.item&&(c+=Math.max(n.centerContainer.height-n.center.height-n.border.top-n.border.bottom,0)),t.center.style.transform=`translateY(${c}px)`;const h=0==n.scrollTop?"hidden":"",u=n.scrollTop==n.scrollTopMin?"hidden":"";t.shadowTop.style.visibility=h,t.shadowBottom.style.visibility=u,t.shadowTopLeft.style.visibility=h,t.shadowBottomLeft.style.visibility=u,t.shadowTopRight.style.visibility=h,t.shadowBottomRight.style.visibility=u,i.verticalScroll&&(t.rightContainer.className="vis-panel vis-right vis-vertical-scroll",t.leftContainer.className="vis-panel vis-left vis-vertical-scroll",t.shadowTopRight.style.visibility="hidden",t.shadowBottomRight.style.visibility="hidden",t.shadowTopLeft.style.visibility="hidden",t.shadowBottomLeft.style.visibility="hidden",t.left.style.top="0px",t.right.style.top="0px"),(!i.verticalScroll||n.center.height<n.centerContainer.height)&&(t.left.style.top=`${c}px`,t.right.style.top=`${c}px`,t.rightContainer.className=t.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),t.leftContainer.className=t.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),n.left.width=l||-n.border.left,n.right.width=d||-n.border.right,this._setDOM());const A=n.center.height>n.centerContainer.height;this.hammer.get("pan").set({direction:A?iB.DIRECTION_ALL:iB.DIRECTION_HORIZONTAL}),this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.components.forEach((t=>{e=t.redraw()||e}));if(e){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}_setDOM(){const t=this.props,e=this.dom;t.leftContainer.width=t.left.width,t.rightContainer.width=t.right.width;const i=t.root.width-t.left.width-t.right.width;t.center.width=i,t.centerContainer.width=i,t.top.width=i,t.bottom.width=i,e.background.style.height=`${t.background.height}px`,e.backgroundVertical.style.height=`${t.background.height}px`,e.backgroundHorizontal.style.height=`${t.centerContainer.height}px`,e.centerContainer.style.height=`${t.centerContainer.height}px`,e.leftContainer.style.height=`${t.leftContainer.height}px`,e.rightContainer.style.height=`${t.rightContainer.height}px`,e.background.style.width=`${t.background.width}px`,e.backgroundVertical.style.width=`${t.centerContainer.width}px`,e.backgroundHorizontal.style.width=`${t.background.width}px`,e.centerContainer.style.width=`${t.center.width}px`,e.top.style.width=`${t.top.width}px`,e.bottom.style.width=`${t.bottom.width}px`,e.background.style.left="0",e.background.style.top="0",e.backgroundVertical.style.left=`${t.left.width+t.border.left}px`,e.backgroundVertical.style.top="0",e.backgroundHorizontal.style.left="0",e.backgroundHorizontal.style.top=`${t.top.height}px`,e.centerContainer.style.left=`${t.left.width}px`,e.centerContainer.style.top=`${t.top.height}px`,e.leftContainer.style.left="0",e.leftContainer.style.top=`${t.top.height}px`,e.rightContainer.style.left=`${t.left.width+t.center.width}px`,e.rightContainer.style.top=`${t.top.height}px`,e.top.style.left=`${t.left.width}px`,e.top.style.top="0",e.bottom.style.left=`${t.left.width}px`,e.bottom.style.top=`${t.top.height+t.centerContainer.height}px`,e.center.style.left="0",e.left.style.left="0",e.right.style.left="0"}setCurrentTime(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)}getCurrentTime(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()}_toTime(t){return $x(this,t,this.props.center.width)}_toGlobalTime(t){return $x(this,t,this.props.root.width)}_toScreen(t){return Yx(this,t,this.props.center.width)}_toGlobalScreen(t){return Yx(this,t,this.props.root.width)}_initAutoResize(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()}_startAutoResize(){const t=this;this._stopAutoResize(),this._onResize=()=>{if(1==t.options.autoResize){if(t.dom.root){const e=t.dom.root.offsetHeight,i=t.dom.root.offsetWidth;i==t.props.lastWidth&&e==t.props.lastHeight||(t.props.lastWidth=i,t.props.lastHeight=e,t.props.scrollbarWidth=Ux.getScrollBarWidth(),t.body.emitter.emit("_change"))}}else t._stopAutoResize()},Ux.addEventListener(window,"resize",this._onResize),t.dom.root&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)}_stopAutoResize(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(Ux.removeEventListener(window,"resize",this._onResize),this._onResize=null)}_onTouch(t){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop}_onPinch(t){this.touch.allowDragging=!1}_onDrag(t){if(!t)return;if(!this.touch.allowDragging)return;const e=t.deltaY,i=this._getScrollTop(),n=this._setScrollTop(this.touch.initialScrollTop+e);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),n!=i&&this.emit("verticalDrag")}_setScrollTop(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop}_updateScrollTop(){const t=Math.min(this.props.centerContainer.height-this.props.border.top-this.props.border.bottom-this.props.center.height,0);return t!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop}_getScrollTop(){return this.props.scrollTop}_createConfigurator(){throw new Error("Cannot invoke abstract method _createConfigurator")}}Mw(IB.prototype);class EB extends Hx{constructor(t,e){super(),this.body=t,this.defaultOptions={rtl:!1,showCurrentTime:!0,alignCurrentTime:void 0,moment:Tx,locales:wB,locale:"en"},this.options=Ux.extend({},this.defaultOptions),this.setOptions(e),this.options.locales=Ux.extend({},wB,this.options.locales);const i=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach((t=>{this.options.locales[t]=Ux.extend({},i,this.options.locales[t])})),this.offset=0,this._create()}_create(){const t=document.createElement("div");t.className="vis-current-time",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t}destroy(){this.options.showCurrentTime=!1,this.redraw(),this.body=null}setOptions(t){t&&Ux.selectiveExtend(["rtl","showCurrentTime","alignCurrentTime","moment","locale","locales"],this.options,t)}redraw(){if(this.options.showCurrentTime){const t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());let e=this.options.moment(Date.now()+this.offset);this.options.alignCurrentTime&&(e=e.startOf(this.options.alignCurrentTime));const i=this.body.util.toScreen(e);let n=this.options.locales[this.options.locale];n||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),n=this.options.locales.en);let o=`${n.current} ${n.time}: ${e.format("dddd, MMMM Do YYYY, H:mm:ss")}`;o=o.charAt(0).toUpperCase()+o.substring(1),this.options.rtl?this.bar.style.transform=`translateX(${-1*i}px)`:this.bar.style.transform=`translateX(${i}px)`,this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1}start(){const t=this;!function e(){t.stop();let i=1/t.body.range.conversion(t.body.domProps.center.width).scale/10;i<30&&(i=30),i>1e3&&(i=1e3),t.redraw(),t.body.emitter.emit("currentTimeTick"),t.currentTimeTimer=setTimeout(e,i)}()}stop(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)}setCurrentTime(t){const e=Ux.convert(t,"Date").valueOf(),i=Date.now();this.offset=e-i,this.redraw()}getCurrentTime(){return new Date(Date.now()+this.offset)}}function xB(t,e,i,n){return null===DB(t,e.item,!1,(t=>t.stack&&(i||null===t.top)),(t=>t.stack),(t=>e.axis),n)}function BB(t,e,i){const n=DB(t,e.item,!1,(t=>t.stack),(t=>!0),(t=>t.baseTop));i.height=n-i.top+.5*e.item.vertical}function kB(t,e,i,n){for(let o=0;o<t.length;o++)if(null==t[o].data.subgroup)t[o].top=e.item.vertical;else if(void 0!==t[o].data.subgroup&&n){let n=0;for(const e in i)i.hasOwnProperty(e)&&1==i[e].visible&&i[e].index<i[t[o].data.subgroup].index&&(n+=i[e].height,i[t[o].data.subgroup].top=n);t[o].top=n+.5*e.item.vertical}n||function(t,e,i){DB(Object.values(i).sort(((t,e)=>t.index>e.index?1:t.index<e.index?-1:0)),{vertical:0},!0,(t=>!0),(t=>!0),(t=>0));for(let n=0;n<t.length;n++)void 0!==t[n].data.subgroup&&(t[n].top=i[t[n].data.subgroup].top+.5*e.item.vertical)}(t,e,i)}function SB(t,e,i){let n=!1;const o=[];for(var r in i)i[r].hasOwnProperty("index")?o[i[r].index]=r:o.push(r);for(let s=0;s<o.length;s++)if(r=o[s],i.hasOwnProperty(r)){n=n||i[r].stack,i[r].top=0;for(const t in i)i[t].visible&&i[r].index>i[t].index&&(i[r].top+=i[t].height);const o=t[r];for(let t=0;t<o.length;t++)void 0!==o[t].data.subgroup&&(o[t].top=i[o[t].data.subgroup].top+.5*e.item.vertical,i[r].stack&&(o[t].baseTop=o[t].top));n&&i[r].stack&&BB(t[r],e,i[r])}}function DB(t,e,i,n,o,r,s){let a=t=>t.start,l=t=>t.end;if(!i){const i=!(!t[0]||!t[0].options.rtl);a=i?t=>t.right:t=>t.left,l=t=>a(t)+t.width+e.horizontal}const d=[],c=[];let h=null,u=0;for(const e of t)if(n(e))d.push(e);else if(o(e)){const t=a(e);null!==h&&t<h-.001&&(u=0),h=t,u=MB(c,(e=>a(e)-.001>t),u),c.splice(u,0,e),u++}h=null;let A=null;u=0;let p=0,m=0,g=0;for(;d.length>0;){const t=d.shift();t.top=r(t);const i=a(t),n=l(t);null!==h&&i<h-.001&&(p=0,m=0,u=0,A=null),h=i,p=MB(c,(t=>i<l(t)-.001),p),(null===A||A<n-.001)&&(m=MB(c,(t=>n<a(t)-.001),Math.max(p,m))),null!==A&&A-.001>n&&(m=TB(c,(t=>n+.001>=a(t)),p,horizontalOVerlapEndIndex)+1);const f=c.slice(p,m).filter((t=>i<l(t)-.001&&n-.001>a(t))).sort(((t,e)=>t.top-e.top));for(let i=0;i<f.length;i++){const n=f[i];QB(t,n,e)&&(t.top=n.top+n.height+e.vertical)}o(t)&&(u=MB(c,(t=>a(t)-.001>i),u),c.splice(u,0,t),u++);const v=t.top+t.height;if(v>g&&(g=v),s&&s())return null}return g}function QB(t,e,i){return t.top-i.vertical+.001<e.top+e.height&&t.top+t.height+i.vertical-.001>e.top}function MB(t,e,i){i||(i=0);const n=t.slice(i).findIndex(e);return-1===n?t.length:n+i}function TB(t,e,n,o){for(n||(n=0),o||(o=t.length),i=o-1;i>=n;i--)if(e(t[i]))return i;return n-1}const OB="__background__";class RB{constructor(t,e,i){if(this.groupId=t,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.subgroupVisibility={},this.doInnerStack=!1,this.shouldBailStackItems=!1,this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.isVisible=null,this.stackDirty=!0,this._disposeCallbacks=[],e&&e.nestedGroups&&(this.nestedGroups=e.nestedGroups,0==e.showNested?this.showNested=!1:this.showNested=!0),e&&e.subgroupStack)if("boolean"==typeof e.subgroupStack)this.doInnerStack=e.subgroupStack,this.subgroupStackAll=e.subgroupStack;else for(const t in e.subgroupStack)this.subgroupStack[t]=e.subgroupStack[t],this.doInnerStack=this.doInnerStack||e.subgroupStack[t];e&&e.heightMode?this.heightMode=e.heightMode:this.heightMode=i.options.groupHeightMode,this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;const n=()=>{this.checkRangedItems=!0};this.itemSet.body.emitter.on("checkRangedItems",n),this._disposeCallbacks.push((()=>{this.itemSet.body.emitter.off("checkRangedItems",n)})),this._create(),this.setData(e)}_create(){const t=document.createElement("div");this.itemSet.options.groupEditable.order?t.className="vis-label draggable":t.className="vis-label",this.dom.label=t;const e=document.createElement("div");e.className="vis-inner",t.appendChild(e),this.dom.inner=e;const i=document.createElement("div");i.className="vis-group",i["vis-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)}setData(t){if(this.itemSet.groupTouchParams.isDragging)return;let e,i;if(t&&t.subgroupVisibility)for(const e in t.subgroupVisibility)this.subgroupVisibility[e]=t.subgroupVisibility[e];if(this.itemSet.options&&this.itemSet.options.groupTemplate?(i=this.itemSet.options.groupTemplate.bind(this),e=i(t,this.dom.inner)):e=t&&t.content,e instanceof Element){for(;this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(e)}else e instanceof Object&&e.isReactComponent||(e instanceof Object?i(t,this.dom.inner):this.dom.inner.innerHTML=null!=e?Ux.xss(e):Ux.xss(this.groupId||""));this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?Ux.removeClassName(this.dom.inner,"vis-hidden"):Ux.addClassName(this.dom.inner,"vis-hidden"),t&&t.nestedGroups?(this.nestedGroups&&this.nestedGroups==t.nestedGroups||(this.nestedGroups=t.nestedGroups),void 0===t.showNested&&void 0!==this.showNested||(0==t.showNested?this.showNested=!1:this.showNested=!0),Ux.addClassName(this.dom.label,"vis-nesting-group"),this.showNested?(Ux.removeClassName(this.dom.label,"collapsed"),Ux.addClassName(this.dom.label,"expanded")):(Ux.removeClassName(this.dom.label,"expanded"),Ux.addClassName(this.dom.label,"collapsed"))):this.nestedGroups&&(this.nestedGroups=null,Ux.removeClassName(this.dom.label,"collapsed"),Ux.removeClassName(this.dom.label,"expanded"),Ux.removeClassName(this.dom.label,"vis-nesting-group")),t&&(t.treeLevel||t.nestedInGroup)?(Ux.addClassName(this.dom.label,"vis-nested-group"),t.treeLevel?Ux.addClassName(this.dom.label,"vis-group-level-"+t.treeLevel):Ux.addClassName(this.dom.label,"vis-group-level-unknown-but-gte1")):Ux.addClassName(this.dom.label,"vis-group-level-0");const n=t&&t.className||null;n!=this.className&&(this.className&&(Ux.removeClassName(this.dom.label,this.className),Ux.removeClassName(this.dom.foreground,this.className),Ux.removeClassName(this.dom.background,this.className),Ux.removeClassName(this.dom.axis,this.className)),Ux.addClassName(this.dom.label,n),Ux.addClassName(this.dom.foreground,n),Ux.addClassName(this.dom.background,n),Ux.addClassName(this.dom.axis,n),this.className=n),this.style&&(Ux.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(Ux.addCssText(this.dom.label,t.style),this.style=t.style)}getLabelWidth(){return this.props.label.width}_didMarkerHeightChange(){const t=this.dom.marker.clientHeight;if(t!=this.lastMarkerHeight){this.lastMarkerHeight=t;const e={};let i=0;Ux.forEach(this.items,((t,n)=>{if(t.dirty=!0,t.displayed){const o=!0;e[n]=t.redraw(o),i=e[n].length}}));if(i>0)for(let t=0;t<i;t++)Ux.forEach(e,(e=>{e[t]()}));return!0}return!1}_calculateGroupSizeAndPosition(){const{offsetTop:t,offsetLeft:e,offsetWidth:i}=this.dom.foreground;this.top=t,this.right=e,this.width=i}_shouldBailItemsRedraw(){const t=this,e=this.itemSet.options.onTimeout,i={relativeBailingTime:this.itemSet.itemsSettingTime,bailTimeMs:e&&e.timeoutMs,userBailFunction:e&&e.callback,shouldBailStackItems:this.shouldBailStackItems};let n=null;if(!this.itemSet.initialDrawDone){if(i.shouldBailStackItems)return!0;Math.abs(Date.now()-new Date(i.relativeBailingTime))>i.bailTimeMs&&(i.userBailFunction&&null==this.itemSet.userContinueNotBail?i.userBailFunction((e=>{t.itemSet.userContinueNotBail=e,n=!e})):n=0==t.itemSet.userContinueNotBail)}return n}_redrawItems(t,e,i,n){if(t||this.stackDirty||this.isVisible&&!e){const t={byEnd:this.orderedItems.byEnd.filter((t=>!t.isCluster)),byStart:this.orderedItems.byStart.filter((t=>!t.isCluster))},e={byEnd:[...new Set(this.orderedItems.byEnd.map((t=>t.cluster)).filter((t=>!!t)))],byStart:[...new Set(this.orderedItems.byStart.map((t=>t.cluster)).filter((t=>!!t)))]},o=()=>[...this._updateItemsInRange(t,this.visibleItems.filter((t=>!t.isCluster)),n),...this._updateClustersInRange(e,this.visibleItems.filter((t=>t.isCluster)),n)],r=t=>{let e={};for(const i in this.subgroups){const n=this.visibleItems.filter((t=>t.data.subgroup===i));e[i]=t?n.sort(((e,i)=>t(e.data,i.data))):n}return e};if("function"==typeof this.itemSet.options.order){const t=this;if(this.doInnerStack&&this.itemSet.options.stackSubgroups){SB(r(this.itemSet.options.order),i,this.subgroups),this.visibleItems=o(),this._updateSubGroupHeights(i)}else{this.visibleItems=o(),this._updateSubGroupHeights(i);const e=this.visibleItems.slice().filter((t=>t.isCluster||!t.isCluster&&!t.cluster)).sort(((e,i)=>t.itemSet.options.order(e.data,i.data)));this.shouldBailStackItems=xB(e,i,!0,this._shouldBailItemsRedraw.bind(this))}}else if(this.visibleItems=o(),this._updateSubGroupHeights(i),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){SB(r(),i,this.subgroups)}else this.shouldBailStackItems=xB(this.visibleItems,i,!0,this._shouldBailItemsRedraw.bind(this));else kB(this.visibleItems,i,this.subgroups,this.itemSet.options.stackSubgroups);for(let t=0;t<this.visibleItems.length;t++)this.visibleItems[t].repositionX(),void 0!==this.subgroupVisibility[this.visibleItems[t].data.subgroup]&&(this.subgroupVisibility[this.visibleItems[t].data.subgroup]||this.visibleItems[t].hide());this.itemSet.options.cluster&&Ux.forEach(this.items,(t=>{t.cluster&&t.displayed&&t.hide()})),this.shouldBailStackItems&&this.itemSet.body.emitter.emit("destroyTimeline"),this.stackDirty=!1}}_didResize(t,e){t=Ux.updateProperty(this,"height",e)||t;const i=this.dom.inner.clientWidth,n=this.dom.inner.clientHeight;return t=Ux.updateProperty(this.props.label,"width",i)||t,t=Ux.updateProperty(this.props.label,"height",n)||t}_applyGroupHeight(t){this.dom.background.style.height=`${t}px`,this.dom.foreground.style.height=`${t}px`,this.dom.label.style.height=`${t}px`}_updateItemsVerticalPosition(t){for(let e=0,i=this.visibleItems.length;e<i;e++){const i=this.visibleItems[e];i.repositionY(t),this.isVisible||this.groupId==OB||i.displayed&&i.hide()}}redraw(t,e,i,n){let o=!1;const r=this.isVisible;let s;const a=[()=>{i=this._didMarkerHeightChange.call(this)||i},this._updateSubGroupHeights.bind(this,e),this._calculateGroupSizeAndPosition.bind(this),()=>{this.isVisible=this._isGroupVisible.bind(this)(t,e)},()=>{this._redrawItems.bind(this)(i,r,e,t)},this._updateSubgroupsSizes.bind(this),()=>{s=this._calculateHeight.bind(this)(e)},this._calculateGroupSizeAndPosition.bind(this),()=>{o=this._didResize.bind(this)(o,s)},()=>{this._applyGroupHeight.bind(this)(s)},()=>{this._updateItemsVerticalPosition.bind(this)(e)},(()=>(!this.isVisible&&this.height&&(o=!1),o)).bind(this)];if(n)return a;{let t;return a.forEach((e=>{t=e()})),t}}_updateSubGroupHeights(t){if(Object.keys(this.subgroups).length>0){const e=this;this._resetSubgroups(),Ux.forEach(this.visibleItems,(i=>{void 0!==i.data.subgroup&&(e.subgroups[i.data.subgroup].height=Math.max(e.subgroups[i.data.subgroup].height,i.height+t.item.vertical),e.subgroups[i.data.subgroup].visible=void 0===this.subgroupVisibility[i.data.subgroup]||Boolean(this.subgroupVisibility[i.data.subgroup]))}))}}_isGroupVisible(t,e){return this.top<=t.body.domProps.centerContainer.height-t.body.domProps.scrollTop+e.axis&&this.top+this.height+e.axis>=-t.body.domProps.scrollTop}_calculateHeight(t){let e,i;if(i="fixed"===this.heightMode?Ux.toArray(this.items):this.visibleItems,i.length>0){let n=i[0].top,o=i[0].top+i[0].height;if(Ux.forEach(i,(t=>{n=Math.min(n,t.top),o=Math.max(o,t.top+t.height)})),n>t.axis){const e=n-t.axis;o-=e,Ux.forEach(i,(t=>{t.top-=e}))}e=Math.ceil(o+t.item.vertical/2),"fitItems"!==this.heightMode&&(e=Math.max(e,this.props.label.height))}else e=this.props.label.height;return e}show(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)}hide(){const t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);const e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);const i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);const n=this.dom.axis;n.parentNode&&n.parentNode.removeChild(n)}add(t){if(this.items[t.id]=t,t.setParent(this),this.stackDirty=!0,void 0!==t.data.subgroup&&(this._addToSubgroup(t),this.orderSubgroups()),!this.visibleItems.includes(t)){const e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}}_addToSubgroup(t,e=t.data.subgroup){null!=e&&void 0===this.subgroups[e]&&(this.subgroups[e]={height:0,top:0,start:t.data.start,end:t.data.end||t.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[e]||!1},this.subgroupIndex++),new Date(t.data.start)<new Date(this.subgroups[e].start)&&(this.subgroups[e].start=t.data.start);const i=t.data.end||t.data.start;new Date(i)>new Date(this.subgroups[e].end)&&(this.subgroups[e].end=i),this.subgroups[e].items.push(t)}_updateSubgroupsSizes(){const t=this;if(t.subgroups)for(const e in t.subgroups){const i=t.subgroups[e].items[0].data.end||t.subgroups[e].items[0].data.start;let n=t.subgroups[e].items[0].data.start,o=i-1;t.subgroups[e].items.forEach((t=>{new Date(t.data.start)<new Date(n)&&(n=t.data.start);const e=t.data.end||t.data.start;new Date(e)>new Date(o)&&(o=e)})),t.subgroups[e].start=n,t.subgroups[e].end=new Date(o-1)}}orderSubgroups(){if(void 0!==this.subgroupOrderer){const t=[];if("string"==typeof this.subgroupOrderer){for(const e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(((t,e)=>t.sortField-e.sortField))}else if("function"==typeof this.subgroupOrderer){for(const e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(let e=0;e<t.length;e++)this.subgroups[t[e].subgroup].index=e}}_resetSubgroups(){for(const t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1,this.subgroups[t].height=0)}remove(t){delete this.items[t.id],t.setParent(null),this.stackDirty=!0;const e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1),void 0!==t.data.subgroup&&(this._removeFromSubgroup(t),this.orderSubgroups())}_removeFromSubgroup(t,e=t.data.subgroup){if(null!=e){const i=this.subgroups[e];if(i){const n=i.items.indexOf(t);n>=0&&(i.items.splice(n,1),i.items.length?this._updateSubgroupsSizes():delete this.subgroups[e])}}}removeFromDataSet(t){this.itemSet.removeItem(t.id)}order(){const t=Ux.toArray(this.items),e=[],i=[];for(let n=0;n<t.length;n++)void 0!==t[n].data.end&&i.push(t[n]),e.push(t[n]);this.orderedItems={byStart:e,byEnd:i},this.orderedItems.byStart.sort(((t,e)=>t.data.start-e.data.start)),function(t){t.sort(((t,e)=>("end"in t.data?t.data.end:t.data.start)-("end"in e.data?e.data.end:e.data.start)))}(this.orderedItems.byEnd)}_updateItemsInRange(t,e,i){const n=[],o={};if(!this.isVisible&&this.groupId!=OB){for(let t=0;t<e.length;t++){var r=e[t];r.displayed&&r.hide()}return n}const s=(i.end-i.start)/4,a=i.start-s,l=i.end+s,d=t=>{const{start:e,end:i}=t;return i<a?-1:e<=l?0:1};if(e.length>0)for(let t=0;t<e.length;t++)this._checkIfVisibleWithReference(e[t],n,o,i);const c=Ux.binarySearchCustom(t.byStart,(t=>t<a?-1:t<=l?0:1),"data","start");if(this._traceVisible(c,t.byStart,n,o,(t=>t.data.start<a||t.data.start>l)),1==this.checkRangedItems){this.checkRangedItems=!1;for(let e=0;e<t.byEnd.length;e++)this._checkIfVisibleWithReference(t.byEnd[e],n,o,i)}else{const e=Ux.binarySearchCustom(t.byEnd,d,"data");this._traceVisible(e,t.byEnd,n,o,(t=>t.data.end<a||t.data.start>l))}const h={};let u=0;for(let t=0;t<n.length;t++){const e=n[t];if(!e.displayed){const i=!0;h[t]=e.redraw(i),u=h[t].length}}if(u>0)for(let t=0;t<u;t++)Ux.forEach(h,(e=>{e[t]()}));for(let t=0;t<n.length;t++)n[t].repositionX();return n}_traceVisible(t,e,i,n,o){if(-1!=t){for(let r=t;r>=0;r--){let t=e[r];if(o(t))break;t.isCluster&&!t.hasItems()||t.cluster||void 0===n[t.id]&&(n[t.id]=!0,i.push(t))}for(let r=t+1;r<e.length;r++){let t=e[r];if(o(t))break;t.isCluster&&!t.hasItems()||t.cluster||void 0===n[t.id]&&(n[t.id]=!0,i.push(t))}}}_checkIfVisible(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()}_checkIfVisibleWithReference(t,e,i,n){t.isVisible(n)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()}_updateClustersInRange(t,e,i){const n=[],o={};if(e.length>0)for(let t=0;t<e.length;t++)this._checkIfVisibleWithReference(e[t],n,o,i);for(let e=0;e<t.byStart.length;e++)this._checkIfVisibleWithReference(t.byStart[e],n,o,i);for(let e=0;e<t.byEnd.length;e++)this._checkIfVisibleWithReference(t.byEnd[e],n,o,i);const r={};let s=0;for(let t=0;t<n.length;t++){const e=n[t];if(!e.displayed){const i=!0;r[t]=e.redraw(i),s=r[t].length}}if(s>0)for(var a=0;a<s;a++)Ux.forEach(r,(function(t){t[a]()}));for(let t=0;t<n.length;t++)n[t].repositionX();return n}changeSubgroup(t,e,i){this._removeFromSubgroup(t,e),this._addToSubgroup(t,i),this.orderSubgroups()}dispose(){let t;for(this.hide();t=this._disposeCallbacks.pop();)t()}}class PB extends RB{constructor(t,e,i){super(t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}redraw(t,e,i){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(let t=0,i=this.visibleItems.length;t<i;t++){this.visibleItems[t].repositionY(e)}return!1}show(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)}}class NB{constructor(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.defaultOptions={locales:wB,locale:"en"},this.options=Ux.extend({},this.defaultOptions,i),this.options.locales=Ux.extend({},wB,this.options.locales);const n=this.defaultOptions.locales[this.defaultOptions.locale];Object.keys(this.options.locales).forEach((t=>{this.options.locales[t]=Ux.extend({},n,this.options.locales[t])})),this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.selectable=i&&i.selectable||!1,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.setSelectability(t),this.editable=null,this._updateEditStatus()}select(){this.selectable&&(this.selected=!0,this.dirty=!0,this.displayed&&this.redraw())}unselect(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()}setData(t){null!=t.group&&this.data.group!=t.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,t.group),this.setSelectability(t),this.parent&&(this.parent.stackDirty=!0);null!=t.subgroup&&this.data.subgroup!=t.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,t.subgroup),this.data=t,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()}setSelectability(t){t&&(this.selectable=void 0===t.selectable||Boolean(t.selectable))}setParent(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t}isVisible(t){return!1}show(){return!1}hide(){return!1}redraw(){}repositionX(){}repositionY(){}_repaintDragCenter(){if(this.selected&&this.editable.updateTime&&!this.dom.dragCenter){const t=this,e=document.createElement("div");e.className="vis-drag-center",e.dragCenterItem=this,this.hammerDragCenter=new iB(e),this.hammerDragCenter.on("tap",(e=>{t.parent.itemSet.body.emitter.emit("click",{event:e,item:t.id})})),this.hammerDragCenter.on("doubletap",(e=>{e.stopPropagation(),t.parent.itemSet._onUpdateItem(t),t.parent.itemSet.body.emitter.emit("doubleClick",{event:e,item:t.id})})),this.hammerDragCenter.on("panstart",(e=>{e.stopPropagation(),t.parent.itemSet._onDragStart(e)})),this.hammerDragCenter.on("panmove",t.parent.itemSet._onDrag.bind(t.parent.itemSet)),this.hammerDragCenter.on("panend",t.parent.itemSet._onDragEnd.bind(t.parent.itemSet)),this.hammerDragCenter.get("press").set({time:1e4}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(e,this.dom.dragLeft):this.dom.box.appendChild(e):this.dom.point&&this.dom.point.appendChild(e),this.dom.dragCenter=e}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null,this.hammerDragCenter&&(this.hammerDragCenter.destroy(),this.hammerDragCenter=null))}_repaintDeleteButton(t){const e=(this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove;if(this.selected&&e&&!this.dom.deleteButton){const e=this,i=document.createElement("div");this.options.rtl?i.className="vis-delete-rtl":i.className="vis-delete";let n=this.options.locales[this.options.locale];n||(this.warned||(console.warn(`WARNING: options.locales['${this.options.locale}'] not found. See https://visjs.github.io/vis-timeline/docs/timeline/#Localization`),this.warned=!0),n=this.options.locales.en),i.title=n.deleteSelected,this.hammerDeleteButton=new iB(i).on("tap",(t=>{t.stopPropagation(),e.parent.removeFromDataSet(e)})),t.appendChild(i),this.dom.deleteButton=i}else this.selected&&e||!this.dom.deleteButton||(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null,this.hammerDeleteButton&&(this.hammerDeleteButton.destroy(),this.hammerDeleteButton=null))}_repaintOnItemUpdateTimeTooltip(t){if(!this.options.tooltipOnItemUpdateTime)return;const e=(this.options.editable.updateTime||!0===this.data.editable)&&!1!==this.data.editable;if(this.selected&&e&&!this.dom.onItemUpdateTimeTooltip){const e=document.createElement("div");e.className="vis-onUpdateTime-tooltip",t.appendChild(e),this.dom.onItemUpdateTimeTooltip=e}else!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);if(this.dom.onItemUpdateTimeTooltip){this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.dom.onItemUpdateTimeTooltip.style.transform="translateX(-50%)",this.dom.onItemUpdateTimeTooltip.style.left="50%";const t=50,e=this.parent.itemSet.body.domProps.scrollTop;let i;i="top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height;let n,o;i+this.parent.top-t<-e?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=`${this.height+2}px`):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=`${this.height+2}px`),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?(o=this.options.tooltipOnItemUpdateTime.template.bind(this),n=o(this.data)):(n=`start: ${Tx(this.data.start).format("MM/DD/YYYY hh:mm")}`,this.data.end&&(n+=`<br> end: ${Tx(this.data.end).format("MM/DD/YYYY hh:mm")}`)),this.dom.onItemUpdateTimeTooltip.innerHTML=Ux.xss(n)}}_getItemData(){return this.parent.itemSet.itemsData.get(this.id)}_updateContents(t){let e,i,n,o,r;const s=this._getItemData(),a=(this.dom.box||this.dom.point).getElementsByClassName("vis-item-visible-frame")[0];if(this.options.visibleFrameTemplate?(r=this.options.visibleFrameTemplate.bind(this),o=Ux.xss(r(s,a))):o="",a)if(o instanceof Object&&!(o instanceof Element))r(s,a);else if(i=this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(o),i){if(o instanceof Element)a.innerHTML="",a.appendChild(o);else if(null!=o)a.innerHTML=Ux.xss(o);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error(`Property "content" missing in item ${this.id}`);this.itemVisibleFrameContent=o}if(this.options.template?(n=this.options.template.bind(this),e=n(s,t,this.data)):e=this.data.content,e instanceof Object&&!(e instanceof Element))n(s,t);else if(i=this._contentToString(this.content)!==this._contentToString(e),i){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(null!=e)t.innerHTML=Ux.xss(e);else if("background"!=this.data.type||void 0!==this.data.content)throw new Error(`Property "content" missing in item ${this.id}`);this.content=e}}_updateDataAttributes(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){let e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(const i of e){const e=this.data[i];null!=e?t.setAttribute(`data-${i}`,e):t.removeAttribute(`data-${i}`)}}}_updateStyle(t){this.style&&(Ux.removeCssText(t,this.style),this.style=null),this.data.style&&(Ux.addCssText(t,this.data.style),this.style=this.data.style)}_contentToString(t){return"string"==typeof t?t:t&&"outerHTML"in t?t.outerHTML:t}_updateEditStatus(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"==typeof this.options.editable&&(this.editable={},Ux.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),this.options&&this.options.editable&&!0===this.options.editable.overrideItems||this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"==typeof this.data.editable&&(this.editable={},Ux.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))}getWidthLeft(){return 0}getWidthRight(){return 0}getTitle(){if(this.options.tooltip&&this.options.tooltip.template){return this.options.tooltip.template.bind(this)(this._getItemData(),this.data)}return this.data.title}}NB.prototype.stack=!0;class FB extends NB{constructor(t,e,i){if(super(t,e,i),this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error(`Property "start" missing in item ${t.id}`);if(null==t.end)throw new Error(`Property "end" missing in item ${t.id}`)}}isVisible(t){return!this.cluster&&(this.data.start<t.end&&this.data.end>t.start)}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=this.baseClassName+e,this.dom.content.style.maxWidth="none"}}_getDomComponentsSizes(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,this.whiteSpace="nowrap"!==window.getComputedStyle(this.dom.content).whiteSpace,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(t){this.props.content.width=t.content.width,this.height=t.box.height,this.dom.content.style.maxWidth="",this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()}redraw(t){let e;const i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(e=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(e)},this._repaintDomAdditionals.bind(this)];if(t)return i;{let t;return i.forEach((e=>{t=e()})),t}}show(t){if(!this.displayed)return this.redraw(t)}hide(){if(this.displayed){const t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}}repositionX(t){const e=this.parent.width;let i=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end);const o=void 0===this.data.align?this.options.align:this.data.align;let r,s;!1===this.data.limitSize||void 0!==t&&!0!==t||(i<-e&&(i=-e),n>2*e&&(n=2*e));const a=Math.max(Math.round(1e3*(n-i))/1e3,1);switch(this.overflow?(this.options.rtl?this.right=i:this.left=i,this.width=a+this.props.content.width,s=this.props.content.width):(this.options.rtl?this.right=i:this.left=i,this.width=a,s=Math.min(n-i,this.props.content.width)),this.options.rtl?this.dom.box.style.transform=`translateX(${-1*this.right}px)`:this.dom.box.style.transform=`translateX(${this.left}px)`,this.dom.box.style.width=`${a}px`,this.whiteSpace&&(this.height=this.dom.box.offsetHeight),o){case"left":this.dom.content.style.transform="translateX(0)";break;case"right":if(this.options.rtl){const t=-1*Math.max(a-s,0);this.dom.content.style.transform=`translateX(${t}px)`}else this.dom.content.style.transform=`translateX(${Math.max(a-s,0)}px)`;break;case"center":if(this.options.rtl){const t=-1*Math.max((a-s)/2,0);this.dom.content.style.transform=`translateX(${t}px)`}else this.dom.content.style.transform=`translateX(${Math.max((a-s)/2,0)}px)`;break;default:if(r=this.overflow?n>0?Math.max(-i,0):-s:i<0?-i:0,this.options.rtl){const t=-1*r;this.dom.content.style.transform=`translateX(${t}px)`}else this.dom.content.style.transform=`translateX(${r}px)`}}repositionY(){const t=this.options.orientation.item,e=this.dom.box;e.style.top="top"==t?`${this.top}px`:this.parent.height-this.top-this.height+"px"}_repaintDragLeft(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragLeft){const t=document.createElement("div");t.className="vis-drag-left",t.dragLeftItem=this,this.dom.box.appendChild(t),this.dom.dragLeft=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragLeft||(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}_repaintDragRight(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.editable.updateTime&&!this.dom.dragRight){const t=document.createElement("div");t.className="vis-drag-right",t.dragRightItem=this,this.dom.box.appendChild(t),this.dom.dragRight=t}else this.selected||this.options.itemsAlwaysDraggable.range||!this.dom.dragRight||(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}}FB.prototype.baseClassName="vis-item vis-range";class LB extends NB{constructor(t,e,i){if(super(t,e,i),this.props={content:{width:0}},this.overflow=!1,t){if(null==t.start)throw new Error(`Property "start" missing in item ${t.id}`);if(null==t.end)throw new Error(`Property "end" missing in item ${t.id}`)}}isVisible(t){return this.data.start<t.end&&this.data.end>t.start}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.box)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);const t=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");this.dom.box.className=this.baseClassName+t}}_getDomComponentsSizes(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}}_updateDomComponentsSizes(t){this.props.content.width=t.content.width,this.height=0,this.dirty=!1}_repaintDomAdditionals(){}redraw(t){let e;const i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(e=this._getDomComponentsSizes.bind(this)())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(e)},this._repaintDomAdditionals.bind(this)];if(t)return i;{let t;return i.forEach((e=>{t=e()})),t}}repositionY(t){let e;const i=this.options.orientation.item;if(void 0!==this.data.subgroup){const t=this.data.subgroup;this.dom.box.style.height=`${this.parent.subgroups[t].height}px`,this.dom.box.style.top="top"==i?`${this.parent.top+this.parent.subgroups[t].top}px`:this.parent.top+this.parent.height-this.parent.subgroups[t].top-this.parent.subgroups[t].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof PB?(e=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==i?"0":"",this.dom.box.style.top="top"==i?"0":""):(e=this.parent.height,this.dom.box.style.top=`${this.parent.top}px`,this.dom.box.style.bottom="");this.dom.box.style.height=`${e}px`}}LB.prototype.baseClassName="vis-item vis-background",LB.prototype.stack=!1,LB.prototype.show=FB.prototype.show,LB.prototype.hide=FB.prototype.hide,LB.prototype.repositionX=FB.prototype.repositionX;class jB{constructor(t,e){this.container=t,this.overflowMethod=e||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(t,e){this.x=parseInt(t),this.y=parseInt(e)}setText(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=Ux.xss(t)}show(t){if(void 0===t&&(t=!0),!0===t){var e=this.frame.clientHeight,i=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,r=0,s=0;if("flip"==this.overflowMethod||"none"==this.overflowMethod){let t=!1,n=!0;"flip"==this.overflowMethod&&(this.y-e<this.padding&&(n=!1),this.x+i>o-this.padding&&(t=!0)),r=t?this.x-i:this.x,s=n?this.y-e:this.y}else(s=this.y-e)+e+this.padding>n&&(s=n-e-this.padding),s<this.padding&&(s=this.padding),(r=this.x)+i+this.padding>o&&(r=o-i-this.padding),r<this.padding&&(r=this.padding);this.frame.style.left=r+"px",this.frame.style.top=s+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}}class zB extends NB{constructor(t,e,i){if(super(t,e,Object.assign({},{fitOnDoubleClick:!0},i,{editable:!1})),this.props={content:{width:0,height:0}},!t||null==t.uiItems)throw new Error('Property "uiItems" missing in item '+t.id);this.id=gE(),this.group=t.group,this._setupRange(),this.emitter=this.data.eventEmitter,this.range=this.data.range,this.attached=!1,this.isCluster=!0,this.data.isCluster=!0}hasItems(){return this.data.uiItems&&this.data.uiItems.length&&this.attached}setUiItems(t){this.detach(),this.data.uiItems=t,this._setupRange(),this.attach()}isVisible(t){const e=this.data.end?this.data.end-this.data.start:0,i=this.width*t.getMillisecondsPerPixel(),n=Math.max(this.data.start.getTime()+e,this.data.start.getTime()+i);return this.data.start<t.end&&n>t.start&&this.hasItems()}getData(){return{isCluster:!0,id:this.id,items:this.data.items||[],data:this.data}}redraw(t){var e,i,n=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(e=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(e)}.bind(this),this._repaintDomAdditionals.bind(this)];return t?n:(n.forEach((function(t){i=t()})),i)}show(){this.displayed||this.redraw()}hide(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),this.options.showStipes&&(t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot)),this.displayed=!1}}repositionX(){let t=this.conversion.toScreen(this.data.start),e=this.data.end?this.conversion.toScreen(this.data.end):0;if(e)this.repositionXWithRanges(t,e);else{let e=void 0===this.data.align?this.options.align:this.data.align;this.repositionXWithoutRanges(t,e)}this.options.showStipes&&(this.dom.line.style.display=this._isStipeVisible()?"block":"none",this.dom.dot.style.display=this._isStipeVisible()?"block":"none",this._isStipeVisible()&&this.repositionStype(t,e))}repositionStype(t,e){this.dom.line.style.display="block",this.dom.dot.style.display="block";const i=this.dom.line.offsetWidth,n=this.dom.dot.offsetWidth;if(e){const o=i+t+(e-t)/2,r=o-n/2,s=this.options.rtl?-1*o:o,a=this.options.rtl?-1*r:r;this.dom.line.style.transform=`translateX(${s}px)`,this.dom.dot.style.transform=`translateX(${a}px)`}else{const e=this.options.rtl?-1*t:t,i=this.options.rtl?-1*(t-n/2):t-n/2;this.dom.line.style.transform=`translateX(${e}px)`,this.dom.dot.style.transform=`translateX(${i}px)`}}repositionXWithoutRanges(t,e){"right"==e?this.options.rtl?(this.right=t-this.width,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width,this.dom.box.style.left=this.left+"px"):"left"==e?this.options.rtl?(this.right=t,this.dom.box.style.right=this.right+"px"):(this.left=t,this.dom.box.style.left=this.left+"px"):this.options.rtl?(this.right=t-this.width/2,this.dom.box.style.right=this.right+"px"):(this.left=t-this.width/2,this.dom.box.style.left=this.left+"px")}repositionXWithRanges(t,e){let i=Math.round(Math.max(e-t+.5,1));this.options.rtl?this.right=t:this.left=t,this.width=Math.max(i,this.minWidth||0),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=i+"px"}repositionY(){var t=this.options.orientation.item,e=this.dom.box;if(e.style.top="top"==t?(this.top||0)+"px":(this.parent.height-this.top-this.height||0)+"px",this.options.showStipes){if("top"==t)this.dom.line.style.top="0",this.dom.line.style.height=this.parent.top+this.top+1+"px",this.dom.line.style.bottom="";else{var i=this.parent.itemSet.props.height,n=i-this.parent.top-this.parent.height+this.top;this.dom.line.style.top=i-n+"px",this.dom.line.style.bottom="0"}this.dom.dot.style.top=-this.dom.dot.offsetHeight/2+"px"}}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}move(){this.repositionX(),this.repositionY()}attach(){for(let t of this.data.uiItems)t.cluster=this;this.data.items=this.data.uiItems.map((t=>t.data)),this.attached=!0,this.dirty=!0}detach(t=!1){if(this.hasItems()){for(let t of this.data.uiItems)delete t.cluster;this.attached=!1,t&&this.group&&(this.group.remove(this),this.group=null),this.data.items=[],this.dirty=!0}}_onDoubleClick(){this._fit()}_setupRange(){const t=this.data.uiItems.map((t=>({start:t.data.start.valueOf(),end:t.data.end?t.data.end.valueOf():t.data.start.valueOf()})));this.data.min=Math.min(...t.map((t=>Math.min(t.start,t.end||t.start)))),this.data.max=Math.max(...t.map((t=>Math.max(t.start,t.end||t.start))));const e=this.data.uiItems.map((t=>t.center)).reduce(((t,e)=>t+e),0)/this.data.uiItems.length;this.data.uiItems.some((t=>t.data.end))?(this.data.start=new Date(this.data.min),this.data.end=new Date(this.data.max)):(this.data.start=new Date(e),this.data.end=null)}_getUiItems(){return this.data.uiItems&&this.data.uiItems.length?this.data.uiItems.filter((t=>t.cluster===this)):[]}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.options.showStipes&&(this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-cluster-line",this.dom.line.style.display="none",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-cluster-dot",this.dom.dot.style.display="none"),this.options.fitOnDoubleClick&&(this.dom.box.ondblclick=zB.prototype._onDoubleClick.bind(this)),this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}const t=this.parent.dom.background;if(this.options.showStipes){if(!this.dom.line.parentNode){if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var e=this.parent.dom.axis;if(!t)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(this.dom.dot)}}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const t=this.baseClassName+" "+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+" vis-readonly";this.dom.box.className="vis-item "+t,this.options.showStipes&&(this.dom.line.className="vis-item vis-cluster-line "+(this.selected?" vis-selected":""),this.dom.dot.className="vis-item vis-cluster-dot "+(this.selected?" vis-selected":"")),this.data.end&&(this.dom.content.style.maxWidth="none")}}_getDomComponentsSizes(){const t={previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}};return this.options.showStipes&&(t.dot={height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},t.line={width:this.dom.line.offsetWidth}),t}_updateDomComponentsSizes(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.data.end?this.minWidth=t.box.width:this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box)}_isStipeVisible(){return this.minWidth>=this.width||!this.data.end}_getFitRange(){const t=.05*(this.data.max-this.data.min)/2;return{fitStart:this.data.min-t,fitEnd:this.data.max+t}}_fit(){if(this.emitter){const{fitStart:t,fitEnd:e}=this._getFitRange(),i={start:new Date(t),end:new Date(e),animation:!0};this.emitter.emit("fit",i)}}_getItemData(){return this.data}}zB.prototype.baseClassName="vis-item vis-range vis-cluster";const UB="__ungrouped__";class HB{constructor(t){this.itemSet=t,this.groups={},this.cache={},this.cache[-1]=[]}createClusterItem(t,e,i){return new zB(t,e,i)}setItems(t,e){this.items=t||[],this.dataChanged=!0,this.applyOnChangedLevel=!1,e&&e.applyOnChangedLevel&&(this.applyOnChangedLevel=e.applyOnChangedLevel)}updateData(){this.dataChanged=!0,this.applyOnChangedLevel=!1}getClusters(t,e,i){let{maxItems:n,clusterCriteria:o}="boolean"==typeof i?{}:i;o||(o=()=>!0),n=n||1;let r=-1,s=0;if(e>0){if(e>=1)return[];r=Math.abs(Math.round(Math.log(100/e)/Math.log(2))),s=Math.abs(Math.pow(2,r))}if(this.dataChanged){const t=r!=this.cacheLevel;(!this.applyOnChangedLevel||t)&&(this._dropLevelsCache(),this._filterData())}this.cacheLevel=r;let a=this.cache[r];if(!a){a=[];for(let e in this.groups)if(this.groups.hasOwnProperty(e)){const r=this.groups[e],l=r.length;let d=0;for(;d<l;){let e=r[d],l=1,c=d-1;for(;c>=0&&e.center-r[c].center<s/2;)!r[c].cluster&&o(e.data,r[c].data)&&l++,c--;let h=d+1;for(;h<r.length&&r[h].center-e.center<s/2;)o(e.data,r[h].data)&&l++,h++;let u=a.length-1;for(;u>=0&&e.center-a[u].center<s;)e.group==a[u].group&&o(e.data,a[u].data)&&l++,u--;if(l>n){const s=l-n+1,c=[];let h=d;for(;c.length<s&&h<r.length;)o(r[d].data,r[h].data)&&c.push(r[h]),h++;const u=this.itemSet.getGroupId(e.data),A=this.itemSet.groups[u]||this.itemSet.groups[UB];let p=this._getClusterForItems(c,A,t,i);a.push(p),d+=s}else delete e.cluster,d+=1}}this.cache[r]=a}return a}_filterData(){const t={};this.groups=t;for(const e of Object.values(this.items)){const i=e.parent?e.parent.groupId:"";let n=t[i];n||(n=[],t[i]=n),n.push(e),e.data.start&&(e.data.end?e.center=(e.data.start.valueOf()+e.data.end.valueOf())/2:e.center=e.data.start.valueOf())}for(let e in t)t.hasOwnProperty(e)&&t[e].sort(((t,e)=>t.center-e.center));this.dataChanged=!1}_getClusterForItems(t,e,i,n){const o=(i||[]).map((t=>({cluster:t,itemsIds:new Set(t.data.uiItems.map((t=>t.id)))})));let r;if(o.length)for(let e of o)if(e.itemsIds.size===t.length&&t.every((t=>e.itemsIds.has(t.id)))){r=e.cluster;break}if(r)return r.setUiItems(t),r.group!==e&&(r.group&&r.group.remove(r),e&&(e.add(r),r.group=e)),r;let s=n.titleTemplate||"";const a={toScreen:this.itemSet.body.util.toScreen,toTime:this.itemSet.body.util.toTime},l=s.replace(/{count}/,t.length),d='<div title="'+l+'">'+t.length+"</div>",c=Object.assign({},n,this.itemSet.options),h={content:d,title:l,group:e,uiItems:t,eventEmitter:this.itemSet.body.emitter,range:this.itemSet.body.range};return r=this.createClusterItem(h,a,c),e&&(e.add(r),r.group=e),r.attach(),r}_dropLevelsCache(){this.cache={},this.cacheLevel=-1,this.cache[this.cacheLevel]=[]}}const GB="__background__";class qB extends Hx{constructor(t,e){super(),this.body=t,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap(t,e,i){const n=e.order;e.order=t.order,t.order=n},groupOrder:"order",selectable:!0,multiselect:!1,longSelectPressTime:251,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:oB.snap,onDropObjectOnItem(t,e,i){i(e)},onAdd(t,e){e(t)},onUpdate(t,e){e(t)},onMove(t,e){e(t)},onRemove(t,e){e(t)},onMoving(t,e){e(t)},onAddGroup(t,e){e(t)},onMoveGroup(t,e){e(t)},onRemoveGroup(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:500},tooltipOnItemUpdateTime:!1},this.options=Ux.extend({},this.defaultOptions),this.options.rtl=e.rtl,this.options.onTimeout=e.onTimeout,this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;const i=this;this.itemsData=null,this.groupsData=null,this.itemsSettingTime=null,this.initialItemSetDrawn=!1,this.userContinueNotBail=null,this.sequentialSelection=!1,this.itemListeners={add(t,e,n){i._onAdd(e.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},update(t,e,n){i._onUpdate(e.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()},remove(t,e,n){i._onRemove(e.items),i.options.cluster&&i.clusterGenerator.setItems(i.items,{applyOnChangedLevel:!1}),i.redraw()}},this.groupListeners={add(t,e,n){if(i._onAddGroups(e.items),i.groupsData&&i.groupsData.length>0){const t=i.groupsData.getDataSet();t.get().forEach((e=>{if(e.nestedGroups){0!=e.showNested&&(e.showNested=!0);let i=[];e.nestedGroups.forEach((n=>{const o=t.get(n);o&&(o.nestedInGroup=e.id,0==e.showNested&&(o.visible=!1),i=i.concat(o))})),t.update(i,n)}}))}},update(t,e,n){i._onUpdateGroups(e.items)},remove(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.popupTimer=null,this.touchParams={},this.groupTouchParams={group:null,isDragging:!1},this._create(),this.setOptions(e),this.clusters=[]}_create(){const t=document.createElement("div");t.className="vis-itemset",t["vis-itemset"]=this,this.dom.frame=t;const e=document.createElement("div");e.className="vis-background",t.appendChild(e),this.dom.background=e;const i=document.createElement("div");i.className="vis-foreground",t.appendChild(i),this.dom.foreground=i;const n=document.createElement("div");n.className="vis-axis",this.dom.axis=n;const o=document.createElement("div");o.className="vis-labelset",this.dom.labelSet=o,this._updateUngrouped();const r=new PB(GB,null,this);r.show(),this.groups[GB]=r,this.hammer=new iB(this.body.dom.centerContainer),this.hammer.on("hammer.input",(t=>{t.isFirst&&this._onTouch(t)})),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:iB.ALL}),this.hammer.get("press").set({time:1e4}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.get("press").set({time:1e4}),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.options.rtl?this.groupHammer=new iB(this.body.dom.rightContainer):this.groupHammer=new iB(this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:iB.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()}setOptions(t){if(t){const e=["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","sequentialSelection","multiselectPerGroup","longSelectPressTime","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime","groupHeightMode","onTimeout"];Ux.selectiveExtend(e,this.options,t),"itemsAlwaysDraggable"in t&&("boolean"==typeof t.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=t.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"==typeof t.itemsAlwaysDraggable&&(Ux.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,t.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"sequentialSelection"in t&&"boolean"==typeof t.sequentialSelection&&(this.options.sequentialSelection=t.sequentialSelection),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation.item="top"===t.orientation?"top":"bottom":"object"==typeof t.orientation&&"item"in t.orientation&&(this.options.orientation.item=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"==typeof t.margin&&(Ux.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"==typeof t.margin.item&&Ux.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),["locale","locales"].forEach((e=>{e in t&&(this.options[e]=t[e])})),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable,this.options.editable.overrideItems=!1):"object"==typeof t.editable&&Ux.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,t.editable)),"groupEditable"in t&&("boolean"==typeof t.groupEditable?(this.options.groupEditable.order=t.groupEditable,this.options.groupEditable.add=t.groupEditable,this.options.groupEditable.remove=t.groupEditable):"object"==typeof t.groupEditable&&Ux.selectiveExtend(["order","add","remove"],this.options.groupEditable,t.groupEditable));const i=e=>{const i=t[e];if(i){if("function"!=typeof i)throw new Error(`option ${e} must be a function ${e}(item, callback)`);this.options[e]=i}};["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(i),t.cluster?(Object.assign(this.options,{cluster:t.cluster}),this.clusterGenerator||(this.clusterGenerator=new HB(this)),this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.clusterGenerator?(this._detachAllClusters(),this.clusters=[],this.clusterGenerator=null,this.options.cluster=void 0,this.markDirty({refreshItems:!0,restackGroups:!0}),this.redraw()):this.markDirty()}}markDirty(t){this.groupIds=[],t&&(t.refreshItems&&Ux.forEach(this.items,(t=>{t.dirty=!0,t.displayed&&t.redraw()})),t.restackGroups&&Ux.forEach(this.groups,((t,e)=>{e!==GB&&(t.stackDirty=!0)})))}destroy(){this.clearPopupTimer(),this.hide(),this.setItems(null),this.setGroups(null),this.hammer&&this.hammer.destroy(),this.groupHammer&&this.groupHammer.destroy(),this.hammer=null,this.body=null,this.conversion=null}hide(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)}show(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))}setPopupTimer(t){if(this.clearPopupTimer(),t){const e=this.options.tooltip.delay||"number"==typeof this.options.tooltip.delay?this.options.tooltip.delay:500;this.popupTimer=setTimeout((function(){t.show()}),e)}}clearPopupTimer(){null!=this.popupTimer&&(clearTimeout(this.popupTimer),this.popupTimer=null)}setSelection(t){null==t&&(t=[]),Array.isArray(t)||(t=[t]);const e=this.selection.filter((e=>-1===t.indexOf(e)));for(let t of e){const e=this.getItemById(t);e&&e.unselect()}this.selection=[...t];for(let e of t){const t=this.getItemById(e);t&&t.select()}}getSelection(){return this.selection.concat([])}getVisibleItems(){const t=this.body.range.getRange();let e,i;this.options.rtl?(e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end)):(i=this.body.util.toScreen(t.start),e=this.body.util.toScreen(t.end));const n=[];for(const t in this.groups)if(this.groups.hasOwnProperty(t)){const o=this.groups[t],r=o.isVisible?o.visibleItems:[];for(const t of r)this.options.rtl?t.right<i&&t.right+t.width>e&&n.push(t.id):t.left<e&&t.left+t.width>i&&n.push(t.id)}return n}getItemsAtCurrentTime(t){let e,i;this.options.rtl?(e=this.body.util.toScreen(t),i=this.body.util.toScreen(t)):(i=this.body.util.toScreen(t),e=this.body.util.toScreen(t));const n=[];for(const t in this.groups)if(this.groups.hasOwnProperty(t)){const o=this.groups[t],r=o.isVisible?o.visibleItems:[];for(const t of r)this.options.rtl?t.right<i&&t.right+t.width>e&&n.push(t.id):t.left<e&&t.left+t.width>i&&n.push(t.id)}return n}getVisibleGroups(){const t=[];for(const e in this.groups)if(this.groups.hasOwnProperty(e)){this.groups[e].isVisible&&t.push(e)}return t}getItemById(t){return this.items[t]||this.clusters.find((e=>e.id===t))}_deselect(t){const e=this.selection;for(let i=0,n=e.length;i<n;i++)if(e[i]==t){e.splice(i,1);break}}redraw(){const t=this.options.margin,e=this.body.range,i=Ux.option.asSize,n=this.options,o=n.orientation.item;let r=!1;const s=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,s.className="vis-itemset",this.options.cluster&&this._clusterItems(),r=this._orderGroups()||r;const a=e.end-e.start,l=a!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth,d=e.start!=this.lastRangeStart,c=n.stack!=this.lastStack,h=n.stackSubgroups!=this.lastStackSubgroups,u=l||d||c||h;this.lastVisibleInterval=a,this.lastRangeStart=e.start,this.lastStack=n.stack,this.lastStackSubgroups=n.stackSubgroups,this.props.lastWidth=this.props.width;const A=this._firstGroup(),p={item:t.item,axis:t.axis},m={item:t.item,axis:t.item.vertical/2};let g=0;const f=t.axis+t.item.vertical;this.groups[GB].redraw(e,m,u);const v={};let b=0;Ux.forEach(this.groups,((t,i)=>{if(i===GB)return;const n=t==A?p:m;v[i]=t.redraw(e,n,u,!0),b=v[i].length}));if(b>0){const t={};for(let e=0;e<b;e++)Ux.forEach(v,((i,n)=>{t[n]=i[e]()}));Ux.forEach(this.groups,((e,i)=>{if(i===GB)return;const n=t[i];r=n||r,g+=e.height})),g=Math.max(g,f)}return g=Math.max(g,f),s.style.height=i(g),this.props.width=s.offsetWidth,this.props.height=g,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.hammer.get("press").set({time:this.options.longSelectPressTime}),this.initialItemSetDrawn=!0,r=this._isResized()||r,r}_firstGroup(){const t="top"==this.options.orientation.item?0:this.groupIds.length-1,e=this.groupIds[t];return this.groups[e]||this.groups.__ungrouped__||null}_updateUngrouped(){let t,e,i=this.groups.__ungrouped__;if(this.groupsData){if(i)for(e in i.dispose(),delete this.groups.__ungrouped__,this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);const i=this.getGroupId(t.data),n=this.groups[i];n&&n.add(t)||t.hide()}}else if(!i){const n=null,o=null;for(e in i=new RB(n,o,this),this.groups.__ungrouped__=i,this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}}getLabelSet(){return this.dom.labelSet}setItems(t){this.itemsSettingTime=new Date;const e=this;let i;const n=this.itemsData;if(t){if(!Ox(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=Fx(t)}else this.itemsData=null;if(n&&(Ux.forEach(this.itemListeners,((t,e)=>{n.off(e,t)})),n.dispose(),i=n.getIds(),this._onRemove(i)),this.itemsData){const t=this.id;Ux.forEach(this.itemListeners,((i,n)=>{e.itemsData.on(n,i,t)})),i=this.itemsData.getIds(),this._onAdd(i),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})}getItems(){return null!=this.itemsData?this.itemsData.rawDS:null}setGroups(t){const e=this;let i;if(this.groupsData&&(Ux.forEach(this.groupListeners,((t,i)=>{e.groupsData.off(i,t)})),i=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(i)),t){if(!Ox(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){const t=this.groupsData.getDataSet();t.get().forEach((e=>{e.nestedGroups&&e.nestedGroups.forEach((i=>{const n=t.get(i);n.nestedInGroup=e.id,0==e.showNested&&(n.visible=!1),t.update(n)}))}));const n=this.id;Ux.forEach(this.groupListeners,((t,i)=>{e.groupsData.on(i,t,n)})),i=this.groupsData.getIds(),this._onAddGroups(i)}this._updateUngrouped(),this._order(),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems(),this.markDirty({refreshItems:!0,restackGroups:!0})),this.body.emitter.emit("_change",{queue:!0})}getGroups(){return this.groupsData}removeItem(t){const e=this.itemsData.get(t);e&&this.options.onRemove(e,(e=>{e&&this.itemsData.remove(t)}))}_getType(t){return t.type||this.options.type||(t.end?"range":"box")}getGroupId(t){return"background"==this._getType(t)&&null==t.group?GB:this.groupsData?t.group:"__ungrouped__"}_onUpdate(t){const e=this;t.forEach((t=>{const i=e.itemsData.get(t);let n=e.items[t];const o=i?e._getType(i):null,r=qB.types[o];let s;if(n&&(r&&n instanceof r?e._updateItem(n,i):(s=n.selected,e._removeItem(n),n=null)),!n&&i){if(!r)throw new TypeError(`Unknown item type "${o}"`);n=new r(i,e.conversion,e.options),n.id=t,e._addItem(n),s&&(this.selection.push(t),n.select())}})),this._order(),this.options.cluster&&(this.clusterGenerator.setItems(this.items,{applyOnChangedLevel:!1}),this._clusterItems()),this.body.emitter.emit("_change",{queue:!0})}_onRemove(t){let e=0;const i=this;t.forEach((t=>{const n=i.items[t];n&&(e++,i._removeItem(n))})),e&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))}_order(){Ux.forEach(this.groups,(t=>{t.order()}))}_onUpdateGroups(t){this._onAddGroups(t)}_onAddGroups(t){const e=this;t.forEach((t=>{const i=e.groupsData.get(t);let n=e.groups[t];if(n)n.setData(i);else{if("__ungrouped__"==t||t==GB)throw new Error(`Illegal group id. ${t} is a reserved id.`);const o=Object.create(e.options);Ux.extend(o,{height:null}),n=new RB(t,i,e),e.groups[t]=n;for(const i in e.items)if(e.items.hasOwnProperty(i)){const o=e.items[i];o.data.group==t&&n.add(o)}n.order(),n.show()}})),this.body.emitter.emit("_change",{queue:!0})}_onRemoveGroups(t){t.forEach((t=>{const e=this.groups[t];e&&(e.dispose(),delete this.groups[t])})),this.options.cluster&&(this.clusterGenerator.updateData(),this._clusterItems()),this.markDirty({restackGroups:!!this.options.cluster}),this.body.emitter.emit("_change",{queue:!0})}_orderGroups(){if(this.groupsData){let t=this.groupsData.getIds({order:this.options.groupOrder});t=this._orderNestedGroups(t);const e=!Ux.equalArray(t,this.groupIds);if(e){const e=this.groups;t.forEach((t=>{e[t].hide()})),t.forEach((t=>{e[t].show()})),this.groupIds=t}return e}return!1}_orderNestedGroups(t){return function t(e,i){let n=[];return i.forEach((i=>{n.push(i);if(e.groupsData.get(i).nestedGroups){const o=e.groupsData.get({filter:t=>t.nestedInGroup==i,order:e.options.groupOrder}).map((t=>t.id));n=n.concat(t(e,o))}})),n}(this,t.filter((t=>!this.groupsData.get(t).nestedInGroup)))}_addItem(t){this.items[t.id]=t;const e=this.getGroupId(t.data),i=this.groups[e];i?i&&i.data&&i.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1,i&&i.add(t)}_updateItem(t,e){t.setData(e);const i=this.getGroupId(t.data),n=this.groups[i];n?n&&n.data&&n.data.showNested&&(t.groupShowing=!0):t.groupShowing=!1}_removeItem(t){t.hide(),delete this.items[t.id];const e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t),null!=this.popup&&this.popup.hide()}_constructByEndArray(t){const e=[];for(let i=0;i<t.length;i++)t[i]instanceof FB&&e.push(t[i]);return e}_onTouch(t){this.touchParams.item=this.itemFromTarget(t),this.touchParams.dragLeftItem=t.target.dragLeftItem||!1,this.touchParams.dragRightItem=t.target.dragRightItem||!1,this.touchParams.itemProps=null}_getGroupIndex(t){for(let e=0;e<this.groupIds.length;e++)if(t==this.groupIds[e])return e}_onDragStart(t){if(this.touchParams.itemIsDragging)return;const e=this.touchParams.item||null,i=this;let n;if(e&&(e.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;if(null!=e.editable&&!e.editable.updateTime&&!e.editable.updateGroup&&!this.options.editable.overrideItems)return;const o=this.touchParams.dragLeftItem,r=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=e,o)n={item:o,initialX:t.center.x,dragLeft:!0,data:this._cloneItemData(e.data)},this.touchParams.itemProps=[n];else if(r)n={item:r,initialX:t.center.x,dragRight:!0,data:this._cloneItemData(e.data)},this.touchParams.itemProps=[n];else if(this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey))this._onDragStartAddItem(t);else{this.groupIds.length<1&&this.redraw();const n=this._getGroupIndex(e.data.group),o=this.options.itemsAlwaysDraggable.item&&!e.selected?[e.id]:this.getSelection();this.touchParams.itemProps=o.map((e=>{const o=i.items[e],r=i._getGroupIndex(o.data.group);return{item:o,initialX:t.center.x,groupOffset:n-r,data:this._cloneItemData(o.data)}}))}t.stopPropagation()}else this.options.editable.add&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey)&&this._onDragStartAddItem(t)}_onDragStartAddItem(t){const e=this.options.snap||null,i=this.dom.frame.getBoundingClientRect(),n=this.options.rtl?i.right-t.center.x+10:t.center.x-i.left-10,o=this.body.util.toTime(n),r=this.body.util.getScale(),s=this.body.util.getStep(),a=e?e(o,r,s):o,l={type:"range",start:a,end:a,content:"new item"},d=gE();l[this.itemsData.idProp]=d;const c=this.groupFromTarget(t);c&&(l.group=c.groupId);const h=new FB(l,this.conversion,this.options);h.id=d,h.data=this._cloneItemData(l),this._addItem(h),this.touchParams.selectedItem=h;const u={item:h,initialX:t.center.x,data:h.data};this.options.rtl?u.dragLeft=!0:u.dragRight=!0,this.touchParams.itemProps=[u],t.stopPropagation()}_onDrag(t){if(null!=this.popup&&this.options.showTooltips&&!this.popup.hidden){const e=this.body.dom.centerContainer,i=e.getBoundingClientRect();this.popup.setPosition(t.center.x-i.left+e.offsetLeft,t.center.y-i.top+e.offsetTop),this.popup.show()}if(this.touchParams.itemProps){t.stopPropagation();const e=this,i=this.options.snap||null,n=this.body.dom.root.offsetLeft,o=this.options.rtl?n+this.body.domProps.right.width:n+this.body.domProps.left.width,r=this.body.util.getScale(),s=this.body.util.getStep(),a=this.touchParams.selectedItem,l=(this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateGroup;let d=null;if(l&&a&&null!=a.data.group){const i=e.groupFromTarget(t);i&&(d=this._getGroupIndex(i.groupId))}this.touchParams.itemProps.forEach((n=>{const c=e.body.util.toTime(t.center.x-o),h=e.body.util.toTime(n.initialX-o);let u,A,p,m,g;u=this.options.rtl?-(c-h):c-h;let f=this._cloneItemData(n.item.data);if(null!=n.item.editable&&!n.item.editable.updateTime&&!n.item.editable.updateGroup&&!e.options.editable.overrideItems)return;if((this.options.editable.overrideItems||null==a.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=a.editable&&a.editable.updateTime)if(n.dragLeft)this.options.rtl?null!=f.end&&(p=Ux.convert(n.data.end,"Date"),g=new Date(p.valueOf()+u),f.end=i?i(g,r,s):g):null!=f.start&&(A=Ux.convert(n.data.start,"Date"),m=new Date(A.valueOf()+u),f.start=i?i(m,r,s):m);else if(n.dragRight)this.options.rtl?null!=f.start&&(A=Ux.convert(n.data.start,"Date"),m=new Date(A.valueOf()+u),f.start=i?i(m,r,s):m):null!=f.end&&(p=Ux.convert(n.data.end,"Date"),g=new Date(p.valueOf()+u),f.end=i?i(g,r,s):g);else if(null!=f.start)if(A=Ux.convert(n.data.start,"Date").valueOf(),m=new Date(A+u),null!=f.end){p=Ux.convert(n.data.end,"Date");const t=p.valueOf()-A.valueOf();f.start=i?i(m,r,s):m,f.end=new Date(f.start.valueOf()+t)}else f.start=i?i(m,r,s):m;if(l&&!n.dragLeft&&!n.dragRight&&null!=d&&null!=f.group){let t=d-n.groupOffset;t=Math.max(0,t),t=Math.min(e.groupIds.length-1,t),f.group=e.groupIds[t]}f=this._cloneItemData(f),e.options.onMoving(f,(t=>{t&&n.item.setData(this._cloneItemData(t,"Date"))}))})),this.body.emitter.emit("_change")}}_moveToGroup(t,e){const i=this.groups[e];if(i&&i.groupId!=t.data.group){const e=t.parent;e.remove(t),e.order(),t.data.group=i.groupId,i.add(t),i.order()}}_onDragEnd(t){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){t.stopPropagation();const e=this,i=this.touchParams.itemProps;this.touchParams.itemProps=null,i.forEach((t=>{const i=t.item.id;if(null!=e.itemsData.get(i)){const n=this._cloneItemData(t.item.data);e.options.onMove(n,(n=>{n?(n[this.itemsData.idProp]=i,this.itemsData.update(n)):(t.item.setData(t.data),e.body.emitter.emit("_change"))}))}else e.options.onAdd(t.item.data,(i=>{e._removeItem(t.item),i&&e.itemsData.add(i),e.body.emitter.emit("_change")}))}))}}_onGroupClick(t){const e=this.groupFromTarget(t);setTimeout((()=>{this.toggleGroupShowNested(e)}),1)}toggleGroupShowNested(t,e){if(!t||!t.nestedGroups)return;const i=this.groupsData.getDataSet();t.showNested=null!=e?!!e:!t.showNested;let n=i.get(t.groupId);n.showNested=t.showNested;let o=t.nestedGroups,r=o;for(;r.length>0;){let t=r;r=[];for(let e=0;e<t.length;e++){let n=i.get(t[e]);n.nestedGroups&&(r=r.concat(n.nestedGroups))}r.length>0&&(o=o.concat(r))}let s=i.get(o).map((function(t){return null==t.visible&&(t.visible=!0),t.visible=!!n.showNested,t}));i.update(s.concat(n)),n.showNested?(Ux.removeClassName(t.dom.label,"collapsed"),Ux.addClassName(t.dom.label,"expanded")):(Ux.removeClassName(t.dom.label,"expanded"),Ux.addClassName(t.dom.label,"collapsed"))}toggleGroupDragClassName(t){t.dom.label.classList.toggle("vis-group-is-dragging"),t.dom.foreground.classList.toggle("vis-group-is-dragging")}_onGroupDragStart(t){this.groupTouchParams.isDragging||this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(t),this.groupTouchParams.group&&(t.stopPropagation(),this.groupTouchParams.isDragging=!0,this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))}_onGroupDrag(t){if(this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();const e=this.groupsData.getDataSet(),i=this.groupFromTarget(t);if(i&&i.height!=this.groupTouchParams.group.height){const e=i.top<this.groupTouchParams.group.top,n=t.center?t.center.y:t.clientY,o=i.dom.foreground.getBoundingClientRect(),r=this.groupTouchParams.group.height;if(e){if(o.top+r<n)return}else{const t=i.height;if(o.top+t-r>n)return}}if(i&&i!=this.groupTouchParams.group){const t=e.get(i.groupId),n=e.get(this.groupTouchParams.group.groupId);n&&t&&(this.options.groupOrderSwap(n,t,e),e.update(n),e.update(t));const o=e.getIds({order:this.options.groupOrder});if(!Ux.equalArray(o,this.groupTouchParams.originalOrder)){const t=this.groupTouchParams.originalOrder,i=this.groupTouchParams.group.groupId,n=Math.min(t.length,o.length);let r=0,s=0,a=0;for(;r<n;){for(;r+s<n&&r+a<n&&o[r+s]==t[r+a];)r++;if(r+s>=n)break;if(o[r+s]==i)s=1;else if(t[r+a]==i)a=1;else{const i=o.indexOf(t[r+a]),n=e.get(o[r+s]),l=e.get(t[r+a]);this.options.groupOrderSwap(n,l,e),e.update(n),e.update(l);const d=o[r+s];o[r+s]=t[r+a],o[i]=d,r++}}}}}}_onGroupDragEnd(t){if(this.groupTouchParams.isDragging=!1,this.options.groupEditable.order&&this.groupTouchParams.group){t.stopPropagation();const e=this,i=e.groupTouchParams.group.groupId,n=e.groupsData.getDataSet(),o=Ux.extend({},n.get(i));e.options.onMoveGroup(o,(t=>{if(t)t[n._idProp]=i,n.update(t);else{const t=n.getIds({order:e.options.groupOrder});if(!Ux.equalArray(t,e.groupTouchParams.originalOrder)){const i=e.groupTouchParams.originalOrder,o=Math.min(i.length,t.length);let r=0;for(;r<o;){for(;r<o&&t[r]==i[r];)r++;if(r>=o)break;const s=t.indexOf(i[r]),a=n.get(t[r]),l=n.get(i[r]);e.options.groupOrderSwap(a,l,n),n.update(a),n.update(l);const d=t[r];t[r]=i[r],t[s]=d,r++}}}})),e.body.emitter.emit("groupDragged",{groupId:i}),this.toggleGroupDragClassName(this.groupTouchParams.group),this.groupTouchParams.group=null}}_onSelectItem(t){if(!this.options.selectable)return;const e=t.srcEvent&&(t.srcEvent.ctrlKey||t.srcEvent.metaKey),i=t.srcEvent&&t.srcEvent.shiftKey;if(e||i)return void this._onMultiSelectItem(t);const n=this.getSelection(),o=this.itemFromTarget(t),r=o&&o.selectable?[o.id]:[];this.setSelection(r);const s=this.getSelection();(s.length>0||n.length>0)&&this.body.emitter.emit("select",{items:s,event:t})}_onMouseOver(t){const e=this.itemFromTarget(t);if(!e)return;if(e===this.itemFromRelatedTarget(t))return;const i=e.getTitle();if(this.options.showTooltips&&i){null==this.popup&&(this.popup=new jB(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(i);const e=this.body.dom.centerContainer,n=e.getBoundingClientRect();this.popup.setPosition(t.clientX-n.left+e.offsetLeft,t.clientY-n.top+e.offsetTop),this.setPopupTimer(this.popup)}else this.clearPopupTimer(),null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:e.id,event:t})}_onMouseOut(t){const e=this.itemFromTarget(t);if(!e)return;e!==this.itemFromRelatedTarget(t)&&(this.clearPopupTimer(),null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:e.id,event:t}))}_onMouseMove(t){if(this.itemFromTarget(t)&&(null!=this.popupTimer&&this.setPopupTimer(this.popup),this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden)){const e=this.body.dom.centerContainer,i=e.getBoundingClientRect();this.popup.setPosition(t.clientX-i.left+e.offsetLeft,t.clientY-i.top+e.offsetTop),this.popup.show()}}_onMouseWheel(t){this.touchParams.itemIsDragging&&this._onDragEnd(t)}_onUpdateItem(t){if(!this.options.selectable)return;if(!this.options.editable.updateTime&&!this.options.editable.updateGroup)return;const e=this;if(t){const i=e.itemsData.get(t.id);this.options.onUpdate(i,(t=>{t&&e.itemsData.update(t)}))}}_onDropObjectOnItem(t){const e=this.itemFromTarget(t),i=JSON.parse(t.dataTransfer.getData("text"));this.options.onDropObjectOnItem(i,e)}_onAddItem(t){if(!this.options.selectable)return;if(!this.options.editable.add)return;const e=this,i=this.options.snap||null,n=this.dom.frame.getBoundingClientRect(),o=this.options.rtl?n.right-t.center.x:t.center.x-n.left,r=this.body.util.toTime(o),s=this.body.util.getScale(),a=this.body.util.getStep();let l,d;"drop"==t.type?(d=JSON.parse(t.dataTransfer.getData("text")),d.content=d.content?d.content:"new item",d.start=d.start?d.start:i?i(r,s,a):r,d.type=d.type||"box",d[this.itemsData.idProp]=d.id||gE(),"range"!=d.type||d.end||(l=this.body.util.toTime(o+this.props.width/5),d.end=i?i(l,s,a):l)):(d={start:i?i(r,s,a):r,content:"new item"},d[this.itemsData.idProp]=gE(),"range"===this.options.type&&(l=this.body.util.toTime(o+this.props.width/5),d.end=i?i(l,s,a):l));const c=this.groupFromTarget(t);c&&(d.group=c.groupId),d=this._cloneItemData(d),this.options.onAdd(d,(i=>{i&&(e.itemsData.add(i),"drop"==t.type&&e.setSelection([i.id]))}))}_onMultiSelectItem(t){if(!this.options.selectable)return;const e=this.itemFromTarget(t);if(e){let i=this.options.multiselect?this.getSelection():[];if((t.srcEvent&&t.srcEvent.shiftKey||!1||this.options.sequentialSelection)&&this.options.multiselect){const t=this.itemsData.get(e.id).group;let n;this.options.multiselectPerGroup&&i.length>0&&(n=this.itemsData.get(i[0]).group),this.options.multiselectPerGroup&&null!=n&&n!=t||i.push(e.id);const o=qB._getItemRange(this.itemsData.get(i));if(!this.options.multiselectPerGroup||n==t){i=[];for(const t in this.items)if(this.items.hasOwnProperty(t)){const e=this.items[t],r=e.data.start,s=void 0!==e.data.end?e.data.end:r;!(r>=o.min&&s<=o.max)||this.options.multiselectPerGroup&&n!=this.itemsData.get(e.id).group||e instanceof LB||i.push(e.id)}}}else{const t=i.indexOf(e.id);-1==t?i.push(e.id):i.splice(t,1)}const n=i.filter((t=>this.getItemById(t).selectable));this.setSelection(n),this.body.emitter.emit("select",{items:this.getSelection(),event:t})}}static _getItemRange(t){let e=null,i=null;return t.forEach((t=>{(null==i||t.start<i)&&(i=t.start),null!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)})),{min:i,max:e}}itemFromElement(t){let e=t;for(;e;){if(e.hasOwnProperty("vis-item"))return e["vis-item"];e=e.parentNode}return null}itemFromTarget(t){return this.itemFromElement(t.target)}itemFromRelatedTarget(t){return this.itemFromElement(t.relatedTarget)}groupFromTarget(t){const e=t.center?t.center.y:t.clientY;let i=this.groupIds;i.length<=0&&this.groupsData&&(i=this.groupsData.getIds({order:this.options.groupOrder}));for(let t=0;t<i.length;t++){const n=i[t],o=this.groups[n],r=o.dom.foreground,s=r.getBoundingClientRect();if(e>=s.top&&e<s.top+r.offsetHeight)return o;if("top"===this.options.orientation.item){if(t===this.groupIds.length-1&&e>s.top)return o}else if(0===t&&e<s.top+r.offset)return o}return null}static itemSetFromTarget(t){let e=t.target;for(;e;){if(e.hasOwnProperty("vis-itemset"))return e["vis-itemset"];e=e.parentNode}return null}_cloneItemData(t,e){const i=Ux.extend({},t);return e||(e=this.itemsData.type),null!=i.start&&(i.start=Ux.convert(i.start,e&&e.start||"Date")),null!=i.end&&(i.end=Ux.convert(i.end,e&&e.end||"Date")),i}_clusterItems(){if(!this.options.cluster)return;const{scale:t}=this.body.range.conversion(this.body.domProps.center.width),e=this.clusterGenerator.getClusters(this.clusters,t,this.options.cluster);if(this.clusters!=e){if(this._detachAllClusters(),e){for(let t of e)t.attach();this.clusters=e}this._updateClusters(e)}}_detachAllClusters(){if(this.options.cluster&&this.clusters&&this.clusters.length)for(let t of this.clusters)t.detach()}_updateClusters(t){if(this.clusters&&this.clusters.length){const e=new Set(t.map((t=>t.id))),i=this.clusters.filter((t=>!e.has(t.id)));let n=!1;for(let t of i){const e=this.selection.indexOf(t.id);-1!==e&&(t.unselect(),this.selection.splice(e,1),n=!0)}if(n){const t=this.getSelection();this.body.emitter.emit("select",{items:t,event:event})}}this.clusters=t||[]}}qB.types={background:LB,box:class extends NB{constructor(t,e,i){if(super(t,e,i),this.props={dot:{width:0,height:0},line:{width:0,height:0}},t&&null==t.start)throw new Error(`Property "start" missing in item ${t}`)}isVisible(t){if(this.cluster)return!1;let e;const i=this.data.align||this.options.align,n=this.width*t.getMillisecondsPerPixel();return e="right"==i?this.data.start.getTime()>t.start&&this.data.start.getTime()-n<t.end:"left"==i?this.data.start.getTime()+n>t.start&&this.data.start.getTime()<t.end:this.data.start.getTime()+n/2>t.start&&this.data.start.getTime()-n/2<t.end,e}_createDomElement(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var t=this.parent.dom.background;if(!t)throw new Error("Cannot redraw item: parent has no background container element");t.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){const e=this.parent.dom.axis;if(!t)throw new Error("Cannot redraw item: parent has no axis container element");e.appendChild(this.dom.dot)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);const t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.box.className=`vis-item vis-box${e}`,this.dom.line.className=`vis-item vis-line${e}`,this.dom.dot.className=`vis-item vis-dot${e}`}}_getDomComponentsSizes(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}}_updateDomComponentsSizes(t){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=t.dot.height,this.props.dot.width=t.dot.width,this.props.line.width=t.line.width,this.width=t.box.width,this.height=t.box.height,this.options.rtl?this.dom.box.style.right=t.previous.right:this.dom.box.style.left=t.previous.left,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)}redraw(t){let e;const i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(e=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(e)},this._repaintDomAdditionals.bind(this)];if(t)return i;{let t;return i.forEach((e=>{t=e()})),t}}show(t){if(!this.displayed)return this.redraw(t)}hide(){if(this.displayed){const t=this.dom;t.box.remove?t.box.remove():t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.remove?t.line.remove():t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.remove?t.dot.remove():t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}}repositionXY(){const t=this.options.rtl,e=(t,e,i,n=!1)=>{if(void 0===e&&void 0===i)return;const o=n?-1*e:e;t.style.transform=void 0!==i?void 0!==e?`translate(${o}px, ${i}px)`:`translateY(${i}px)`:`translateX(${o}px)`};e(this.dom.box,this.boxX,this.boxY,t),e(this.dom.dot,this.dotX,this.dotY,t),e(this.dom.line,this.lineX,this.lineY,t)}repositionX(){const t=this.conversion.toScreen(this.data.start),e=void 0===this.data.align?this.options.align:this.data.align,i=this.props.line.width,n=this.props.dot.width;"right"==e?(this.boxX=t-this.width,this.lineX=t-i,this.dotX=t-i/2-n/2):"left"==e?(this.boxX=t,this.lineX=t,this.dotX=t+i/2-n/2):(this.boxX=t-this.width/2,this.lineX=this.options.rtl?t-i:t-i/2,this.dotX=t-n/2),this.options.rtl?this.right=this.boxX:this.left=this.boxX,this.repositionXY()}repositionY(){const t=this.options.orientation.item,e=this.dom.line.style;if("top"==t){const t=this.parent.top+this.top+1;this.boxY=this.top||0,e.height=`${t}px`,e.bottom="",e.top="0"}else{const t=this.parent.itemSet.props.height-this.parent.top-this.parent.height+this.top;this.boxY=this.parent.height-this.top-(this.height||0),e.height=`${t}px`,e.top="",e.bottom="0"}this.dotY=-this.props.dot.height/2,this.repositionXY()}getWidthLeft(){return this.width/2}getWidthRight(){return this.width/2}},range:FB,point:class extends NB{constructor(t,e,i){if(super(t,e,i),this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},t&&null==t.start)throw new Error(`Property "start" missing in item ${t}`)}isVisible(t){if(this.cluster)return!1;const e=this.width*t.getMillisecondsPerPixel();return this.data.start.getTime()+e>t.start&&this.data.start<t.end}_createDomElement(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["vis-item"]=this,this.dirty=!0)}_appendDomElement(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){const t=this.parent.dom.foreground;if(!t)throw new Error("Cannot redraw item: parent has no foreground container element");t.appendChild(this.dom.point)}this.displayed=!0}_updateDirtyDomComponents(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);const t=this.editable.updateTime||this.editable.updateGroup,e=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(t?" vis-editable":" vis-readonly");this.dom.point.className=`vis-item vis-point${e}`,this.dom.dot.className=`vis-item vis-dot${e}`}}_getDomComponentsSizes(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}}_updateDomComponentsSizes(t){this.props.dot.width=t.dot.width,this.props.dot.height=t.dot.height,this.props.content.height=t.content.height,this.options.rtl?this.dom.content.style.marginRight=this.props.dot.width/2+"px":this.dom.content.style.marginLeft=this.props.dot.width/2+"px",this.width=t.point.width,this.height=t.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px";const e=this.props.dot.width,i=this.options.rtl?e/2:e/2*-1;this.dom.dot.style.transform=`translateX(${i}px`,this.dirty=!1}_repaintDomAdditionals(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)}redraw(t){let e;const i=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),()=>{this.dirty&&(e=this._getDomComponentsSizes())},()=>{this.dirty&&this._updateDomComponentsSizes.bind(this)(e)},this._repaintDomAdditionals.bind(this)];if(t)return i;{let t;return i.forEach((e=>{t=e()})),t}}repositionXY(){const t=this.options.rtl;((t,e,i,n=!1)=>{if(void 0===e&&void 0===i)return;const o=n?-1*e:e;t.style.transform=void 0!==i?void 0!==e?`translate(${o}px, ${i}px)`:`translateY(${i}px)`:`translateX(${o}px)`})(this.dom.point,this.pointX,this.pointY,t)}show(t){if(!this.displayed)return this.redraw(t)}hide(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)}repositionX(){const t=this.conversion.toScreen(this.data.start);this.pointX=t,this.options.rtl?this.right=t-this.props.dot.width:this.left=t-this.props.dot.width,this.repositionXY()}repositionY(){const t=this.options.orientation.item;this.pointY="top"==t?this.top:this.parent.height-this.top-this.height,this.repositionXY()}getWidthLeft(){return this.props.dot.width}getWidthRight(){return this.props.dot.width}}},qB.prototype._onAdd=qB.prototype._onUpdate;let YB,$B=!1,WB="background: #FFeeee; color: #dd0000";class VB{constructor(){}static validate(t,e,i){$B=!1,YB=e;let n=e;return void 0!==i&&(n=e[i]),VB.parse(t,n,[]),$B}static parse(t,e,i){for(let n in t)t.hasOwnProperty(n)&&VB.check(n,t,e,i)}static check(t,e,i,n){if(void 0===i[t]&&void 0===i.__any__)return void VB.getSuggestion(t,i,n);let o=t,r=!0;void 0===i[t]&&void 0!==i.__any__&&(o="__any__",r="object"===VB.getType(e[t]));let s=i[o];r&&void 0!==s.__type__&&(s=s.__type__),VB.checkFields(t,e,i,o,s,n)}static checkFields(t,e,i,n,o,r){let s=function(e){console.log("%c"+e+VB.printLocation(r,t),WB)},a=VB.getType(e[t]),l=o[a];void 0!==l?"array"===VB.getType(l)&&-1===l.indexOf(e[t])?(s('Invalid option detected in "'+t+'". Allowed values are:'+VB.print(l)+' not "'+e[t]+'". '),$B=!0):"object"===a&&"__any__"!==n&&(r=Ux.copyAndExtendArray(r,t),VB.parse(e[t],i[n],r)):void 0===o.any&&(s('Invalid type received for "'+t+'". Expected: '+VB.print(Object.keys(o))+". Received ["+a+'] "'+e[t]+'"'),$B=!0)}static getType(t){var e=typeof t;return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"array":t instanceof Date?"date":void 0!==t.nodeType?"dom":!0===t._isAMomentObject?"moment":"object":"number"===e?"number":"boolean"===e?"boolean":"string"===e?"string":void 0===e?"undefined":e}static getSuggestion(t,e,i){let n,o=VB.findInOptions(t,e,i,!1),r=VB.findInOptions(t,YB,[],!0);n=void 0!==o.indexMatch?" in "+VB.printLocation(o.path,t,"")+'Perhaps it was incomplete? Did you mean: "'+o.indexMatch+'"?\n\n':r.distance<=4&&o.distance>r.distance?" in "+VB.printLocation(o.path,t,"")+"Perhaps it was misplaced? Matching option found at: "+VB.printLocation(r.path,r.closestMatch,""):o.distance<=8?'. Did you mean "'+o.closestMatch+'"?'+VB.printLocation(o.path,t):". Did you mean one of these: "+VB.print(Object.keys(e))+VB.printLocation(i,t),console.log('%cUnknown option detected: "'+t+'"'+n,WB),$B=!0}static findInOptions(t,e,i,n=!1){let o,r=1e9,s="",a=[],l=t.toLowerCase();for(let d in e){let c;if(void 0!==e[d].__type__&&!0===n){let n=VB.findInOptions(t,e[d],Ux.copyAndExtendArray(i,d));r>n.distance&&(s=n.closestMatch,a=n.path,r=n.distance,o=n.indexMatch)}else-1!==d.toLowerCase().indexOf(l)&&(o=d),c=VB.levenshteinDistance(t,d),r>c&&(s=d,a=Ux.copyArray(i),r=c)}return{closestMatch:s,path:a,distance:r,indexMatch:o}}static printLocation(t,e,i="Problem value found at: \n"){let n="\n\n"+i+"options = {\n";for(let e=0;e<t.length;e++){for(let t=0;t<e+1;t++)n+="  ";n+=t[e]+": {\n"}for(let e=0;e<t.length+1;e++)n+="  ";n+=e+"\n";for(let e=0;e<t.length+1;e++){for(let i=0;i<t.length-e;i++)n+="  ";n+="}\n"}return n+"\n\n"}static print(t){return JSON.stringify(t).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}static levenshteinDistance(t,e){if(0===t.length)return e.length;if(0===e.length)return t.length;var i,n,o=[];for(i=0;i<=e.length;i++)o[i]=[i];for(n=0;n<=t.length;n++)o[0][n]=n;for(i=1;i<=e.length;i++)for(n=1;n<=t.length;n++)e.charAt(i-1)==t.charAt(n-1)?o[i][n]=o[i-1][n-1]:o[i][n]=Math.min(o[i-1][n-1]+1,Math.min(o[i][n-1]+1,o[i-1][n]+1));return o[e.length][t.length]}}let JB="boolean",KB={configure:{enabled:{boolean:JB},filter:{boolean:JB,function:"function"},container:{dom:"dom"},__type__:{object:"object",boolean:JB,function:"function"}},align:{string:"string"},alignCurrentTime:{string:"string",undefined:"undefined"},rtl:{boolean:JB,undefined:"undefined"},rollingMode:{follow:{boolean:JB},offset:{number:"number",undefined:"undefined"},__type__:{object:"object"}},onTimeout:{timeoutMs:{number:"number"},callback:{function:"function"},__type__:{object:"object"}},verticalScroll:{boolean:JB,undefined:"undefined"},horizontalScroll:{boolean:JB,undefined:"undefined"},autoResize:{boolean:JB},throttleRedraw:{number:"number"},clickToUse:{boolean:JB},dataAttributes:{string:"string",array:"array"},editable:{add:{boolean:JB,undefined:"undefined"},remove:{boolean:JB,undefined:"undefined"},updateGroup:{boolean:JB,undefined:"undefined"},updateTime:{boolean:JB,undefined:"undefined"},overrideItems:{boolean:JB,undefined:"undefined"},__type__:{boolean:JB,object:"object"}},end:{number:"number",date:"date",string:"string",moment:"moment"},format:{minorLabels:{millisecond:{string:"string",undefined:"undefined"},second:{string:"string",undefined:"undefined"},minute:{string:"string",undefined:"undefined"},hour:{string:"string",undefined:"undefined"},weekday:{string:"string",undefined:"undefined"},day:{string:"string",undefined:"undefined"},week:{string:"string",undefined:"undefined"},month:{string:"string",undefined:"undefined"},year:{string:"string",undefined:"undefined"},__type__:{object:"object",function:"function"}},majorLabels:{millisecond:{string:"string",undefined:"undefined"},second:{string:"string",undefined:"undefined"},minute:{string:"string",undefined:"undefined"},hour:{string:"string",undefined:"undefined"},weekday:{string:"string",undefined:"undefined"},day:{string:"string",undefined:"undefined"},week:{string:"string",undefined:"undefined"},month:{string:"string",undefined:"undefined"},year:{string:"string",undefined:"undefined"},__type__:{object:"object",function:"function"}},__type__:{object:"object"}},moment:{function:"function"},groupHeightMode:{string:"string"},groupOrder:{string:"string",function:"function"},groupEditable:{add:{boolean:JB,undefined:"undefined"},remove:{boolean:JB,undefined:"undefined"},order:{boolean:JB,undefined:"undefined"},__type__:{boolean:JB,object:"object"}},groupOrderSwap:{function:"function"},height:{string:"string",number:"number"},hiddenDates:{start:{date:"date",number:"number",string:"string",moment:"moment"},end:{date:"date",number:"number",string:"string",moment:"moment"},repeat:{string:"string"},__type__:{object:"object",array:"array"}},itemsAlwaysDraggable:{item:{boolean:JB,undefined:"undefined"},range:{boolean:JB,undefined:"undefined"},__type__:{boolean:JB,object:"object"}},limitSize:{boolean:JB},locale:{string:"string"},locales:{__any__:{any:"any"},__type__:{object:"object"}},longSelectPressTime:{number:"number"},margin:{axis:{number:"number"},item:{horizontal:{number:"number",undefined:"undefined"},vertical:{number:"number",undefined:"undefined"},__type__:{object:"object",number:"number"}},__type__:{object:"object",number:"number"}},max:{date:"date",number:"number",string:"string",moment:"moment"},maxHeight:{number:"number",string:"string"},maxMinorChars:{number:"number"},min:{date:"date",number:"number",string:"string",moment:"moment"},minHeight:{number:"number",string:"string"},moveable:{boolean:JB},multiselect:{boolean:JB},multiselectPerGroup:{boolean:JB},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:"string",undefined:"undefined"},item:{string:"string",undefined:"undefined"},__type__:{string:"string",object:"object"}},selectable:{boolean:JB},sequentialSelection:{boolean:JB},showCurrentTime:{boolean:JB},showMajorLabels:{boolean:JB},showMinorLabels:{boolean:JB},showWeekScale:{boolean:JB},stack:{boolean:JB},stackSubgroups:{boolean:JB},cluster:{maxItems:{number:"number",undefined:"undefined"},titleTemplate:{string:"string",undefined:"undefined"},clusterCriteria:{function:"function",undefined:"undefined"},showStipes:{boolean:JB,undefined:"undefined"},fitOnDoubleClick:{boolean:JB,undefined:"undefined"},__type__:{boolean:JB,object:"object"}},snap:{function:"function",null:"null"},start:{date:"date",number:"number",string:"string",moment:"moment"},template:{function:"function"},loadingScreenTemplate:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:"string",function:"function"},showTooltips:{boolean:JB},tooltip:{followMouse:{boolean:JB},overflowMethod:{string:["cap","flip","none"]},delay:{number:"number"},template:{function:"function"},__type__:{object:"object"}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:JB,object:"object"}},timeAxis:{scale:{string:"string",undefined:"undefined"},step:{number:"number",undefined:"undefined"},__type__:{object:"object"}},type:{string:"string"},width:{string:"string",number:"number"},preferZoom:{boolean:JB},zoomable:{boolean:JB},zoomKey:{string:["ctrlKey","altKey","shiftKey","metaKey",""]},zoomFriction:{number:"number"},zoomMax:{number:"number"},zoomMin:{number:"number"},xss:{disabled:{boolean:JB},filterOptions:{__any__:{any:"any"},__type__:{object:"object"}},__type__:{object:"object"}},__type__:{object:"object"}},ZB={global:{align:["center","left","right"],alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupHeightMode:["auto","fixed","fitItems"],groupsDraggable:!1,height:"",locale:"",longSelectPressTime:251,margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},preferZoom:!1,selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,cluster:!1,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip",delay:[500,0,99999,100]},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","shiftKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],xss:{disabled:!1}}};var XB={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};class tk{constructor(t=1){this.pixelRatio=t,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(t){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=t,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=t}setCloseCallback(t){if("function"!=typeof t)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=t}_isColorString(t){if("string"==typeof t)return XB[t]}setColor(t,e=!0){if("none"===t)return;let i;var n=this._isColorString(t);if(void 0!==n&&(t=n),!0===Ux.isString(t)){if(!0===Ux.isValidRGB(t)){let e=t.substr(4).substr(0,t.length-5).split(",");i={r:e[0],g:e[1],b:e[2],a:1}}else if(!0===Ux.isValidRGBA(t)){let e=t.substr(5).substr(0,t.length-6).split(",");i={r:e[0],g:e[1],b:e[2],a:e[3]}}else if(!0===Ux.isValidHex(t)){let e=Ux.hexToRGB(t);i={r:e.r,g:e.g,b:e.b,a:1}}}else if(t instanceof Object&&void 0!==t.r&&void 0!==t.g&&void 0!==t.b){let e=void 0!==t.a?t.a:"1.0";i={r:t.r,g:t.g,b:t.b,a:e}}if(void 0===i)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(t));this._setColor(i,e)}show(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(t=!0){!0===t&&(this.previousColor=Ux.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout((()=>{void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0)}),0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(t,e=!0){!0===e&&(this.initialColor=Ux.extend({},t)),this.color=t;let i=Ux.RGBToHSV(t.r,t.g,t.b),n=2*Math.PI,o=this.r*i.s,r=this.centerCoordinates.x+o*Math.sin(n*i.h),s=this.centerCoordinates.y+o*Math.cos(n*i.h);this.colorPickerSelector.style.left=r-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=s-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(t)}_setOpacity(t){this.color.a=t/100,this._updatePicker(this.color)}_setBrightness(t){let e=Ux.RGBToHSV(this.color.r,this.color.g,this.color.b);e.v=t/100;let i=Ux.HSVToRGB(e.h,e.s,e.v);i.a=this.color.a,this.color=i,this._updatePicker()}_updatePicker(t=this.color){let e=Ux.RGBToHSV(t.r,t.g,t.b),i=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(i.webkitBackingStorePixelRatio||i.mozBackingStorePixelRatio||i.msBackingStorePixelRatio||i.oBackingStorePixelRatio||i.backingStorePixelRatio||1)),i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;i.clearRect(0,0,n,o),i.putImageData(this.hueCircle,0,0),i.fillStyle="rgba(0,0,0,"+(1-e.v)+")",i.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),i.fill(),this.brightnessRange.value=100*e.v,this.opacityRange.value=100*t.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){let t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{let t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch(t){}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch(t){}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var t=this;this.opacityRange.onchange=function(){t._setOpacity(this.value)},this.opacityRange.oninput=function(){t._setOpacity(this.value)},this.brightnessRange.onchange=function(){t._setBrightness(this.value)},this.brightnessRange.oninput=function(){t._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new iB(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),nB(this.hammer,(t=>{this._moveSelector(t)})),this.hammer.on("tap",(t=>{this._moveSelector(t)})),this.hammer.on("panstart",(t=>{this._moveSelector(t)})),this.hammer.on("panmove",(t=>{this._moveSelector(t)})),this.hammer.on("panend",(t=>{this._moveSelector(t)}))}_generateHueCircle(){if(!1===this.generated){let t=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)),t.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);let e,i,n,o,r=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;t.clearRect(0,0,r,s),this.centerCoordinates={x:.5*r,y:.5*s},this.r=.49*r;let a,l=2*Math.PI/360,d=1/360,c=1/this.r;for(n=0;n<360;n++)for(o=0;o<this.r;o++)e=this.centerCoordinates.x+o*Math.sin(l*n),i=this.centerCoordinates.y+o*Math.cos(l*n),a=Ux.HSVToRGB(n*d,o*c,1),t.fillStyle="rgb("+a.r+","+a.g+","+a.b+")",t.fillRect(e-.5,i-.5,2,2);t.strokeStyle="rgba(0,0,0,1)",t.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),t.stroke(),this.hueCircle=t.getImageData(0,0,r,s)}this.generated=!0}_moveSelector(t){let e=this.colorPickerDiv.getBoundingClientRect(),i=t.center.x-e.left,n=t.center.y-e.top,o=.5*this.colorPickerDiv.clientHeight,r=.5*this.colorPickerDiv.clientWidth,s=i-r,a=n-o,l=Math.atan2(s,a),d=.98*Math.min(Math.sqrt(s*s+a*a),r),c=Math.cos(l)*d+o,h=Math.sin(l)*d+r;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let u=l/(2*Math.PI);u=u<0?u+1:u;let A=d/this.r,p=Ux.RGBToHSV(this.color.r,this.color.g,this.color.b);p.h=u,p.s=A;let m=Ux.HSVToRGB(p.h,p.s,p.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}class ek{constructor(t,e,i,n=1){this.parent=t,this.changedOptions=[],this.container=e,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ux.extend(this.options,this.defaultOptions),this.configureOptions=i,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new tk(n),this.wrapper=void 0}setOptions(t){if(void 0!==t){this.popupHistory={},this._removePopup();let e=!0;if("string"==typeof t)this.options.filter=t;else if(Array.isArray(t))this.options.filter=t.join();else if("object"==typeof t){if(null==t)throw new TypeError("options cannot be null");void 0!==t.container&&(this.options.container=t.container),void 0!==t.filter&&(this.options.filter=t.filter),void 0!==t.showButton&&(this.options.showButton=t.showButton),void 0!==t.enabled&&(e=t.enabled)}else"boolean"==typeof t?(this.options.filter=!0,e=t):"function"==typeof t&&(this.options.filter=t,e=!0);!1===this.options.filter&&(e=!1),this.options.enabled=e}this._clean()}setModuleOptions(t){this.moduleOptions=t,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];let t=this.options.filter,e=0,i=!1;for(let n in this.configureOptions)this.configureOptions.hasOwnProperty(n)&&(this.allowCreation=!1,i=!1,"function"==typeof t?(i=t(n,[]),i=i||this._handleObject(this.configureOptions[n],[n],!0)):!0!==t&&-1===t.indexOf(n)||(i=!0),!1!==i&&(this.allowCreation=!0,e>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),e++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var t=0;t<this.domElements.length;t++)this.wrapper.appendChild(this.domElements[t]);this._showPopupIfNeeded()}_clean(){for(var t=0;t<this.domElements.length;t++)this.wrapper.removeChild(this.domElements[t]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(t){let e=this.moduleOptions;for(let i=0;i<t.length;i++){if(void 0===e[t[i]]){e=void 0;break}e=e[t[i]]}return e}_makeItem(t,...e){if(!0===this.allowCreation){let i=document.createElement("div");return i.className="vis-configuration vis-config-item vis-config-s"+t.length,e.forEach((t=>{i.appendChild(t)})),this.domElements.push(i),this.domElements.length}return 0}_makeHeader(t){let e=document.createElement("div");e.className="vis-configuration vis-config-header",e.innerHTML=Ux.xss(t),this._makeItem([],e)}_makeLabel(t,e,i=!1){let n=document.createElement("div");return n.className="vis-configuration vis-config-label vis-config-s"+e.length,n.innerHTML=!0===i?Ux.xss("<i><b>"+t+":</b></i>"):Ux.xss(t+":"),n}_makeDropdown(t,e,i){let n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;void 0!==e&&-1!==t.indexOf(e)&&(o=t.indexOf(e));for(let e=0;e<t.length;e++){let i=document.createElement("option");i.value=t[e],e===o&&(i.selected="selected"),i.innerHTML=t[e],n.appendChild(i)}let r=this;n.onchange=function(){r._update(this.value,i)};let s=this._makeLabel(i[i.length-1],i);this._makeItem(i,s,n)}_makeRange(t,e,i){let n=t[0],o=t[1],r=t[2],s=t[3],a=document.createElement("input");a.className="vis-configuration vis-config-range";try{a.type="range",a.min=o,a.max=r}catch(t){}a.step=s;let l="",d=0;if(void 0!==e){let t=1.2;e<0&&e*t<o?(a.min=Math.ceil(e*t),d=a.min,l="range increased"):e/t<o&&(a.min=Math.ceil(e/t),d=a.min,l="range increased"),e*t>r&&1!==r&&(a.max=Math.ceil(e*t),d=a.max,l="range increased"),a.value=e}else a.value=n;let c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=Number(a.value);var h=this;a.onchange=function(){c.value=this.value,h._update(Number(this.value),i)},a.oninput=function(){c.value=this.value};let u=this._makeLabel(i[i.length-1],i),A=this._makeItem(i,u,a,c);""!==l&&this.popupHistory[A]!==d&&(this.popupHistory[A]=d,this._setupPopup(l,A))}_makeButton(){if(!0===this.options.showButton){let t=document.createElement("div");t.className="vis-configuration vis-config-button",t.innerHTML="generate options",t.onclick=()=>{this._printOptions()},t.onmouseover=()=>{t.className="vis-configuration vis-config-button hover"},t.onmouseout=()=>{t.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(t)}}_setupPopup(t,e){if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){let i=document.createElement("div");i.id="vis-configuration-popup",i.className="vis-configuration-popup",i.innerHTML=Ux.xss(t),i.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:i,index:e}}}_removePopup(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(void 0!==this.popupDiv.html){let t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout((()=>{this.popupDiv.html.style.opacity=0}),1500),this.popupDiv.deleteTimeout=setTimeout((()=>{this._removePopup()}),1800)}}_makeCheckbox(t,e,i){var n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=t,void 0!==e&&(n.checked=e,e!==t&&("object"==typeof t?e!==t.enabled&&this.changedOptions.push({path:i,value:e}):this.changedOptions.push({path:i,value:e})));let o=this;n.onchange=function(){o._update(this.checked,i)};let r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeTextInput(t,e,i){var n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=e,e!==t&&this.changedOptions.push({path:i,value:e});let o=this;n.onchange=function(){o._update(this.value,i)};let r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,n)}_makeColorField(t,e,i){let n=t[1],o=document.createElement("div");"none"!==(e=void 0===e?n:e)?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=e):o.className="vis-configuration vis-config-colorBlock none",e=void 0===e?n:e,o.onclick=()=>{this._showColorPicker(e,o,i)};let r=this._makeLabel(i[i.length-1],i);this._makeItem(i,r,o)}_showColorPicker(t,e,i){e.onclick=function(){},this.colorPicker.insertTo(e),this.colorPicker.show(),this.colorPicker.setColor(t),this.colorPicker.setUpdateCallback((t=>{let n="rgba("+t.r+","+t.g+","+t.b+","+t.a+")";e.style.backgroundColor=n,this._update(n,i)})),this.colorPicker.setCloseCallback((()=>{e.onclick=()=>{this._showColorPicker(t,e,i)}}))}_handleObject(t,e=[],i=!1){let n=!1,o=this.options.filter,r=!1;for(let s in t)if(t.hasOwnProperty(s)){n=!0;let a=t[s],l=Ux.copyAndExtendArray(e,s);if("function"==typeof o&&(n=o(s,e),!1===n&&!Array.isArray(a)&&"string"!=typeof a&&"boolean"!=typeof a&&a instanceof Object&&(this.allowCreation=!1,n=this._handleObject(a,l,!0),this.allowCreation=!1===i)),!1!==n){r=!0;let t=this._getValue(l);if(Array.isArray(a))this._handleArray(a,t,l);else if("string"==typeof a)this._makeTextInput(a,t,l);else if("boolean"==typeof a)this._makeCheckbox(a,t,l);else if(a instanceof Object){let t=!0;if(-1!==e.indexOf("physics")&&this.moduleOptions.physics.solver!==s&&(t=!1),!0===t)if(void 0!==a.enabled){let t=Ux.copyAndExtendArray(l,"enabled"),e=this._getValue(t);if(!0===e){let t=this._makeLabel(s,l,!0);this._makeItem(l,t),r=this._handleObject(a,l)||r}else this._makeCheckbox(a,e,l)}else{let t=this._makeLabel(s,l,!0);this._makeItem(l,t),r=this._handleObject(a,l)||r}}else console.error("dont know how to handle",a,s,l)}}return r}_handleArray(t,e,i){"string"==typeof t[0]&&"color"===t[0]?(this._makeColorField(t,e,i),t[1]!==e&&this.changedOptions.push({path:i,value:e})):"string"==typeof t[0]?(this._makeDropdown(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:e})):"number"==typeof t[0]&&(this._makeRange(t,e,i),t[0]!==e&&this.changedOptions.push({path:i,value:Number(e)}))}_update(t,e){let i=this._constructOptions(t,e);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",i),this.initialized=!0,this.parent.setOptions(i)}_constructOptions(t,e,i={}){let n=i;t="false"!==(t="true"===t||t)&&t;for(let i=0;i<e.length;i++)"global"!==e[i]&&(void 0===n[e[i]]&&(n[e[i]]={}),i!==e.length-1?n=n[e[i]]:n[e[i]]=t);return i}_printOptions(){let t=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(t,null,2)+"</pre>"}getOptions(){let t={};for(var e=0;e<this.changedOptions.length;e++)this._constructOptions(this.changedOptions[e].value,this.changedOptions[e].path,t);return t}}class ik extends IB{constructor(t,e,i,n){if(super(),this.initTime=new Date,this.itemsDone=!1,!(this instanceof ik))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(i)&&!Ox(i)&&i instanceof Object){const t=n;n=i,i=t}n&&n.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');const o=this;if(this.defaultOptions={autoResize:!0,longSelectPressTime:251,orientation:{axis:"bottom",item:"bottom"},moment:Tx},this.options=Ux.deepExtend({},this.defaultOptions),n&&Ux.setupXSSProtection(n.xss),this._create(t),!n||n&&void 0===n.rtl){let t;this.dom.root.style.visibility="hidden";let e=this.dom.root;for(;!t&&e;)t=window.getComputedStyle(e,null).direction,e=e.parentElement;this.options.rtl=t&&"rtl"==t.toLowerCase()}else this.options.rtl=n.rtl;n&&(n.rollingMode&&(this.options.rollingMode=n.rollingMode),n.onInitialDrawComplete&&(this.options.onInitialDrawComplete=n.onInitialDrawComplete),n.onTimeout&&(this.options.onTimeout=n.onTimeout),n.loadingScreenTemplate&&(this.options.loadingScreenTemplate=n.loadingScreenTemplate));const r=document.createElement("div");if(this.options.loadingScreenTemplate){const t=this.options.loadingScreenTemplate.bind(this),e=t(this.dom.loadingScreen);e instanceof Object&&!(e instanceof Element)?t(r):e instanceof Element?(r.innerHTML="",r.appendChild(e)):null!=e&&(r.innerHTML=Ux.xss(e))}function s(t,e){o.hasListeners(t)&&o.emit(t,o.getEventProperties(e))}this.dom.loadingScreen.appendChild(r),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:()=>o.timeAxis.step.scale,getStep:()=>o.timeAxis.step.step,toScreen:o._toScreen.bind(o),toGlobalScreen:o._toGlobalScreen.bind(o),toTime:o._toTime.bind(o),toGlobalTime:o._toGlobalTime.bind(o)}},this.range=new Xx(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new rB(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new EB(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new qB(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=t=>{s("click",t)},this.dom.root.ondblclick=t=>{s("doubleClick",t)},this.dom.root.oncontextmenu=t=>{s("contextmenu",t)},this.dom.root.onmouseover=t=>{s("mouseOver",t)},window.PointerEvent?(this.dom.root.onpointerdown=t=>{s("mouseDown",t)},this.dom.root.onpointermove=t=>{s("mouseMove",t)},this.dom.root.onpointerup=t=>{s("mouseUp",t)}):(this.dom.root.onmousemove=t=>{s("mouseMove",t)},this.dom.root.onmousedown=t=>{s("mouseDown",t)},this.dom.root.onmouseup=t=>{s("mouseUp",t)}),this.initialFitDone=!1,this.on("changed",(()=>{if(null!=o.itemsData){if(!o.initialFitDone&&!o.options.rollingMode)if(o.initialFitDone=!0,null!=o.options.start||null!=o.options.end){if(null==o.options.start||null==o.options.end)var t=o.getItemRange();const e=null!=o.options.start?o.options.start:t.min,i=null!=o.options.end?o.options.end:t.max;o.setWindow(e,i,{animation:!1})}else o.fit({animation:!1});o.initialDrawDone||!o.initialRangeChangeDone&&(o.options.start||o.options.end)&&!o.options.rollingMode||(o.initialDrawDone=!0,o.itemSet.initialDrawDone=!0,o.dom.root.style.visibility="visible",o.dom.loadingScreen.parentNode.removeChild(o.dom.loadingScreen),o.options.onInitialDrawComplete&&setTimeout((()=>o.options.onInitialDrawComplete()),0))}})),this.on("destroyTimeline",(()=>{o.destroy()})),n&&this.setOptions(n),this.body.emitter.on("fit",(t=>{this._onFit(t),this.redraw()})),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}_createConfigurator(){return new ek(this,this.dom.container,ZB)}redraw(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()}setOptions(t){if(!0===VB.validate(t,KB)&&console.log("%cErrors have been found in the supplied options object.",WB),IB.prototype.setOptions.call(this,t),"type"in t&&t.type!==this.options.type){this.options.type=t.type;const e=this.itemsData;if(e){const t=this.getSelection();this.setItems(null),this.setItems(e.rawDS),this.setSelection(t)}}}setItems(t){let e;this.itemsDone=!1,e=t?Ox(t)?Fx(t):Fx(new EE(t)):null,this.itemsData&&this.itemsData.dispose(),this.itemsData=e,this.itemSet&&this.itemSet.setItems(null!=e?e.rawDS:null)}setGroups(t){let e;const i=t=>!1!==t.visible;t?(Array.isArray(t)&&(t=new EE(t)),e=new xE(t,{filter:i})):e=null,null!=this.groupsData&&"function"==typeof this.groupsData.setData&&this.groupsData.setData(null),this.groupsData=e,this.itemSet.setGroups(e)}setData(t){t&&t.groups&&this.setGroups(t.groups),t&&t.items&&this.setItems(t.items)}setSelection(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)}getSelection(){return this.itemSet&&this.itemSet.getSelection()||[]}focus(t,e){if(!this.itemsData||null==t)return;const i=Array.isArray(t)?t:[t],n=this.itemsData.get(i);let o=null,r=null;if(n.forEach((t=>{const e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||e<o)&&(o=e),(null===r||i>r)&&(r=i)})),null!==o&&null!==r){const t=this,n=this.itemSet.items[i[0]];let s=-1*this._getScrollTop(),a=null;const l=(e,i,o)=>{const r=rk(t,n);if(!1===r)return;if(a||(a=r),a.itemTop==r.itemTop&&!a.shouldScroll)return;a.itemTop!=r.itemTop&&r.shouldScroll&&(a=r,s=-1*t._getScrollTop());const l=s,d=a.scrollOffset,c=o?d:l+(d-l)*e;t._setScrollTop(-c),i||t._redraw()},d=()=>{const e=rk(t,n);e.shouldScroll&&e.itemTop!=a.itemTop&&(t._setScrollTop(-e.scrollOffset),t._redraw())},c=()=>{d(),setTimeout(d,100)},h=!e||void 0===e.zoom||e.zoom,u=(o+r)/2,A=h?1.1*(r-o):Math.max(this.range.end-this.range.start,1.1*(r-o)),p=!e||void 0===e.animation||e.animation;p||(a={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(u-A/2,u+A/2,{animation:p},c,l)}}fit(t,e){const i=!t||void 0===t.animation||t.animation;let n;1===this.itemsData.length&&void 0===this.itemsData.get()[0].end?(n=this.getDataRange(),this.moveTo(n.min.valueOf(),{animation:i},e)):(n=this.getItemRange(),this.range.setRange(n.min,n.max,{animation:i},e))}getItemRange(){const t=this.getDataRange();let e=null!==t.min?t.min.valueOf():null,i=null!==t.max?t.max.valueOf():null,n=null,o=null;if(null!=e&&null!=i){let t=i-e;t<=0&&(t=10);const r=t/this.props.center.width,s={};let a=0;Ux.forEach(this.itemSet.items,((t,e)=>{if(t.groupShowing){const i=!0;s[e]=t.redraw(i),a=s[e].length}}));if(a>0)for(let t=0;t<a;t++)Ux.forEach(s,(e=>{e[t]()}));if(Ux.forEach(this.itemSet.items,(t=>{const s=nk(t),a=ok(t);let l,d;this.options.rtl?(l=s-(t.getWidthRight()+10)*r,d=a+(t.getWidthLeft()+10)*r):(l=s-(t.getWidthLeft()+10)*r,d=a+(t.getWidthRight()+10)*r),l<e&&(e=l,n=t),d>i&&(i=d,o=t)})),n&&o){const r=n.getWidthLeft()+10,s=o.getWidthRight()+10,a=this.props.center.width-r-s;a>0&&(this.options.rtl?(e=nk(n)-s*t/a,i=ok(o)+r*t/a):(e=nk(n)-r*t/a,i=ok(o)+s*t/a))}}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}}getDataRange(){let t=null,e=null;return this.itemsData&&this.itemsData.forEach((i=>{const n=Ux.convert(i.start,"Date").valueOf(),o=Ux.convert(null!=i.end?i.end:i.start,"Date").valueOf();(null===t||n<t)&&(t=n),(null===e||o>e)&&(e=o)})),{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}}getEventProperties(t){const e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=this.dom.centerContainer.getBoundingClientRect(),o=this.options.rtl?n.right-e:e-n.left,r=i-n.top,s=this.itemSet.itemFromTarget(t),a=this.itemSet.groupFromTarget(t),l=CB.customTimeFromTarget(t),d=this.itemSet.options.snap||null,c=this.body.util.getScale(),h=this.body.util.getStep(),u=this._toTime(o),A=d?d(u,c,h):u,p=Ux.getTarget(t);let m=null;return null!=s?m="item":null!=l?m="custom-time":Ux.hasParent(p,this.timeAxis.dom.foreground)||this.timeAxis2&&Ux.hasParent(p,this.timeAxis2.dom.foreground)?m="axis":Ux.hasParent(p,this.itemSet.dom.labelSet)?m="group-label":Ux.hasParent(p,this.currentTime.bar)?m="current-time":Ux.hasParent(p,this.dom.center)&&(m="background"),{event:t,item:s?s.id:null,isCluster:!!s&&!!s.isCluster,items:s?s.items||[]:null,group:a?a.groupId:null,customTime:l?l.options.id:null,what:m,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:o,y:r,time:u,snappedTime:A}}toggleRollingMode(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())}_redraw(){IB.prototype._redraw.call(this)}_onFit(t){const{start:e,end:i,animation:n}=t;i?this.range.setRange(e,i,{animation:n}):this.moveTo(e.valueOf(),{animation:n})}}function nk(t){return Ux.convert(t.data.start,"Date").valueOf()}function ok(t){const e=null!=t.data.end?t.data.end:t.data.start;return Ux.convert(e,"Date").valueOf()}function rk(t,e){if(!e.parent)return!1;const i=t.options.rtl?t.props.rightContainer.height:t.props.leftContainer.height,n=t.props.center.height,o=e.parent;let r=o.top,s=!0;const a=t.timeAxis.options.orientation.axis,l=()=>"bottom"==a?o.height-e.top-e.height:e.top,d=-1*t._getScrollTop(),c=r+l(),h=e.height;return c<d?r+i<=r+l()+h&&(r+=l()-t.itemSet.options.margin.item.vertical):c+h>d+i?r+=l()+h-i+t.itemSet.options.margin.item.vertical:s=!1,r=Math.min(r,n-i),{shouldScroll:s,scrollOffset:r,itemTop:c}}function sk(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])}function ak(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}}function lk(t,e,i){var n;return e.hasOwnProperty(t)?e[t].redundant.length>0?(n=e[t].redundant[0],e[t].redundant.shift()):(n=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(n)):(n=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(n)),e[t].used.push(n),n}function dk(t,e,i,n){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==n?i.insertBefore(o,n):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==n?i.insertBefore(o,n):i.appendChild(o)),e[t].used.push(o),o}function ck(t,e,i,n,o,r){var s;if("circle"==i.style?((s=lk("circle",n,o)).setAttributeNS(null,"cx",t),s.setAttributeNS(null,"cy",e),s.setAttributeNS(null,"r",.5*i.size)):((s=lk("rect",n,o)).setAttributeNS(null,"x",t-.5*i.size),s.setAttributeNS(null,"y",e-.5*i.size),s.setAttributeNS(null,"width",i.size),s.setAttributeNS(null,"height",i.size)),void 0!==i.styles&&s.setAttributeNS(null,"style",i.styles),s.setAttributeNS(null,"class",i.className+" vis-point"),r){var a=lk("text",n,o);r.xOffset&&(t+=r.xOffset),r.yOffset&&(e+=r.yOffset),r.content&&(a.textContent=r.content),r.className&&a.setAttributeNS(null,"class",r.className+" vis-label"),a.setAttributeNS(null,"x",t),a.setAttributeNS(null,"y",e)}return s}function hk(t,e,i,n,o,r,s,a){if(0!=n){n<0&&(e-=n*=-1);var l=lk("rect",r,s);l.setAttributeNS(null,"x",t-.5*i),l.setAttributeNS(null,"y",e),l.setAttributeNS(null,"width",i),l.setAttributeNS(null,"height",n),l.setAttributeNS(null,"class",o),a&&l.setAttributeNS(null,"style",a)}}class uk{constructor(t,e,i,n,o,r,s=!1,a=!1){if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=o,this.majorCharHeight=r,this._start=t,this._end=e,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=s,this.autoScaleStart=i,this.autoScaleEnd=n,this.formattingFunction=a,i||n){const t=this,e=e=>{const i=e-e%(t.magnitudefactor*t.minorSteps[t.minorStepIdx]);return e%(t.magnitudefactor*t.minorSteps[t.minorStepIdx])>t.magnitudefactor*t.minorSteps[t.minorStepIdx]*.5?i+t.magnitudefactor*t.minorSteps[t.minorStepIdx]:i};i&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=e(this._start)),n&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=e(this._end)),this.determineScale()}}setCharHeight(t){this.majorCharHeight=t}setHeight(t){this.containerHeight=t}determineScale(){const t=this._end-this._start;this.scale=this.containerHeight/t;const e=this.majorCharHeight/this.scale,i=t>0?Math.round(Math.log(t)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,i);let n=0;i<0&&(n=i);let o=!1;for(let t=n;Math.abs(t)<=Math.abs(i);t++){this.magnitudefactor=Math.pow(10,t);for(let t=0;t<this.minorSteps.length;t++){if(this.magnitudefactor*this.minorSteps[t]>=e){o=!0,this.minorStepIdx=t;break}}if(!0===o)break}}is_major(t){return t%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0}getStep(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]}getFirstMajor(){const t=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(t-this._start%t)%t)}formatValue(t){let e=t.toPrecision(5);return"function"==typeof this.formattingFunction&&(e=this.formattingFunction(t)),"number"==typeof e?`${e}`:"string"==typeof e?e:t.toPrecision(5)}getLines(){const t=[],e=this.getStep(),i=(e-this._start%e)%e;for(let n=this._start+i;this._end-n>1e-5;n+=e)n!=this._start&&t.push({major:this.is_major(n),y:this.convertValue(n),val:this.formatValue(n)});return t}followScale(t){const e=this.minorStepIdx,i=this._start,n=this._end,o=this,r=()=>{o.magnitudefactor*=2},s=()=>{o.magnitudefactor/=2};t.minorStepIdx<=1&&this.minorStepIdx<=1||t.minorStepIdx>1&&this.minorStepIdx>1||(t.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==e||r(),r()):(this.minorStepIdx=2,1==e||s(),s()));const a=t.convertValue(0),l=t.getStep()*t.scale;let d=!1,c=0;for(;!d&&c++<5;){this.scale=l/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);const e=this.containerHeight/this.scale;this._start=i,this._end=this._start+e;const o=this._end*this.scale,c=this.magnitudefactor*this.majorSteps[this.minorStepIdx],h=this.getFirstMajor()-t.getFirstMajor();if(this.zeroAlign){const t=a-o;this._end+=t/this.scale,this._start=this._end-e}else this.autoScaleStart?(this._start-=h/this.scale,this._end=this._start+e):(this._start+=c-h/this.scale,this._end=this._start+e);if(!this.autoScaleEnd&&this._end>n+1e-5)s(),d=!1;else{if(!this.autoScaleStart&&this._start<i-1e-5){if(!(this.zeroAlign&&i>=0)){s(),d=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&e<n-i?(r(),d=!1):d=!0}}}convertValue(t){return this.containerHeight-(t-this._start)*this.scale}screenToValue(t){return(this.containerHeight-t)/this.scale+this._start}}class Ak extends Hx{constructor(t,e,i,n){super(),this.id=gE(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:t=>`${parseFloat(t.toPrecision(3))}`,title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:t=>`${parseFloat(t.toPrecision(3))}`,title:{text:void 0,style:void 0}}},this.linegraphOptions=n,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=Ux.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number(`${this.options.width}`.replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),null==this.scale&&this._redrawLabels(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};const o=this;this.body.emitter.on("verticalDrag",(()=>{o.dom.lineContainer.style.top=`${o.body.domProps.scrollTop}px`}))}addGroup(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1}updateGroup(t,e){this.groups.hasOwnProperty(t)||(this.amountOfGroups+=1),this.groups[t]=e}removeGroup(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)}setOptions(t){if(t){let e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);const i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];Ux.selectiveDeepExtend(i,this.options,t),this.minWidth=Number(`${this.options.width}`.replace("px","")),!0===e&&this.dom.frame&&(this.hide(),this.show())}}_create(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.dom.lineContainer.style.visibility="visible",this.dom.lineContainer.style.display="block",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)}_redrawGroupIcons(){let t;sk(this.svgElements);const e=this.options.iconWidth;let i=11.5;t="left"===this.options.orientation?4:this.width-e-4;const n=Object.keys(this.groups);n.sort(((t,e)=>t<e?-1:1));for(const o of n)!0!==this.groups[o].visible||void 0!==this.linegraphOptions.visibility[o]&&!0!==this.linegraphOptions.visibility[o]||(this.groups[o].getLegend(e,15,this.framework,t,i),i+=19);ak(this.svgElements),this.iconsRemoved=!1}_cleanupIcons(){!1===this.iconsRemoved&&(sk(this.svgElements),ak(this.svgElements),this.iconsRemoved=!0)}show(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer),this.dom.lineContainer.style.display="block"}hide(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.style.display="none"}setRange(t,e){this.range.start=t,this.range.end=e}redraw(){let t=!1,e=0;this.dom.lineContainer.style.top=`${this.body.domProps.scrollTop}px`;for(const t in this.groups)this.groups.hasOwnProperty(t)&&(!0!==this.groups[t].visible||void 0!==this.linegraphOptions.visibility[t]&&!0!==this.linegraphOptions.visibility[t]||e++);if(0===this.amountOfGroups||0===e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=`${this.height}px`,this.width=!0===this.options.visible?Number(`${this.options.width}`.replace("px","")):0;const e=this.props,i=this.dom.frame;i.className="vis-data-axis",this._calculateCharSize();const n=this.options.orientation,o=this.options.showMinorLabels,r=this.options.showMajorLabels,s=this.body.dom.backgroundHorizontal.offsetWidth;e.minorLabelHeight=o?e.minorCharHeight:0,e.majorLabelHeight=r?e.majorCharHeight:0,e.minorLineWidth=s-this.lineOffset-this.width+2*this.options.minorLinesOffset,e.minorLineHeight=1,e.majorLineWidth=s-this.lineOffset-this.width+2*this.options.majorLinesOffset,e.majorLineHeight=1,"left"===n?(i.style.top="0",i.style.left="0",i.style.bottom="",i.style.width=`${this.width}px`,i.style.height=`${this.height}px`,this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(i.style.top="",i.style.bottom="0",i.style.left="0",i.style.width=`${this.width}px`,i.style.height=`${this.height}px`,this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(n)}return t}_redrawLabels(){let t=!1;sk(this.DOMelements.lines),sk(this.DOMelements.labels);const e=this.options.orientation,i=null!=this.options[e].range?this.options[e].range:{};let n=!0;null!=i.max&&(this.range.end=i.max,n=!1);let o=!0;null!=i.min&&(this.range.start=i.min,o=!1),this.scale=new uk(this.range.start,this.range.end,o,n,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[e].format),!1===this.master&&null!=this.masterAxis?(this.scale.followScale(this.masterAxis.scale),this.dom.lineContainer.style.display="none"):this.dom.lineContainer.style.display="block",this.maxLabelSize=0;this.scale.getLines().forEach((t=>{const i=t.y,n=t.major;this.options.showMinorLabels&&!1===n&&this._redrawLabel(i-2,t.val,e,"vis-y-axis vis-minor",this.props.minorCharHeight),n&&i>=0&&this._redrawLabel(i-2,t.val,e,"vis-y-axis vis-major",this.props.majorCharHeight),!0===this.master&&(n?this._redrawLine(i,e,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth):this._redrawLine(i,e,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth))}));let r=0;void 0!==this.options[e].title&&void 0!==this.options[e].title.text&&(r=this.props.titleCharHeight);const s=!0===this.options.icons?Math.max(this.options.iconWidth,r)+this.options.labelOffsetX+15:r+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-s&&!0===this.options.visible?(this.width=this.maxLabelSize+s,this.options.width=`${this.width}px`,ak(this.DOMelements.lines),ak(this.DOMelements.labels),this.redraw(),t=!0):this.maxLabelSize<this.width-s&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+s),this.options.width=`${this.width}px`,ak(this.DOMelements.lines),ak(this.DOMelements.labels),this.redraw(),t=!0):(ak(this.DOMelements.lines),ak(this.DOMelements.labels),t=!1),t}convertValue(t){return this.scale.convertValue(t)}screenToValue(t){return this.scale.screenToValue(t)}_redrawLabel(t,e,i,n,o){const r=dk("div",this.DOMelements.labels,this.dom.frame);r.className=n,r.innerHTML=Ux.xss(e),"left"===i?(r.style.left=`-${this.options.labelOffsetX}px`,r.style.textAlign="right"):(r.style.right=`-${this.options.labelOffsetX}px`,r.style.textAlign="left"),r.style.top=`${t-.5*o+this.options.labelOffsetY}px`,e+="";const s=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*s&&(this.maxLabelSize=e.length*s)}_redrawLine(t,e,i,n,o){if(!0===this.master){const r=dk("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"===e?r.style.left=this.width-n+"px":r.style.right=this.width-n+"px",r.style.width=`${o}px`,r.style.top=`${t}px`}}_redrawTitle(t){if(sk(this.DOMelements.title),void 0!==this.options[t].title&&void 0!==this.options[t].title.text){const e=dk("div",this.DOMelements.title,this.dom.frame);e.className=`vis-y-axis vis-title vis-${t}`,e.innerHTML=Ux.xss(this.options[t].title.text),void 0!==this.options[t].title.style&&Ux.addCssText(e,this.options[t].title.style),"left"===t?e.style.left=`${this.props.titleCharHeight}px`:e.style.right=`${this.props.titleCharHeight}px`,e.style.width=`${this.height}px`}ak(this.DOMelements.title)}_calculateCharSize(){if(!("minorCharHeight"in this.props)){const t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-minor vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){const t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-major vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.majorCharHeight=e.clientHeight,this.props.majorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("titleCharHeight"in this.props)){const t=document.createTextNode("0"),e=document.createElement("div");e.className="vis-y-axis vis-title vis-measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.titleCharHeight=e.clientHeight,this.props.titleCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}}}function pk(t,e){}function mk(t,e){return{style:(e=void 0===e?{}:e).style||t.options.drawPoints.style,styles:e.styles||t.options.drawPoints.styles,size:e.size||t.options.drawPoints.size,className:e.className||t.className}}function gk(t,e){}function fk(t,e){}function vk(t,e,i,n){this.id=e;this.options=Ux.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=n,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible||t.visible}function bk(t,e,i,n){this.body=t,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=i,this.options=Ux.extend({},this.defaultOptions),this.linegraphOptions=n,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(e)}pk.draw=function(t,e,i,n){n=n||0;for(var o=function(t,e){var i=void 0;t.options&&t.options.drawPoints&&t.options.drawPoints.onRender&&"function"==typeof t.options.drawPoints.onRender&&(i=t.options.drawPoints.onRender);e.group.options&&e.group.options.drawPoints&&e.group.options.drawPoints.onRender&&"function"==typeof e.group.options.drawPoints.onRender&&(i=e.group.options.drawPoints.onRender);return i}(i,e),r=0;r<t.length;r++)if(o){var s=o(t[r],e);!0!==s&&"object"!=typeof s||ck(t[r].screen_x+n,t[r].screen_y,mk(e,s),i.svgElements,i.svg,t[r].label)}else ck(t[r].screen_x+n,t[r].screen_y,mk(e),i.svgElements,i.svg,t[r].label)},pk.drawIcon=function(t,e,i,n,o,r){var s=.5*o,a=lk("rect",r.svgElements,r.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-s),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*s),a.setAttributeNS(null,"class","vis-outline"),ck(e+.5*n,i,mk(t),r.svgElements,r.svg)},gk.drawIcon=function(t,e,i,n,o,r){var s=.5*o,a=lk("rect",r.svgElements,r.svg);a.setAttributeNS(null,"x",e),a.setAttributeNS(null,"y",i-s),a.setAttributeNS(null,"width",n),a.setAttributeNS(null,"height",2*s),a.setAttributeNS(null,"class","vis-outline");var l=Math.round(.3*n),d=t.options.barChart.width/l,c=Math.round(.4*o),h=Math.round(.75*o),u=Math.round((n-2*l)/3);if(hk(e+.5*l+u,i+s-c-1,l,c,t.className+" vis-bar",r.svgElements,r.svg,t.style),hk(e+1.5*l+u+2,i+s-h-1,l,h,t.className+" vis-bar",r.svgElements,r.svg,t.style),1==t.options.drawPoints.enabled){var A={style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size/d,className:t.className};ck(e+.5*l+u,i+s-c-1,A,r.svgElements,r.svg),ck(e+1.5*l+u+2,i+s-h-1,A,r.svgElements,r.svg)}},gk.draw=function(t,e,i){var n,o,r,s,a,l,d=[],c={},h=0;for(a=0;a<t.length;a++)if("bar"===(s=i.groups[t[a]]).options.style&&!0===s.visible&&(void 0===i.options.groups.visibility[t[a]]||!0===i.options.groups.visibility[t[a]]))for(l=0;l<e[t[a]].length;l++)d.push({screen_x:e[t[a]][l].screen_x,screen_end:e[t[a]][l].screen_end,screen_y:e[t[a]][l].screen_y,x:e[t[a]][l].x,end:e[t[a]][l].end,y:e[t[a]][l].y,groupId:t[a],label:e[t[a]][l].label}),h+=1;if(0!==h)for(d.sort((function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x})),gk._getDataIntersections(c,d),a=0;a<d.length;a++){var u=null!=(s=i.groups[d[a].groupId]).options.barChart.minWidth?s.options.barChart.minWidth:.1*s.options.barChart.width,A=0;if(void 0===c[o=d[a].screen_x])a+1<d.length&&(n=Math.abs(d[a+1].screen_x-o)),r=gk._getSafeDrawData(n,s,u);else{var p=a+(c[o].amount-c[o].resolved);p<d.length&&(n=Math.abs(d[p].screen_x-o)),r=gk._getSafeDrawData(n,s,u),c[o].resolved+=1,!0===s.options.stack&&!0!==s.options.excludeFromStacking?d[a].screen_y<s.zeroPosition?(A=c[o].accumulatedNegative,c[o].accumulatedNegative+=s.zeroPosition-d[a].screen_y):(A=c[o].accumulatedPositive,c[o].accumulatedPositive+=s.zeroPosition-d[a].screen_y):!0===s.options.barChart.sideBySide&&(r.width=r.width/c[o].amount,r.offset+=c[o].resolved*r.width-.5*r.width*(c[o].amount+1))}let t=r.width,e=d[a].screen_x;if(null!=d[a].screen_end?(t=d[a].screen_end-d[a].screen_x,e+=.5*t):e+=r.offset,hk(e,d[a].screen_y-A,t,s.zeroPosition-d[a].screen_y,s.className+" vis-bar",i.svgElements,i.svg,s.style),!0===s.options.drawPoints.enabled){let t={screen_x:d[a].screen_x,screen_y:d[a].screen_y-A,x:d[a].x,y:d[a].y,groupId:d[a].groupId,label:d[a].label};pk.draw([t],s,i,r.offset)}}},gk._getDataIntersections=function(t,e){for(var i,n=0;n<e.length;n++)n+1<e.length&&(i=Math.abs(e[n+1].screen_x-e[n].screen_x)),n>0&&(i=Math.min(i,Math.abs(e[n-1].screen_x-e[n].screen_x))),0===i&&(void 0===t[e[n].screen_x]&&(t[e[n].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),t[e[n].screen_x].amount+=1)},gk._getSafeDrawData=function(t,e,i){var n,o;return t<e.options.barChart.width&&t>0?(n=t<i?i:t,o=0,"left"===e.options.barChart.align?o-=.5*t:"right"===e.options.barChart.align&&(o+=.5*t)):(n=e.options.barChart.width,o=0,"left"===e.options.barChart.align?o-=.5*e.options.barChart.width:"right"===e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:n,offset:o}},gk.getStackedYRange=function(t,e,i,n,o){if(t.length>0){t.sort((function(t,e){return t.screen_x===e.screen_x?t.groupId<e.groupId?-1:1:t.screen_x-e.screen_x}));var r={};gk._getDataIntersections(r,t),e[n]=gk._getStackedYRange(r,t),e[n].yAxisOrientation=o,i.push(n)}},gk._getStackedYRange=function(t,e){for(var i,n=e[0].screen_y,o=e[0].screen_y,r=0;r<e.length;r++)void 0===t[i=e[r].screen_x]?(n=n>e[r].screen_y?e[r].screen_y:n,o=o<e[r].screen_y?e[r].screen_y:o):e[r].screen_y<0?t[i].accumulatedNegative+=e[r].screen_y:t[i].accumulatedPositive+=e[r].screen_y;for(var s in t)t.hasOwnProperty(s)&&(n=(n=n>t[s].accumulatedNegative?t[s].accumulatedNegative:n)>t[s].accumulatedPositive?t[s].accumulatedPositive:n,o=(o=o<t[s].accumulatedNegative?t[s].accumulatedNegative:o)<t[s].accumulatedPositive?t[s].accumulatedPositive:o);return{min:n,max:o}},fk.calcPath=function(t,e){if(null!=t&&t.length>0){return 1==e.options.interpolation.enabled?fk._catmullRom(t,e):fk._linear(t)}},fk.drawIcon=function(t,e,i,n,o,r){var s,a,l=.5*o,d=lk("rect",r.svgElements,r.svg);(d.setAttributeNS(null,"x",e),d.setAttributeNS(null,"y",i-l),d.setAttributeNS(null,"width",n),d.setAttributeNS(null,"height",2*l),d.setAttributeNS(null,"class","vis-outline"),(s=lk("path",r.svgElements,r.svg)).setAttributeNS(null,"class",t.className),void 0!==t.style&&s.setAttributeNS(null,"style",t.style),s.setAttributeNS(null,"d","M"+e+","+i+" L"+(e+n)+","+i),1==t.options.shaded.enabled&&(a=lk("path",r.svgElements,r.svg),"top"==t.options.shaded.orientation?a.setAttributeNS(null,"d","M"+e+", "+(i-l)+"L"+e+","+i+" L"+(e+n)+","+i+" L"+(e+n)+","+(i-l)):a.setAttributeNS(null,"d","M"+e+","+i+" L"+e+","+(i+l)+" L"+(e+n)+","+(i+l)+"L"+(e+n)+","+i),a.setAttributeNS(null,"class",t.className+" vis-icon-fill"),void 0!==t.options.shaded.style&&""!==t.options.shaded.style&&a.setAttributeNS(null,"style",t.options.shaded.style)),1==t.options.drawPoints.enabled)&&ck(e+.5*n,i,{style:t.options.drawPoints.style,styles:t.options.drawPoints.styles,size:t.options.drawPoints.size,className:t.className},r.svgElements,r.svg)},fk.drawShading=function(t,e,i,n){if(1==e.options.shaded.enabled){var o,r=Number(n.svg.style.height.replace("px","")),s=lk("path",n.svgElements,n.svg),a="L";1==e.options.interpolation.enabled&&(a="C");var l=0;l="top"==e.options.shaded.orientation?0:"bottom"==e.options.shaded.orientation?r:Math.min(Math.max(0,e.zeroPosition),r),o="group"==e.options.shaded.orientation&&null!=i&&null!=i?"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" L"+i[i.length-1][0]+","+i[i.length-1][1]+" "+this.serializePath(i,a,!0)+i[0][0]+","+i[0][1]+" Z":"M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,a,!1)+" V"+l+" H"+t[0][0]+" Z",s.setAttributeNS(null,"class",e.className+" vis-fill"),void 0!==e.options.shaded.style&&s.setAttributeNS(null,"style",e.options.shaded.style),s.setAttributeNS(null,"d",o)}},fk.draw=function(t,e,i){if(null!=t&&null!=t){var n=lk("path",i.svgElements,i.svg);n.setAttributeNS(null,"class",e.className),void 0!==e.style&&n.setAttributeNS(null,"style",e.style);var o="L";1==e.options.interpolation.enabled&&(o="C"),n.setAttributeNS(null,"d","M"+t[0][0]+","+t[0][1]+" "+this.serializePath(t,o,!1))}},fk.serializePath=function(t,e,i){if(t.length<2)return"";var n,o=e;if(i)for(n=t.length-2;n>0;n--)o+=t[n][0]+","+t[n][1]+" ";else for(n=1;n<t.length;n++)o+=t[n][0]+","+t[n][1]+" ";return o},fk._catmullRomUniform=function(t){var e,i,n,o,r,s,a=[];a.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var l=1/6,d=t.length,c=0;c<d-1;c++)e=0==c?t[0]:t[c-1],i=t[c],n=t[c+1],o=c+2<d?t[c+2]:n,r={screen_x:(-e.screen_x+6*i.screen_x+n.screen_x)*l,screen_y:(-e.screen_y+6*i.screen_y+n.screen_y)*l},s={screen_x:(i.screen_x+6*n.screen_x-o.screen_x)*l,screen_y:(i.screen_y+6*n.screen_y-o.screen_y)*l},a.push([r.screen_x,r.screen_y]),a.push([s.screen_x,s.screen_y]),a.push([n.screen_x,n.screen_y]);return a},fk._catmullRom=function(t,e){var i=e.options.interpolation.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);var n,o,r,s,a,l,d,c,h,u,A,p,m,g,f,v,b,y,_,w=[];w.push([Math.round(t[0].screen_x),Math.round(t[0].screen_y)]);for(var C=t.length,I=0;I<C-1;I++)n=0==I?t[0]:t[I-1],o=t[I],r=t[I+1],s=I+2<C?t[I+2]:r,d=Math.sqrt(Math.pow(n.screen_x-o.screen_x,2)+Math.pow(n.screen_y-o.screen_y,2)),c=Math.sqrt(Math.pow(o.screen_x-r.screen_x,2)+Math.pow(o.screen_y-r.screen_y,2)),h=Math.sqrt(Math.pow(r.screen_x-s.screen_x,2)+Math.pow(r.screen_y-s.screen_y,2)),g=Math.pow(h,i),v=Math.pow(h,2*i),f=Math.pow(c,i),b=Math.pow(c,2*i),_=Math.pow(d,i),u=2*(y=Math.pow(d,2*i))+3*_*f+b,A=2*v+3*g*f+b,(p=3*_*(_+f))>0&&(p=1/p),(m=3*g*(g+f))>0&&(m=1/m),a={screen_x:(-b*n.screen_x+u*o.screen_x+y*r.screen_x)*p,screen_y:(-b*n.screen_y+u*o.screen_y+y*r.screen_y)*p},l={screen_x:(v*o.screen_x+A*r.screen_x-b*s.screen_x)*m,screen_y:(v*o.screen_y+A*r.screen_y-b*s.screen_y)*m},0==a.screen_x&&0==a.screen_y&&(a=o),0==l.screen_x&&0==l.screen_y&&(l=r),w.push([a.screen_x,a.screen_y]),w.push([l.screen_x,l.screen_y]),w.push([r.screen_x,r.screen_y]);return w},fk._linear=function(t){for(var e=[],i=0;i<t.length;i++)e.push([t[i].screen_x,t[i].screen_y]);return e},vk.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&Ux.insertSort(this.itemsData,(function(t,e){return t.x>e.x?1:-1}))):this.itemsData=[]},vk.prototype.getItems=function(){return this.itemsData},vk.prototype.setZeroPosition=function(t){this.zeroPosition=t},vk.prototype.setOptions=function(t){if(void 0!==t){Ux.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,t),"function"==typeof t.drawPoints&&(t.drawPoints={onRender:t.drawPoints}),Ux.mergeOptions(this.options,t,"interpolation"),Ux.mergeOptions(this.options,t,"drawPoints"),Ux.mergeOptions(this.options,t,"shaded"),t.interpolation&&"object"==typeof t.interpolation&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5))}},vk.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible||t.visible,this.style=t.style,this.setOptions(t.options)},vk.prototype.getLegend=function(t,e,i,n,o){null!=i&&null!=i||(i={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]});switch(null!=n&&null!=n||(n=0),null!=o&&null!=o||(o=.5*e),this.options.style){case"line":fk.drawIcon(this,n,o,t,e,i);break;case"points":case"point":pk.drawIcon(this,n,o,t,e,i);break;case"bar":gk.drawIcon(this,n,o,t,e,i)}return{icon:i.svg,label:this.content,orientation:this.options.yAxisOrientation}},vk.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,n=0;n<t.length;n++)e=e>t[n].y?t[n].y:e,i=i<t[n].y?t[n].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},bk.prototype=new Hx,bk.prototype.clear=function(){this.groups={},this.amountOfGroups=0},bk.prototype.addGroup=function(t,e){1!=e.options.excludeFromLegend&&(this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1)},bk.prototype.updateGroup=function(t,e){this.groups[t]=e},bk.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},bk.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},bk.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},bk.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},bk.prototype.setOptions=function(t){Ux.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,t)},bk.prototype.redraw=function(){var t=0,e=Object.keys(this.groups);e.sort((function(t,e){return t<e?-1:1}));for(var i=0;i<e.length;i++){var n=e[i];1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||t++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var o=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+o+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var r="";for(i=0;i<e.length;i++)n=e[i],1!=this.groups[n].visible||void 0!==this.linegraphOptions.visibility[n]&&1!=this.linegraphOptions.visibility[n]||(r+=this.groups[n].content+"<br />");this.dom.textArea.innerHTML=Ux.xss(r),this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},bk.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var t=Object.keys(this.groups);t.sort((function(t,e){return t<e?-1:1})),sk(d=this.svgElements),ak(d),sk(d);var e=window.getComputedStyle(this.dom.frame).paddingTop,i=Number(e.replace("px","")),n=i,o=this.options.iconSize,r=.75*this.options.iconSize,s=i+.5*r+3;this.svg.style.width=o+5+i+"px";for(var a=0;a<t.length;a++){var l=t[a];1!=this.groups[l].visible||void 0!==this.linegraphOptions.visibility[l]&&1!=this.linegraphOptions.visibility[l]||(this.groups[l].getLegend(o,r,this.framework,n,s),s+=r+this.options.iconSpacing)}}var d};function yk(t,e){this.id=gE(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=Ux.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,n){i._onAdd(e.items)},update:function(t,e,n){i._onUpdate(e.items)},remove:function(t,e,n){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,n){i._onAddGroups(e.items)},update:function(t,e,n){i._onUpdateGroups(e.items)},remove:function(t,e,n){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",(function(){i.svg.style.left=Ux.option.asSize(-i.props.width),i.forceGraphUpdate=!0,i.redraw.call(i)})),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}yk.prototype=new Hx,yk.prototype._create=function(){var t=document.createElement("div");t.className="vis-line-graph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new Ak(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new Ak(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new bk(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new bk(this.body,this.options.legend,"right",this.options.groups),this.show()},yk.prototype.setOptions=function(t){if(t){void 0===t.graphHeight&&void 0!==t.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),Ux.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,t),Ux.mergeOptions(this.options,t,"interpolation"),Ux.mergeOptions(this.options,t,"drawPoints"),Ux.mergeOptions(this.options,t,"shaded"),Ux.mergeOptions(this.options,t,"legend"),t.interpolation&&"object"==typeof t.interpolation&&t.interpolation.parametrization&&("uniform"==t.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==t.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty("__ungrouped__")&&this.groups.__ungrouped__.setOptions(t)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},yk.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},yk.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},yk.prototype.setItems=function(t){var e,i=this,n=this.itemsData;if(t){if(!Ox(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.itemsData=Fx(t)}else this.itemsData=null;if(n&&(Ux.forEach(this.itemListeners,(function(t,e){n.off(e,t)})),n.dispose(),e=n.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;Ux.forEach(this.itemListeners,(function(t,e){i.itemsData.on(e,t,o)})),e=this.itemsData.getIds(),this._onAdd(e)}},yk.prototype.setGroups=function(t){var e,i=this;if(this.groupsData){Ux.forEach(this.groupListeners,(function(t,e){i.groupsData.off(e,t)})),e=this.groupsData.getIds(),this.groupsData=null;for(var n=0;n<e.length;n++)this._removeGroup(e[n])}if(t){if(!Ox(t))throw new TypeError("Data must implement the interface of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var o=this.id;Ux.forEach(this.groupListeners,(function(t,e){i.groupsData.on(e,t,o)})),e=this.groupsData.getIds(),this._onAddGroups(e)}},yk.prototype._onUpdate=function(t){this._updateAllGroupData(t)},yk.prototype._onAdd=function(t){this._onUpdate(t)},yk.prototype._onRemove=function(t){this._onUpdate(t)},yk.prototype._onUpdateGroups=function(t){this._updateAllGroupData(null,t)},yk.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},yk.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this._removeGroup(t[e]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},yk.prototype._removeGroup=function(t){this.groups.hasOwnProperty(t)&&("right"==this.groups[t].options.yAxisOrientation?(this.yAxisRight.removeGroup(t),this.legendRight.removeGroup(t),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t),this.legendLeft.removeGroup(t),this.legendLeft.redraw()),delete this.groups[t])},yk.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e]),this.yAxisLeft.removeGroup(e),this.legendLeft.removeGroup(e)):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]),this.yAxisRight.removeGroup(e),this.legendRight.removeGroup(e))):(this.groups[e]=new vk(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},yk.prototype._updateAllGroupData=function(t,e){if(null!=this.itemsData){var i={},n=this.itemsData.get(),o=this.itemsData.idProp,r={};t&&t.map((function(t){r[t]=t}));for(var s={},a=0;a<n.length;a++){var l=n[a],d=l.group;null==d&&(d="__ungrouped__"),s.hasOwnProperty(d)?s[d]++:s[d]=1}var c={};if(!e&&t)for(d in this.groups)if(this.groups.hasOwnProperty(d)){var h=(m=this.groups[d]).getItems();i[d]=h.filter((function(t){return c[t[o]]=t[o],t[o]!==r[t[o]]}));var u=s[d];s[d]-=i[d].length,i[d].length<u&&(i[d][u-1]={})}for(a=0;a<n.length;a++)if(null==(d=(l=n[a]).group)&&(d="__ungrouped__"),e||!t||l[o]===r[l[o]]||!c.hasOwnProperty(l[o])){i.hasOwnProperty(d)||(i[d]=new Array(s[d]));var A=Ux.bridgeObject(l);A.x=Ux.convert(l.x,"Date"),A.end=Ux.convert(l.end,"Date"),A.orginalY=l.y,A.y=Number(l.y),A[o]=l[o];var p=i[d].length-s[d]--;i[d][p]=A}for(d in this.groups)this.groups.hasOwnProperty(d)&&(i.hasOwnProperty(d)||(i[d]=new Array(0)));for(d in i)if(i.hasOwnProperty(d))if(0==i[d].length)this.groups.hasOwnProperty(d)&&this._removeGroup(d);else{var m=void 0;null!=this.groupsData&&(m=this.groupsData.get(d)),null==m&&(m={id:d,content:this.options.defaultGroup+d}),this._updateGroup(m,d),this.groups[d].setItems(i[d])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},yk.prototype.redraw=function(){var t=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,t=this._isResized()||t;var e=this.body.range.end-this.body.range.start,i=e!=this.lastVisibleInterval;if(this.lastVisibleInterval=e,1==t&&(this.svg.style.width=Ux.option.asSize(3*this.props.width),this.svg.style.left=Ux.option.asSize(-this.props.width),-1==(this.options.height+"").indexOf("%")&&1!=this.updateSVGheightOnResize||(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==t||1==i||1==this.abortedGraphUpdate||1==this.forceGraphUpdate)t=this._updateGraph()||t,this.forceGraphUpdate=!1,this.lastStart=this.body.range.start,this.svg.style.left=-this.props.width+"px";else if(0!=this.lastStart){var n=this.body.range.start-this.lastStart,o=this.body.range.end-this.body.range.start;if(0!=this.props.width){var r=n*(this.props.width/o);this.svg.style.left=-this.props.width-r+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),t},yk.prototype._getSortedGroupIds=function(){var t=[];for(var e in this.groups)if(this.groups.hasOwnProperty(e)){var i=this.groups[e];1!=i.visible||void 0!==this.options.groups.visibility[e]&&1!=this.options.groups.visibility[e]||t.push({id:e,zIndex:i.options.zIndex})}Ux.insertSort(t,(function(t,e){var i=t.zIndex,n=e.zIndex;return void 0===i&&(i=0),void 0===n&&(n=0),i==n?0:i<n?-1:1}));for(var n=new Array(t.length),o=0;o<t.length;o++)n[o]=t[o].id;return n},yk.prototype._updateGraph=function(){if(sk(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},n=this.body.util.toGlobalTime(-this.body.domProps.root.width),o=this.body.util.toGlobalTime(2*this.body.domProps.root.width),r=this._getSortedGroupIds();if(r.length>0){var s={};for(this._getRelevantData(r,s,n,o),this._applySampling(r,s),e=0;e<r.length;e++)this._convertXcoordinates(s[r[e]]);if(this._getYRanges(r,s,i),1==this._updateYAxis(r,i))return ak(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var a=void 0;for(e=0;e<r.length;e++)t=this.groups[r[e]],!0===this.options.stack&&"line"===this.options.style&&(null!=t.options.excludeFromStacking&&t.options.excludeFromStacking||(null!=a&&(this._stack(s[t.id],s[a.id]),1==t.options.shaded.enabled&&"group"!==t.options.shaded.orientation&&("top"==t.options.shaded.orientation&&"group"!==a.options.shaded.orientation?(a.options.shaded.orientation="group",a.options.shaded.groupId=t.id):(t.options.shaded.orientation="group",t.options.shaded.groupId=a.id))),a=t)),this._convertYcoordinates(s[r[e]],t);var l={};for(e=0;e<r.length;e++)if("line"===(t=this.groups[r[e]]).options.style&&1==t.options.shaded.enabled){var d=s[r[e]];if(null==d||0==d.length)continue;if(l.hasOwnProperty(r[e])||(l[r[e]]=fk.calcPath(d,t)),"group"===t.options.shaded.orientation){var c=t.options.shaded.groupId;if(-1===r.indexOf(c)){console.log(t.id+": Unknown shading group target given:"+c);continue}l.hasOwnProperty(c)||(l[c]=fk.calcPath(s[c],this.groups[c])),fk.drawShading(l[r[e]],t,l[c],this.framework)}else fk.drawShading(l[r[e]],t,void 0,this.framework)}for(gk.draw(r,s,this.framework),e=0;e<r.length;e++)if(t=this.groups[r[e]],s[r[e]].length>0)switch(t.options.style){case"line":l.hasOwnProperty(r[e])||(l[r[e]]=fk.calcPath(s[r[e]],t)),fk.draw(l[r[e]],t,this.framework);case"point":case"points":"point"!=t.options.style&&"points"!=t.options.style&&1!=t.options.drawPoints.enabled||pk.draw(s[r[e]],t,this.framework)}}}return ak(this.svgElements),!1},yk.prototype._stack=function(t,e){var i,n,o,r,s;i=0;for(var a=0;a<t.length;a++){r=void 0,s=void 0;for(var l=i;l<e.length;l++){if(e[l].x===t[a].x){r=e[l],s=e[l],i=l;break}if(e[l].x>t[a].x){s=e[l],r=0==l?s:e[l-1],i=l;break}}void 0===s&&(r=e[e.length-1],s=e[e.length-1]),n=s.x-r.x,o=s.y-r.y,t[a].y=0==n?t[a].orginalY+s.y:t[a].orginalY+o/n*(t[a].x-r.x)+r.y}},yk.prototype._getRelevantData=function(t,e,i,n){var o,r,s,a;if(t.length>0)for(r=0;r<t.length;r++){var l=(o=this.groups[t[r]]).getItems();if(1==o.options.sort){var d=function(t,e){return t.getTime()==e.getTime()?0:t<e?-1:1},c=Math.max(0,Ux.binarySearchValue(l,i,"x","before",d)),h=Math.min(l.length,Ux.binarySearchValue(l,n,"x","after",d)+1);h<=0&&(h=l.length);var u=new Array(h-c);for(s=c;s<h;s++)a=o.itemsData[s],u[s-c]=a;e[t[r]]=u}else e[t[r]]=o.itemsData}},yk.prototype._applySampling=function(t,e){if(t.length>0)for(var i=0;i<t.length;i++)if(1==this.groups[t[i]].options.sampling){var n=e[t[i]];if(n.length>0){var o,r=n.length,s=r/(this.body.util.toGlobalScreen(n[n.length-1].x)-this.body.util.toGlobalScreen(n[0].x));o=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(s)));for(var a=new Array(r),l=0;l<r;l+=o){a[Math.round(l/o)]=n[l]}e[t[i]]=a.splice(0,Math.round(r/o))}}},yk.prototype._getYRanges=function(t,e,i){var n,o,r,s,a=[],l=[];if(t.length>0){for(r=0;r<t.length;r++)n=e[t[r]],s=this.groups[t[r]].options,n.length>0&&(o=this.groups[t[r]],!0===s.stack&&"bar"===s.style?"left"===s.yAxisOrientation?a=a.concat(n):l=l.concat(n):i[t[r]]=o.getYRange(n,t[r]));gk.getStackedYRange(a,i,t,"__barStackLeft","left"),gk.getStackedYRange(l,i,t,"__barStackRight","right")}},yk.prototype._updateYAxis=function(t,e){var i,n,o=!1,r=!1,s=!1,a=1e9,l=1e9,d=-1e9,c=-1e9;if(t.length>0){for(var h=0;h<t.length;h++){var u=this.groups[t[h]];u&&"right"!=u.options.yAxisOrientation?(r=!0,a=1e9,d=-1e9):u&&u.options.yAxisOrientation&&(s=!0,l=1e9,c=-1e9)}for(h=0;h<t.length;h++)e.hasOwnProperty(t[h])&&!0!==e[t[h]].ignore&&(i=e[t[h]].min,n=e[t[h]].max,"right"!=e[t[h]].yAxisOrientation?(r=!0,a=a>i?i:a,d=d<n?n:d):(s=!0,l=l>i?i:l,c=c<n?n:c));1==r&&this.yAxisLeft.setRange(a,d),1==s&&this.yAxisRight.setRange(l,c)}o=this._toggleAxisVisiblity(r,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(s,this.yAxisRight)||o,1==s&&1==r?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!r,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==s?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o;var A=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(h=0;h<A.length;h++)-1!=t.indexOf(A[h])&&t.splice(t.indexOf(A[h]),1);return o},yk.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},yk.prototype._convertXcoordinates=function(t){for(var e=this.body.util.toScreen,i=0;i<t.length;i++)t[i].screen_x=e(t[i].x)+this.props.width,t[i].screen_y=t[i].y,null!=t[i].end?t[i].screen_end=e(t[i].end)+this.props.width:t[i].screen_end=void 0},yk.prototype._convertYcoordinates=function(t,e){var i=this.yAxisLeft,n=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(i=this.yAxisRight);for(var o=0;o<t.length;o++)t[o].screen_y=Math.round(i.convertValue(t[o].y));e.setZeroPosition(Math.min(n,i.convertValue(0)))};let _k="string",wk="boolean",Ck="number",Ik="object",Ek={configure:{enabled:{boolean:wk},filter:{boolean:wk,function:"function"},container:{dom:"dom"},__type__:{object:Ik,boolean:wk,function:"function"}},alignCurrentTime:{string:_k,undefined:"undefined"},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:_k},sort:{boolean:wk},sampling:{boolean:wk},stack:{boolean:wk},graphHeight:{string:_k,number:Ck},shaded:{enabled:{boolean:wk},orientation:{string:["bottom","top","zero","group"]},groupId:{object:Ik},__type__:{boolean:wk,object:Ik}},style:{string:["line","bar","points"]},barChart:{width:{number:Ck},minWidth:{number:Ck},sideBySide:{boolean:wk},align:{string:["left","center","right"]},__type__:{object:Ik}},interpolation:{enabled:{boolean:wk},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:Ck},__type__:{object:Ik,boolean:wk}},drawPoints:{enabled:{boolean:wk},onRender:{function:"function"},size:{number:Ck},style:{string:["square","circle"]},__type__:{object:Ik,boolean:wk,function:"function"}},dataAxis:{showMinorLabels:{boolean:wk},showMajorLabels:{boolean:wk},showWeekScale:{boolean:wk},icons:{boolean:wk},width:{string:_k,number:Ck},visible:{boolean:wk},alignZeros:{boolean:wk},left:{range:{min:{number:Ck,undefined:"undefined"},max:{number:Ck,undefined:"undefined"},__type__:{object:Ik}},format:{function:"function"},title:{text:{string:_k,number:Ck,undefined:"undefined"},style:{string:_k,undefined:"undefined"},__type__:{object:Ik}},__type__:{object:Ik}},right:{range:{min:{number:Ck,undefined:"undefined"},max:{number:Ck,undefined:"undefined"},__type__:{object:Ik}},format:{function:"function"},title:{text:{string:_k,number:Ck,undefined:"undefined"},style:{string:_k,undefined:"undefined"},__type__:{object:Ik}},__type__:{object:Ik}},__type__:{object:Ik}},legend:{enabled:{boolean:wk},icons:{boolean:wk},left:{visible:{boolean:wk},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:Ik}},right:{visible:{boolean:wk},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:Ik}},__type__:{object:Ik,boolean:wk}},groups:{visibility:{any:"any"},__type__:{object:Ik}},autoResize:{boolean:wk},throttleRedraw:{number:Ck},clickToUse:{boolean:wk},end:{number:Ck,date:"date",string:_k,moment:"moment"},format:{minorLabels:{millisecond:{string:_k,undefined:"undefined"},second:{string:_k,undefined:"undefined"},minute:{string:_k,undefined:"undefined"},hour:{string:_k,undefined:"undefined"},weekday:{string:_k,undefined:"undefined"},day:{string:_k,undefined:"undefined"},week:{string:_k,undefined:"undefined"},month:{string:_k,undefined:"undefined"},quarter:{string:_k,undefined:"undefined"},year:{string:_k,undefined:"undefined"},__type__:{object:Ik}},majorLabels:{millisecond:{string:_k,undefined:"undefined"},second:{string:_k,undefined:"undefined"},minute:{string:_k,undefined:"undefined"},hour:{string:_k,undefined:"undefined"},weekday:{string:_k,undefined:"undefined"},day:{string:_k,undefined:"undefined"},week:{string:_k,undefined:"undefined"},month:{string:_k,undefined:"undefined"},quarter:{string:_k,undefined:"undefined"},year:{string:_k,undefined:"undefined"},__type__:{object:Ik}},__type__:{object:Ik}},moment:{function:"function"},height:{string:_k,number:Ck},hiddenDates:{start:{date:"date",number:Ck,string:_k,moment:"moment"},end:{date:"date",number:Ck,string:_k,moment:"moment"},repeat:{string:_k},__type__:{object:Ik,array:"array"}},locale:{string:_k},locales:{__any__:{any:"any"},__type__:{object:Ik}},max:{date:"date",number:Ck,string:_k,moment:"moment"},maxHeight:{number:Ck,string:_k},maxMinorChars:{number:Ck},min:{date:"date",number:Ck,string:_k,moment:"moment"},minHeight:{number:Ck,string:_k},moveable:{boolean:wk},multiselect:{boolean:wk},orientation:{string:_k},showCurrentTime:{boolean:wk},showMajorLabels:{boolean:wk},showMinorLabels:{boolean:wk},showWeekScale:{boolean:wk},snap:{function:"function",null:"null"},start:{date:"date",number:Ck,string:_k,moment:"moment"},timeAxis:{scale:{string:_k,undefined:"undefined"},step:{number:Ck,undefined:"undefined"},__type__:{object:Ik}},width:{string:_k,number:Ck},zoomable:{boolean:wk},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:Ck},zoomMin:{number:Ck},zIndex:{number:Ck},__type__:{object:Ik}},xk={global:{alignCurrentTime:["none","year","month","quarter","week","isoWeek","day","date","hour","minute","second"],sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,showWeekScale:!1,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",quarter:"[Q]Q",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",quarter:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,showWeekScale:!1,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}};function Bk(t,e,i,n){if(!Array.isArray(i)&&!Ox(i)&&i instanceof Object){var o=n;n=i,i=o}n&&n.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var r=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:Tx,width:null,height:null,maxHeight:null,minHeight:null},this.options=Ux.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:()=>r.timeAxis.step.scale,getStep:()=>r.timeAxis.step.step,toScreen:r._toScreen.bind(r),toGlobalScreen:r._toGlobalScreen.bind(r),toTime:r._toTime.bind(r),toGlobalTime:r._toGlobalTime.bind(r)}},this.range=new Xx(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new rB(this.body),this.components.push(this.timeAxis),this.currentTime=new EB(this.body),this.components.push(this.currentTime),this.linegraph=new yk(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",(function(t){r.emit("click",r.getEventProperties(t))})),this.on("doubletap",(function(t){r.emit("doubleClick",r.getEventProperties(t))})),this.dom.root.oncontextmenu=function(t){r.emit("contextmenu",r.getEventProperties(t))},this.initialFitDone=!1,this.on("changed",(function(){if(null!=r.itemsData){if(!r.initialFitDone&&!r.options.rollingMode)if(r.initialFitDone=!0,null!=r.options.start||null!=r.options.end){if(null==r.options.start||null==r.options.end)var t=r.getItemRange();var e=null!=r.options.start?r.options.start:t.min,i=null!=r.options.end?r.options.end:t.max;r.setWindow(e,i,{animation:!1})}else r.fit({animation:!1});r.initialDrawDone||!r.initialRangeChangeDone&&(r.options.start||r.options.end)&&!r.options.rollingMode||(r.initialDrawDone=!0,r.dom.root.style.visibility="visible",r.dom.loadingScreen.parentNode.removeChild(r.dom.loadingScreen),r.options.onInitialDrawComplete&&setTimeout((()=>r.options.onInitialDrawComplete()),0))}})),n&&this.setOptions(n),i&&this.setGroups(i),e&&this.setItems(e),this._redraw()}Bk.prototype=new IB,Bk.prototype.setOptions=function(t){!0===VB.validate(t,Ek)&&console.log("%cErrors have been found in the supplied options object.",WB),IB.prototype.setOptions.call(this,t)},Bk.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?Ox(t)?Fx(t):Fx(new EE(t)):null,this.itemsData&&this.itemsData.dispose(),this.itemsData=e,this.linegraph&&this.linegraph.setItems(null!=e?e.rawDS:null),i)if(null!=this.options.start||null!=this.options.end){var n=null!=this.options.start?this.options.start:null,o=null!=this.options.end?this.options.end:null;this.setWindow(n,o,{animation:!1})}else this.fit({animation:!1})},Bk.prototype.setGroups=function(t){var e;e=t?Ox(t)?t:new EE(t):null,this.groupsData=e,this.linegraph.setGroups(e)},Bk.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:'"+t+"'"},Bk.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]&&(this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]))},Bk.prototype.getDataRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var n=0;n<this.linegraph.groups[i].itemsData.length;n++){var o=this.linegraph.groups[i].itemsData[n],r=Ux.convert(o.x,"Date").valueOf();t=null==t||t>r?r:t,e=null==e||e<r?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},Bk.prototype.getEventProperties=function(t){var e=t.center?t.center.x:t.clientX,i=t.center?t.center.y:t.clientY,n=e-Ux.getAbsoluteLeft(this.dom.centerContainer),o=i-Ux.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(n),s=CB.customTimeFromTarget(t),a=Ux.getTarget(t),l=null;Ux.hasParent(a,this.timeAxis.dom.foreground)||this.timeAxis2&&Ux.hasParent(a,this.timeAxis2.dom.foreground)?l="axis":Ux.hasParent(a,this.linegraph.yAxisLeft.dom.frame)||Ux.hasParent(a,this.linegraph.yAxisRight.dom.frame)?l="data-axis":Ux.hasParent(a,this.linegraph.legendLeft.dom.frame)||Ux.hasParent(a,this.linegraph.legendRight.dom.frame)?l="legend":null!=s?l="custom-time":Ux.hasParent(a,this.currentTime.bar)?l="current-time":Ux.hasParent(a,this.dom.center)&&(l="background");var d=[],c=this.linegraph.yAxisLeft,h=this.linegraph.yAxisRight;return!c.hidden&&this.itemsData.length>0&&d.push(c.screenToValue(o)),!h.hidden&&this.itemsData.length>0&&d.push(h.screenToValue(o)),{event:t,customTime:s?s.options.id:null,what:l,pageX:t.srcEvent?t.srcEvent.pageX:t.pageX,pageY:t.srcEvent?t.srcEvent.pageY:t.pageY,x:n,y:o,time:r,value:d}},Bk.prototype._createConfigurator=function(){return new ek(this,this.dom.container,xk)};const kk=function(){try{return navigator?navigator.languages&&navigator.languages.length?navigator.languages:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en":"en"}catch(t){return"en"}}();SE.locale(kk);class Sk extends Event{}class Dk{constructor(){this._dataset=new EE,this._maxAgeSeconds=10}get lastFetchDate(){var t;return null!==(t=this._dateFetch)&&void 0!==t?t:null}get dataset(){return this._dataset}isEmpty(){return 0===this._dataset.length}clear(){this._dataset.clear()}_addMediaSource(t,e,i){var n;const o=[];null===(n=i.children)||void 0===n||n.forEach((i=>{var n;const r=null===(n=i.frigate)||void 0===n?void 0:n.event;if(r&&my(i)&&["video","image"].includes(i.media_content_type)){let n=this._dataset.get(r.id);n||(n={id:r.id,group:t,content:"",start:1e3*r.start_time,event:r}),("video"===i.media_content_type&&["all","clips"].includes(e)||!n.source&&"image"===i.media_content_type&&["all","snapshots"].includes(e))&&(n.source=i),r.end_time?(n.end=1e3*r.end_time,n.type="range"):n.type="point",o.push(n)}})),this._dataset.update(o)}hasCoverage(t,e,i){return!!(this._dateFetch&&this._dateStart&&this._dateEnd)&&(!(this._maxAgeSeconds&&t.getTime()-this._dateFetch.getTime()>1e3*this._maxAgeSeconds)&&(!(e<this._dateStart)&&(!i||(i.getTime()<this._dateEnd.getTime()||!!this._maxAgeSeconds&&(!(t.getTime()-i.getTime()>1e3*this._maxAgeSeconds)&&i.getTime()-1e3*this._maxAgeSeconds<=this._dateEnd.getTime())))))}async fetchIfNecessary(t,e,i,n,o,r,s){const a=new Date;return r=r>a?a:r,!this.hasCoverage(a,o,r)&&((!this._dateStart||o<this._dateStart)&&(this._dateStart=o),(!this._dateEnd||r>this._dateEnd)&&(this._dateEnd=r),this._dateFetch=new Date,await Promise.all([this._fetchEvents(t,e,i,n,this._dateStart,this._dateEnd),...s?[this._fetchRecordings(e,i)]:[]]),!0)}async _fetchRecordings(t,e){const i=[],n=new Date;await Promise.all(Array.from(e.entries()).map((([e,o])=>(async(e,o)=>{if(!o.frigate.camera_name)return;let r=[];try{r=await Ry(t,o.frigate.client_id,o.frigate.camera_name)}catch(t){Og(t)}for(const t of r)for(const o of t.hours){const r=af(t.day,{hours:o.hour}),s=vf(r);i.push({id:`recording-${e}-${vv(r,"yyyy-MM-dd-HH")}`,group:e,start:1e3*wv(jb(r)),end:1e3*wv(s>n?n:s),type:"background",content:""})}})(e,o)))),this._dataset.update(i)}async _fetchEvents(t,e,i,n,o,r){const s=[];if(i.forEach(((t,i)=>{("all"===n?["clips","snapshots"]:[n]).forEach((n=>{if("birdseye"!==t.frigate.camera_name){const a=_y(e,i,t,{before:r.getTime()/1e3,after:o.getTime()/1e3,unlimited:!0,mediaType:n});a&&s.push(a)}}))})),!s.length)return;let a;try{a=await vy(e,s)}catch(e){return qg(t,e)}for(const[t,e]of a.entries())t.cameraID&&this._addMediaSource(t.cameraID,n,e)}}let Qk=class extends gt{constructor(){super(...arguments),this.details=!1}render(){if(!this.thumbnail||!this.event)return K``;const t=new Sk("frigate-card:timeline:hass-request",{composed:!0,bubbles:!0});return this.dispatchEvent(t),t.hass?K` <frigate-card-thumbnail
      .hass=${t.hass}
      .event=${JSON.parse(this.event)}
      .label=${this.label}
      .thumbnail=${this.thumbnail}
      ?details=${this.details}
    >
    </frigate-card-thumbnail>`:K``}};t([yt({attribute:!0})],Qk.prototype,"thumbnail",void 0),t([yt({attribute:!0,type:Boolean})],Qk.prototype,"details",void 0),t([yt({attribute:!0})],Qk.prototype,"event",void 0),t([yt({attribute:!0})],Qk.prototype,"label",void 0),Qk=t([vt("frigate-card-timeline-thumbnail")],Qk);let Mk=class extends gt{render(){return this.timelineConfig?K` <frigate-card-surround-thumbnails
      .hass=${this.hass}
      .view=${this.view}
      .config=${this.timelineConfig.controls.thumbnails}
      .cameras=${this.cameras}
    >
      <frigate-card-timeline-core
        .hass=${this.hass}
        .view=${this.view}
        .cameras=${this.cameras}
        .timelineConfig=${this.timelineConfig}
      >
      </frigate-card-timeline-core>
    </frigate-card-surround-thumbnails>`:K``}static get styles(){return _(":host {\n  width: 100%;\n  height: 100%;\n  display: block;\n}")}};t([yt({attribute:!1})],Mk.prototype,"hass",void 0),t([yt({attribute:!1})],Mk.prototype,"view",void 0),t([yt({attribute:!1})],Mk.prototype,"cameras",void 0),t([yt({attribute:!1})],Mk.prototype,"timelineConfig",void 0),Mk=t([vt("frigate-card-timeline")],Mk);let Tk=class extends gt{constructor(){super(...arguments),this._data=new Dk,this._refTimeline=zt(),this._pointerHeld=!1,this._ignoreClick=!1,this._isHoverableDevice=Rg()}_getTooltip(t){var e,i;const n=t.source;if(!this._isHoverableDevice||!n)return"";const o=(null===(e=n.frigate)||void 0===e?void 0:e.event)?`event='${JSON.stringify(n.frigate.event)}'`:"",r=(null===(i=this.timelineConfig)||void 0===i?void 0:i.controls.thumbnails.show_details)?"details":"";return`\n      <frigate-card-timeline-thumbnail\n        thumbnail="${n.thumbnail}"\n        ${r}\n        ${o}\n        label="${n.title}"\n      >\n      </frigate-card-timeline-thumbnail>`}render(){if(!this.hass||!this.view||!this.timelineConfig)return;const t=this.timelineConfig.controls.thumbnails,e={timeline:!0,"left-margin":"left"===t.mode,"right-margin":"right"===t.mode};return K`<div
      @frigate-card:timeline:hass-request=${t=>{t.hass=this.hass}}
      class="${Dt(e)}"
      ${Gt(this._refTimeline)}
    ></div>`}_getSeekTime(t,e){if(!e.length)return null;const i=wv(t),n=wv(jb(t));let o=0;for(const t of e){if(t.start_time>i)break;const e=t.start_time<n?n:t.start_time;o+=(t.end_time>i?i:t.end_time)-e}return o}_createRecordingChildren(t,e,i){var n,o;const r=[],s=new Set;for(const l of(null===(n=this.cameras)||void 0===n?void 0:n.keys())||[]){const n=t.get(l),d=null===(o=this.cameras)||void 0===o?void 0:o.get(l);if(!n||!(null==d?void 0:d.frigate.camera_name))continue;const c=Ny(d);if(s.has(c))continue;s.add(c);const h=this._getSeekTime(e,n.segments);if(null!==h)for(const t of n.summary)for(const n of t.hours){const o=af(t.day,{hours:n.hour}),s=jb(o),l=vf(o),c=e>=s&&e<=l;i&&!c||r.push(By(`${Qg(d.frigate.camera_name)} ${vv(o,"yyyy-MM-dd HH:mm")}`,["media-source://frigate",(a={clientId:d.frigate.client_id,year:t.day.getFullYear(),month:t.day.getMonth()+1,day:t.day.getDate(),hour:n.hour,cameraName:d.frigate.camera_name}).clientId,"recordings",`${a.year}-${String(a.month).padStart(2,"0")}`,String(a.day).padStart(2,"0"),String(a.hour).padStart(2,"0"),a.cameraName].join("/"),{recording:Object.assign({camera:d.frigate.camera_name,start_time:wv(s),end_time:wv(l),events:n.events},c&&{seek_seconds:h,seek_time:e.getTime()/1e3})}))}}var a;return r}async _changeViewToRecording(t,e){var i,n,o;if(!this.hass)return;const r=vf(t),s=jb(t),a=new Map,l=async(t,e)=>{if(e&&e.frigate.camera_name&&this.hass)try{const i=await Promise.all([Py(this.hass,e.frigate.client_id,e.frigate.camera_name,r,s),Ry(this.hass,e.frigate.client_id,e.frigate.camera_name)]);a.set(t,{segments:i[0],summary:i[1]})}catch(t){Og(t)}},d=e?[e]:[...null!==(n=null===(i=this.cameras)||void 0===i?void 0:i.keys())&&void 0!==n?n:[]];await Promise.all(d.map((t=>{var e;return l(t,null===(e=this.cameras)||void 0===e?void 0:e.get(t))})));const c=this._createRecordingChildren(a,t,!e);if(!c.length)return;let h=0;e&&(h=c.findIndex((t=>{var e;return(null===(e=t.frigate)||void 0===e?void 0:e.recording)&&1e3*t.frigate.recording.start_time===s.getTime()})),h<0)||null===(o=this.view)||void 0===o||o.evolve({view:"media",target:xy(Sg("common.recordings"),c),childIndex:h}).dispatchChangeEvent(this)}_timelineRangeChangeHandler(t){t.event&&this._pointerHeld&&(this._ignoreClick=!0)}_timelineClickHandler(t){var e;("item"===t.what||this._ignoreClick)&&Vm(t.event),!this._ignoreClick&&t.what&&(null===(e=this.timelineConfig)||void 0===e?void 0:e.show_recordings)&&(["background","group-label"].includes(t.what)?(Vm(t.event),this._changeViewToRecording(t.time,String(t.group))):"axis"===t.what&&(Vm(t.event),this._changeViewToRecording(t.time))),this._ignoreClick=!1}_getPrefetchWindow(t,e){const i=ff(e,t);return[Hb(t,{seconds:i}),af(e,{seconds:i})]}_timelineRangeHandler(t){if(t.byUser&&this.hass&&this.cameras&&this._timeline&&this.timelineConfig){const[e,i]=this._getPrefetchWindow(t.start,t.end);this._data.fetchIfNecessary(this,this.hass,this.cameras,this.timelineConfig.media,e,i,this.timelineConfig.show_recordings).then((()=>{var t,e,i;if(this._timeline){const n=this._generateThumbnails();null===(t=this.view)||void 0===t||t.evolve({target:null!==(e=null==n?void 0:n.target)&&void 0!==e?e:null,childIndex:null!==(i=null==n?void 0:n.childIndex)&&void 0!==i?i:null}).mergeInContext(this._generateTimelineContext(!0)).dispatchChangeEvent(this)}}))}}_timelineSelectHandler(t){var e,i,n;if(!(null===(e=this.view)||void 0===e?void 0:e.target)||!(null===(i=this.view)||void 0===i?void 0:i.target.children))return;const o=t.items.length?this.view.target.children.findIndex((e=>{var i,n;return(null===(n=null===(i=e.frigate)||void 0===i?void 0:i.event)||void 0===n?void 0:n.id)===t.items[0]})):null;null===(n=this.view)||void 0===n||n.evolve({childIndex:o}).dispatchChangeEvent(this),Dg(this,null!==o&&o>=0?"thumbnails:open":"thumbnails:close")}_generateThumbnails(){if(!this._timeline)return null;const t=this._timeline.getSelection();let e=-1;const i=[];return this._data.dataset.get({order:(t,e)=>t.start<e.start?1:t.start>e.start?-1:0}).forEach((n=>{n.event&&n.source&&(i.push(n.source),t.includes(n.event.id)&&(e=i.length-1))})),i.length?{target:xy("Timeline events",i),childIndex:e<0?null:e}:null}_getGroups(){var t;const e=[],i=new Set;return null===(t=this.cameras)||void 0===t||t.forEach(((t,n)=>{const o=(t=>[t.frigate.client_id,t.frigate.camera_name,t.frigate.label,t.frigate.zone].join("/"))(t);t.frigate.camera_name&&"birdseye"!==t.frigate.camera_name&&!i.has(o)&&(i.add(o),e.push({id:n,content:uy(this.hass,t)}))})),new EE(e)}_getStartEndFromEvent(t){const e=this._getConfiguredWindowSeconds();if(t.end_time){if(t.end_time-t.start_time>e)return[Hb(yv(t.end_time),{seconds:e}),yv(t.end_time)];{const i=e-(t.end_time-t.start_time);return[Hb(yv(t.start_time),{seconds:i/2}),af(yv(t.end_time),{seconds:i/2})]}}return[Hb(yv(t.start_time),{seconds:e/2}),af(yv(t.start_time),{seconds:e/2})]}_getConfiguredWindowSeconds(){var t,e;return null!==(e=null===(t=this.timelineConfig)||void 0===t?void 0:t.window_seconds)&&void 0!==e?e:Pm.timeline.window_seconds}_getStartEnd(){var t,e,i;const n=null===(i=null===(e=null===(t=this.view)||void 0===t?void 0:t.target)||void 0===e?void 0:e.frigate)||void 0===i?void 0:i.event;if(n)return this._getStartEndFromEvent(n);const o=new Date;return[Hb(o,{seconds:this._getConfiguredWindowSeconds()}),o]}_isClustering(){var t;return!!(null===(t=this.timelineConfig)||void 0===t?void 0:t.clustering_threshold)&&this.timelineConfig.clustering_threshold>0}_getOptions(){if(!this.timelineConfig)return;const[t,e]=this._getStartEnd();return{cluster:!!this._isClustering()&&{maxItems:this.timelineConfig.clustering_threshold,clusterCriteria:(t,e)=>{var i,n,o,r,s,a,l,d,c,h;return[t.type,e.type].every((t=>"background"!==t))&&t.type===e.type&&!!t.id&&t.id!==(null===(r=null===(o=null===(n=null===(i=this.view)||void 0===i?void 0:i.media)||void 0===n?void 0:n.frigate)||void 0===o?void 0:o.event)||void 0===r?void 0:r.id)&&!!e.id&&e.id!=(null===(d=null===(l=null===(a=null===(s=this.view)||void 0===s?void 0:s.media)||void 0===a?void 0:a.frigate)||void 0===l?void 0:l.event)||void 0===d?void 0:d.id)&&(null===(c=t.event)||void 0===c?void 0:c.label)===(null===(h=e.event)||void 0===h?void 0:h.label)}},minHeight:"100%",maxHeight:"100%",zoomMax:864e5,zoomMin:1e3,selectable:!0,start:t,end:e,groupHeightMode:"fixed",tooltip:{followMouse:!0,overflowMethod:"cap",template:this._getTooltip.bind(this)},xss:{disabled:!1,filterOptions:{whiteList:{"frigate-card-timeline-thumbnail":["details","thumbnail","label","event"],div:["title"],span:["style"]}}}}}shouldUpdate(t){return!!this.hass&&!!this.cameras&&this.cameras.size>0}async _updateTimelineFromView(){var t,e,i,n,o,r,s;if(!(this.hass&&this.cameras&&this.view&&this.timelineConfig))return;const a=null===(i=null===(e=null===(t=this.view)||void 0===t?void 0:t.media)||void 0===e?void 0:e.frigate)||void 0===i?void 0:i.event,[l,d]=a?this._getStartEndFromEvent(a):this._getStartEnd(),[c,h]=this._getPrefetchWindow(l,d),u=await this._data.fetchIfNecessary(this,this.hass,this.cameras,this.timelineConfig.media,c,h,this.timelineConfig.show_recordings);if(!this._timeline)return;this._timeline.setSelection(a?[a.id]:[],{focus:!1,animation:{animation:!1,zoom:!1}});const A=null===(n=this.view.context)||void 0===n?void 0:n.timeline,p=this._timeline.getWindow();if(null==A?void 0:A.window)Yl(A.window,p)||this._timeline.setWindow(A.window.start,A.window.end);else if(a){const t=new Date(1e3*a.start_time),e=a.end_time?new Date(1e3*a.end_time):0;if((t<p.start||t>p.end||e&&(e<p.start||e>p.end))&&this._timeline.setWindow(l,d),this._isClustering()){const t=this._data.dataset.get(a.id);t&&this._data.dataset.updateOnly(t)}}else this._timeline.setWindow(l,d);if(u){const t=this._generateThumbnails();null===(o=this.view)||void 0===o||o.evolve({target:null!==(r=null==t?void 0:t.target)&&void 0!==r?r:null,childIndex:null!==(s=null==t?void 0:t.childIndex)&&void 0!==s?s:null}).mergeInContext(this._generateTimelineContext(!1)).dispatchChangeEvent(this)}}_generateTimelineContext(t){var e,i;const n=null===(i=null===(e=this.view)||void 0===e?void 0:e.context)||void 0===i?void 0:i.timeline,o={};return t&&this._timeline?o.window=this._timeline.getWindow():(null==n?void 0:n.window)&&(o.window=n.window),this._data.lastFetchDate&&(o.dateFetch=this._data.lastFetchDate),Object.keys(o)?{timeline:o}:{}}willUpdate(t){var e,i;t.has("timelineConfig")&&((null===(e=this.timelineConfig)||void 0===e?void 0:e.controls.thumbnails.size)&&this.style.setProperty("--frigate-card-thumbnail-size",`${this.timelineConfig.controls.thumbnails.size}px`),(null===(i=this.timelineConfig)||void 0===i?void 0:i.show_recordings)?this.setAttribute("recordings",""):this.removeAttribute("recordings"))}updated(t){var e;super.updated(t),t.has("cameras")&&(this._data.clear(),null===(e=this._timeline)||void 0===e||e.destroy(),this._timeline=void 0);const i=this._getOptions();if(t.has("timelineConfig")&&this._refTimeline.value&&i)if(this._timeline)this._timeline.setOptions(i);else{const t=this._getGroups();if(!t.length)return void Hg(this,Sg("error.timeline_no_cameras"),"info",{icon:"mdi:chart-gantt"});this._timeline=new ik(this._refTimeline.value,this._data.dataset,t,i),this._timeline.on("select",this._timelineSelectHandler.bind(this)),this._timeline.on("rangechanged",this._timelineRangeHandler.bind(this)),this._timeline.on("click",this._timelineClickHandler.bind(this)),this._timeline.on("rangechange",this._timelineRangeChangeHandler.bind(this)),this._timeline.on("mouseDown",(()=>{this._pointerHeld=!0,this._ignoreClick=!1})),this._timeline.on("mouseUp",(()=>{this._pointerHeld=!1}))}t.has("view")&&this._updateTimelineFromView()}static get styles(){return _('@charset "UTF-8";\n/* override some bootstrap styles screwing up the timelines css */\n.vis [class*=span] {\n  min-height: 0;\n  width: auto;\n}\n\n.vis-current-time {\n  background-color: #FF7F6E;\n  width: 2px;\n  z-index: 1;\n  pointer-events: none;\n}\n\n.vis-rolling-mode-btn {\n  height: 40px;\n  width: 40px;\n  position: absolute;\n  top: 7px;\n  right: 20px;\n  border-radius: 50%;\n  font-size: 28px;\n  cursor: pointer;\n  opacity: 0.8;\n  color: white;\n  font-weight: bold;\n  text-align: center;\n  background: #3876c2;\n}\n\n.vis-rolling-mode-btn:before {\n  content: "⛶";\n}\n\n.vis-rolling-mode-btn:hover {\n  opacity: 1;\n}\n\n.vis-timeline {\n  /*\n  -webkit-transition: height .4s ease-in-out;\n  transition:         height .4s ease-in-out;\n  */\n}\n\n.vis-panel {\n  /*\n  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;\n  transition:         height .4s ease-in-out, top .4s ease-in-out;\n  */\n}\n\n.vis-axis {\n  /*\n  -webkit-transition: top .4s ease-in-out;\n  transition:         top .4s ease-in-out;\n  */\n}\n\n/* TODO: get animation working nicely\n\n.vis-item {\n  -webkit-transition: top .4s ease-in-out;\n  transition:         top .4s ease-in-out;\n}\n\n.vis-item.line {\n  -webkit-transition: height .4s ease-in-out, top .4s ease-in-out;\n  transition:         height .4s ease-in-out, top .4s ease-in-out;\n}\n/**/\n.vis-panel {\n  position: absolute;\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-left,\n.vis-panel.vis-right,\n.vis-panel.vis-top,\n.vis-panel.vis-bottom {\n  border: 1px #bfbfbf;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-left,\n.vis-panel.vis-right {\n  border-top-style: solid;\n  border-bottom-style: solid;\n  overflow: hidden;\n}\n\n.vis-left.vis-panel.vis-vertical-scroll, .vis-right.vis-panel.vis-vertical-scroll {\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: scroll;\n}\n\n.vis-left.vis-panel.vis-vertical-scroll {\n  direction: rtl;\n}\n\n.vis-left.vis-panel.vis-vertical-scroll .vis-content {\n  direction: ltr;\n}\n\n.vis-right.vis-panel.vis-vertical-scroll {\n  direction: ltr;\n}\n\n.vis-right.vis-panel.vis-vertical-scroll .vis-content {\n  direction: rtl;\n}\n\n.vis-panel.vis-center,\n.vis-panel.vis-top,\n.vis-panel.vis-bottom {\n  border-left-style: solid;\n  border-right-style: solid;\n}\n\n.vis-background {\n  overflow: hidden;\n}\n\n.vis-panel > .vis-content {\n  position: relative;\n}\n\n.vis-panel .vis-shadow {\n  position: absolute;\n  width: 100%;\n  height: 1px;\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.8);\n  /* TODO: find a nice way to ensure vis-shadows are drawn on top of items\n  z-index: 1;\n  */\n}\n\n.vis-panel .vis-shadow.vis-top {\n  top: -1px;\n  left: 0;\n}\n\n.vis-panel .vis-shadow.vis-bottom {\n  bottom: -1px;\n  left: 0;\n}\n\n.vis-graph-group0 {\n  fill: #4f81bd;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #4f81bd;\n}\n\n.vis-graph-group1 {\n  fill: #f79646;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #f79646;\n}\n\n.vis-graph-group2 {\n  fill: #8c51cf;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #8c51cf;\n}\n\n.vis-graph-group3 {\n  fill: #75c841;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #75c841;\n}\n\n.vis-graph-group4 {\n  fill: #ff0100;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #ff0100;\n}\n\n.vis-graph-group5 {\n  fill: #37d8e6;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #37d8e6;\n}\n\n.vis-graph-group6 {\n  fill: #042662;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #042662;\n}\n\n.vis-graph-group7 {\n  fill: #00ff26;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #00ff26;\n}\n\n.vis-graph-group8 {\n  fill: #ff00ff;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #ff00ff;\n}\n\n.vis-graph-group9 {\n  fill: #8f3938;\n  fill-opacity: 0;\n  stroke-width: 2px;\n  stroke: #8f3938;\n}\n\n.vis-timeline .vis-fill {\n  fill-opacity: 0.1;\n  stroke: none;\n}\n\n.vis-timeline .vis-bar {\n  fill-opacity: 0.5;\n  stroke-width: 1px;\n}\n\n.vis-timeline .vis-point {\n  stroke-width: 2px;\n  fill-opacity: 1;\n}\n\n.vis-timeline .vis-legend-background {\n  stroke-width: 1px;\n  fill-opacity: 0.9;\n  fill: #ffffff;\n  stroke: #c2c2c2;\n}\n\n.vis-timeline .vis-outline {\n  stroke-width: 1px;\n  fill-opacity: 1;\n  fill: #ffffff;\n  stroke: #e5e5e5;\n}\n\n.vis-timeline .vis-icon-fill {\n  fill-opacity: 0.3;\n  stroke: none;\n}\n\n.vis-timeline {\n  position: relative;\n  border: 1px solid #bfbfbf;\n  overflow: hidden;\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\n.vis-loading-screen {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.vis-custom-time {\n  background-color: #6E94FF;\n  width: 2px;\n  cursor: move;\n  z-index: 1;\n}\n\n.vis-custom-time > .vis-custom-time-marker {\n  background-color: inherit;\n  color: white;\n  font-size: 12px;\n  white-space: nowrap;\n  padding: 3px 5px;\n  top: 0px;\n  cursor: initial;\n  z-index: inherit;\n}\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-horizontal {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  border-bottom: 1px solid;\n}\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-minor {\n  border-color: #e5e5e5;\n}\n\n.vis-panel.vis-background.vis-horizontal .vis-grid.vis-major {\n  border-color: #bfbfbf;\n}\n\n.vis-data-axis .vis-y-axis.vis-major {\n  width: 100%;\n  position: absolute;\n  color: #4d4d4d;\n  white-space: nowrap;\n}\n\n.vis-data-axis .vis-y-axis.vis-major.vis-measure {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n.vis-data-axis .vis-y-axis.vis-minor {\n  position: absolute;\n  width: 100%;\n  color: #bebebe;\n  white-space: nowrap;\n}\n\n.vis-data-axis .vis-y-axis.vis-minor.vis-measure {\n  padding: 0;\n  margin: 0;\n  border: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n.vis-data-axis .vis-y-axis.vis-title {\n  position: absolute;\n  color: #4d4d4d;\n  white-space: nowrap;\n  bottom: 20px;\n  text-align: center;\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-measure {\n  padding: 0;\n  margin: 0;\n  visibility: hidden;\n  width: auto;\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-left {\n  bottom: 0;\n  -webkit-transform-origin: left top;\n  -moz-transform-origin: left top;\n  -ms-transform-origin: left top;\n  -o-transform-origin: left top;\n  transform-origin: left bottom;\n  -webkit-transform: rotate(-90deg);\n  -moz-transform: rotate(-90deg);\n  -ms-transform: rotate(-90deg);\n  -o-transform: rotate(-90deg);\n  transform: rotate(-90deg);\n}\n\n.vis-data-axis .vis-y-axis.vis-title.vis-right {\n  bottom: 0;\n  -webkit-transform-origin: right bottom;\n  -moz-transform-origin: right bottom;\n  -ms-transform-origin: right bottom;\n  -o-transform-origin: right bottom;\n  transform-origin: right bottom;\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  -ms-transform: rotate(90deg);\n  -o-transform: rotate(90deg);\n  transform: rotate(90deg);\n}\n\n.vis-legend {\n  background-color: rgba(247, 252, 255, 0.65);\n  padding: 5px;\n  border: 1px solid #b3b3b3;\n  box-shadow: 2px 2px 10px rgba(154, 154, 154, 0.55);\n}\n\n.vis-legend-text {\n  /*font-size: 10px;*/\n  white-space: nowrap;\n  display: inline-block;\n}\n\n.vis-labelset {\n  position: relative;\n  overflow: hidden;\n  box-sizing: border-box;\n}\n\n.vis-labelset .vis-label {\n  position: relative;\n  left: 0;\n  top: 0;\n  width: 100%;\n  color: #4d4d4d;\n  box-sizing: border-box;\n}\n\n.vis-labelset .vis-label {\n  border-bottom: 1px solid #bfbfbf;\n}\n\n.vis-labelset .vis-label.draggable {\n  cursor: pointer;\n}\n\n.vis-group-is-dragging {\n  background: rgba(0, 0, 0, 0.1);\n}\n\n.vis-labelset .vis-label:last-child {\n  border-bottom: none;\n}\n\n.vis-labelset .vis-label .vis-inner {\n  display: inline-block;\n  padding: 5px;\n}\n\n.vis-labelset .vis-label .vis-inner.vis-hidden {\n  padding: 0;\n}\n\n.vis-itemset {\n  position: relative;\n  padding: 0;\n  margin: 0;\n  box-sizing: border-box;\n}\n\n.vis-itemset .vis-background,\n.vis-itemset .vis-foreground {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  overflow: visible;\n}\n\n.vis-axis {\n  position: absolute;\n  width: 100%;\n  height: 0;\n  left: 0;\n  z-index: 1;\n}\n\n.vis-foreground .vis-group {\n  position: relative;\n  box-sizing: border-box;\n  border-bottom: 1px solid #bfbfbf;\n}\n\n.vis-foreground .vis-group:last-child {\n  border-bottom: none;\n}\n\n.vis-nesting-group {\n  cursor: pointer;\n}\n\n.vis-label.vis-nested-group.vis-group-level-unknown-but-gte1 {\n  background: #f5f5f5;\n}\n\n.vis-label.vis-nested-group.vis-group-level-0 {\n  background-color: #ffffff;\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {\n  padding-left: 0;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-0 .vis-inner {\n  padding-right: 0;\n}\n\n.vis-label.vis-nested-group.vis-group-level-1 {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {\n  padding-left: 15px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-1 .vis-inner {\n  padding-right: 15px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-2 {\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {\n  padding-left: 30px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-2 .vis-inner {\n  padding-right: 30px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-3 {\n  background-color: rgba(0, 0, 0, 0.15);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {\n  padding-left: 45px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-3 .vis-inner {\n  padding-right: 45px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-4 {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {\n  padding-left: 60px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-4 .vis-inner {\n  padding-right: 60px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-5 {\n  background-color: rgba(0, 0, 0, 0.25);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {\n  padding-left: 75px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-5 .vis-inner {\n  padding-right: 75px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-6 {\n  background-color: rgba(0, 0, 0, 0.3);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {\n  padding-left: 90px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-6 .vis-inner {\n  padding-right: 90px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-7 {\n  background-color: rgba(0, 0, 0, 0.35);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {\n  padding-left: 105px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-7 .vis-inner {\n  padding-right: 105px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-8 {\n  background-color: rgba(0, 0, 0, 0.4);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {\n  padding-left: 120px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-8 .vis-inner {\n  padding-right: 120px;\n}\n\n.vis-label.vis-nested-group.vis-group-level-9 {\n  background-color: rgba(0, 0, 0, 0.45);\n}\n\n.vis-ltr .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {\n  padding-left: 135px;\n}\n\n.vis-rtl .vis-label.vis-nested-group.vis-group-level-9 .vis-inner {\n  padding-right: 135px;\n}\n\n/* default takes over beginning with level-10 (thats why we add .vis-nested-group\n  to the selectors above, to have higher specifity than these rules for the defaults) */\n.vis-label.vis-nested-group {\n  background-color: rgba(0, 0, 0, 0.5);\n}\n\n.vis-ltr .vis-label.vis-nested-group .vis-inner {\n  padding-left: 150px;\n}\n\n.vis-rtl .vis-label.vis-nested-group .vis-inner {\n  padding-right: 150px;\n}\n\n.vis-group-level-unknown-but-gte1 {\n  border: 1px solid red;\n}\n\n/* expanded/collapsed indicators */\n.vis-label.vis-nesting-group:before,\n.vis-label.vis-nesting-group:before {\n  display: inline-block;\n  width: 15px;\n}\n\n.vis-label.vis-nesting-group.expanded:before {\n  content: "▼";\n}\n\n.vis-label.vis-nesting-group.collapsed:before {\n  content: "▶";\n}\n\n.vis-rtl .vis-label.vis-nesting-group.collapsed:before {\n  content: "◀";\n}\n\n/* compensate missing expanded/collapsed indicator, but only at levels > 0 */\n.vis-ltr .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {\n  padding-left: 15px;\n}\n\n.vis-rtl .vis-label:not(.vis-nesting-group):not(.vis-group-level-0) {\n  padding-right: 15px;\n}\n\n.vis-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n}\n\n.vis-time-axis {\n  position: relative;\n  overflow: hidden;\n}\n\n.vis-time-axis.vis-foreground {\n  top: 0;\n  left: 0;\n  width: 100%;\n}\n\n.vis-time-axis.vis-background {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.vis-time-axis .vis-text {\n  position: absolute;\n  color: #4d4d4d;\n  padding: 3px;\n  overflow: hidden;\n  box-sizing: border-box;\n  white-space: nowrap;\n}\n\n.vis-time-axis .vis-text.vis-measure {\n  position: absolute;\n  padding-left: 0;\n  padding-right: 0;\n  margin-left: 0;\n  margin-right: 0;\n  visibility: hidden;\n}\n\n.vis-time-axis .vis-grid.vis-vertical {\n  position: absolute;\n  border-left: 1px solid;\n}\n\n.vis-time-axis .vis-grid.vis-vertical-rtl {\n  position: absolute;\n  border-right: 1px solid;\n}\n\n.vis-time-axis .vis-grid.vis-minor {\n  border-color: #e5e5e5;\n}\n\n.vis-time-axis .vis-grid.vis-major {\n  border-color: #bfbfbf;\n}\n\n.vis-item {\n  position: absolute;\n  color: #1A1A1A;\n  border-color: #97B0F8;\n  border-width: 1px;\n  background-color: #D5DDF6;\n  display: inline-block;\n  z-index: 1;\n  /*overflow: hidden;*/\n}\n\n.vis-item.vis-selected {\n  border-color: #FFC200;\n  background-color: #FFF785;\n  /* z-index must be higher than the z-index of custom time bar and current time bar */\n  z-index: 2;\n}\n\n.vis-editable.vis-selected {\n  cursor: move;\n}\n\n.vis-item.vis-point.vis-selected {\n  background-color: #FFF785;\n}\n\n.vis-item.vis-box {\n  text-align: center;\n  border-style: solid;\n  border-radius: 2px;\n}\n\n.vis-item.vis-point {\n  background: none;\n}\n\n.vis-item.vis-dot {\n  position: absolute;\n  padding: 0;\n  border-width: 4px;\n  border-style: solid;\n  border-radius: 4px;\n}\n\n.vis-item.vis-range {\n  border-style: solid;\n  border-radius: 2px;\n  box-sizing: border-box;\n}\n\n.vis-item.vis-background {\n  border: none;\n  background-color: rgba(213, 221, 246, 0.4);\n  box-sizing: border-box;\n  padding: 0;\n  margin: 0;\n}\n\n.vis-item .vis-item-overflow {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  padding: 0;\n  margin: 0;\n  overflow: hidden;\n}\n\n.vis-item-visible-frame {\n  white-space: nowrap;\n}\n\n.vis-item.vis-range .vis-item-content {\n  position: relative;\n  display: inline-block;\n}\n\n.vis-item.vis-background .vis-item-content {\n  position: absolute;\n  display: inline-block;\n}\n\n.vis-item.vis-line {\n  padding: 0;\n  position: absolute;\n  width: 0;\n  border-left-width: 1px;\n  border-left-style: solid;\n}\n\n.vis-item .vis-item-content {\n  white-space: nowrap;\n  box-sizing: border-box;\n  padding: 5px;\n}\n\n.vis-item .vis-onUpdateTime-tooltip {\n  position: absolute;\n  background: #4f81bd;\n  color: white;\n  width: 200px;\n  text-align: center;\n  white-space: nowrap;\n  padding: 5px;\n  border-radius: 1px;\n  transition: 0.4s;\n  -o-transition: 0.4s;\n  -moz-transition: 0.4s;\n  -webkit-transition: 0.4s;\n}\n\n.vis-item .vis-delete, .vis-item .vis-delete-rtl {\n  position: absolute;\n  top: 0px;\n  width: 24px;\n  height: 24px;\n  box-sizing: border-box;\n  padding: 0px 5px;\n  cursor: pointer;\n  -webkit-transition: background 0.2s linear;\n  -moz-transition: background 0.2s linear;\n  -ms-transition: background 0.2s linear;\n  -o-transition: background 0.2s linear;\n  transition: background 0.2s linear;\n}\n\n.vis-item .vis-delete {\n  right: -24px;\n}\n\n.vis-item .vis-delete-rtl {\n  left: -24px;\n}\n\n.vis-item .vis-delete:after, .vis-item .vis-delete-rtl:after {\n  content: "×"; /* MULTIPLICATION SIGN */\n  color: red;\n  font-family: arial, sans-serif;\n  font-size: 22px;\n  font-weight: bold;\n  -webkit-transition: color 0.2s linear;\n  -moz-transition: color 0.2s linear;\n  -ms-transition: color 0.2s linear;\n  -o-transition: color 0.2s linear;\n  transition: color 0.2s linear;\n}\n\n.vis-item .vis-delete:hover, .vis-item .vis-delete-rtl:hover {\n  background: red;\n}\n\n.vis-item .vis-delete:hover:after, .vis-item .vis-delete-rtl:hover:after {\n  color: white;\n}\n\n.vis-item .vis-drag-center {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0px;\n  cursor: move;\n}\n\n.vis-item.vis-range .vis-drag-left {\n  position: absolute;\n  width: 24px;\n  max-width: 20%;\n  min-width: 2px;\n  height: 100%;\n  top: 0;\n  left: -4px;\n  cursor: w-resize;\n}\n\n.vis-item.vis-range .vis-drag-right {\n  position: absolute;\n  width: 24px;\n  max-width: 20%;\n  min-width: 2px;\n  height: 100%;\n  top: 0;\n  right: -4px;\n  cursor: e-resize;\n}\n\n.vis-range.vis-item.vis-readonly .vis-drag-left,\n.vis-range.vis-item.vis-readonly .vis-drag-right {\n  cursor: auto;\n}\n\n.vis-item.vis-cluster {\n  vertical-align: center;\n  text-align: center;\n  border-style: solid;\n  border-radius: 2px;\n}\n\n.vis-item.vis-cluster-line {\n  padding: 0;\n  position: absolute;\n  width: 0;\n  border-left-width: 1px;\n  border-left-style: solid;\n}\n\n.vis-item.vis-cluster-dot {\n  position: absolute;\n  padding: 0;\n  border-width: 4px;\n  border-style: solid;\n  border-radius: 4px;\n}\n\ndiv.vis-configuration {\n  position: relative;\n  display: block;\n  float: left;\n  font-size: 12px;\n}\n\ndiv.vis-configuration-wrapper {\n  display: block;\n  width: 700px;\n}\n\ndiv.vis-configuration-wrapper::after {\n  clear: both;\n  content: "";\n  display: block;\n}\n\ndiv.vis-configuration.vis-config-option-container {\n  display: block;\n  width: 495px;\n  background-color: #ffffff;\n  border: 2px solid #f7f8fa;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n}\n\ndiv.vis-configuration.vis-config-button {\n  display: block;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n  background-color: #f7f8fa;\n  border: 2px solid #ceced0;\n  border-radius: 4px;\n  margin-top: 20px;\n  left: 10px;\n  padding-left: 5px;\n  cursor: pointer;\n  margin-bottom: 30px;\n}\n\ndiv.vis-configuration.vis-config-button.hover {\n  background-color: #4588e6;\n  border: 2px solid #214373;\n  color: #ffffff;\n}\n\ndiv.vis-configuration.vis-config-item {\n  display: block;\n  float: left;\n  width: 495px;\n  height: 25px;\n  vertical-align: middle;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-item.vis-config-s2 {\n  left: 10px;\n  background-color: #f7f8fa;\n  padding-left: 5px;\n  border-radius: 3px;\n}\n\ndiv.vis-configuration.vis-config-item.vis-config-s3 {\n  left: 20px;\n  background-color: #e4e9f0;\n  padding-left: 5px;\n  border-radius: 3px;\n}\n\ndiv.vis-configuration.vis-config-item.vis-config-s4 {\n  left: 30px;\n  background-color: #cfd8e6;\n  padding-left: 5px;\n  border-radius: 3px;\n}\n\ndiv.vis-configuration.vis-config-header {\n  font-size: 18px;\n  font-weight: bold;\n}\n\ndiv.vis-configuration.vis-config-label {\n  width: 120px;\n  height: 25px;\n  line-height: 25px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s3 {\n  width: 110px;\n}\n\ndiv.vis-configuration.vis-config-label.vis-config-s4 {\n  width: 100px;\n}\n\ndiv.vis-configuration.vis-config-colorBlock {\n  top: 1px;\n  width: 30px;\n  height: 19px;\n  border: 1px solid #444444;\n  border-radius: 2px;\n  padding: 0px;\n  margin: 0px;\n  cursor: pointer;\n}\n\ninput.vis-configuration.vis-config-checkbox {\n  left: -5px;\n}\n\ninput.vis-configuration.vis-config-rangeinput {\n  position: relative;\n  top: -5px;\n  width: 60px;\n  /*height:13px;*/\n  padding: 1px;\n  margin: 0;\n  pointer-events: none;\n}\n\ninput.vis-configuration.vis-config-range {\n  /*removes default webkit styles*/\n  -webkit-appearance: none;\n  /*fix for FF unable to apply focus style bug */\n  border: 0px solid white;\n  background-color: rgba(0, 0, 0, 0);\n  /*required for proper track sizing in FF*/\n  width: 300px;\n  height: 20px;\n}\n\ninput.vis-configuration.vis-config-range::-webkit-slider-runnable-track {\n  width: 300px;\n  height: 5px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #dedede), color-stop(99%, #c8c8c8)); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#dedede", endColorstr="#c8c8c8",GradientType=0 ); /* IE6-9 */\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\n\ninput.vis-configuration.vis-config-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  border: 1px solid #14334b;\n  height: 17px;\n  width: 17px;\n  border-radius: 50%;\n  background: #3876c2; /* Old browsers */\n  background: -moz-linear-gradient(top, #3876c2 0%, #385380 100%); /* FF3.6+ */\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #3876c2), color-stop(100%, #385380)); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(top, #3876c2 0%, #385380 100%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(top, #3876c2 0%, #385380 100%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #3876c2 0%, #385380 100%); /* IE10+ */\n  background: linear-gradient(to bottom, #3876c2 0%, #385380 100%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#3876c2", endColorstr="#385380",GradientType=0 ); /* IE6-9 */\n  box-shadow: #111927 0px 0px 1px 0px;\n  margin-top: -7px;\n}\n\ninput.vis-configuration.vis-config-range:focus {\n  outline: none;\n}\n\ninput.vis-configuration.vis-config-range:focus::-webkit-slider-runnable-track {\n  background: #9d9d9d; /* Old browsers */\n  background: -moz-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #9d9d9d), color-stop(99%, #c8c8c8)); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #9d9d9d 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #9d9d9d 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#9d9d9d", endColorstr="#c8c8c8",GradientType=0 ); /* IE6-9 */\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-track {\n  width: 300px;\n  height: 10px;\n  background: #dedede; /* Old browsers */\n  background: -moz-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* FF3.6+ */\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%, #dedede), color-stop(99%, #c8c8c8)); /* Chrome,Safari4+ */\n  background: -webkit-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Chrome10+,Safari5.1+ */\n  background: -o-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* Opera 11.10+ */\n  background: -ms-linear-gradient(top, #dedede 0%, #c8c8c8 99%); /* IE10+ */\n  background: linear-gradient(to bottom, #dedede 0%, #c8c8c8 99%); /* W3C */\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr="#dedede", endColorstr="#c8c8c8",GradientType=0 ); /* IE6-9 */\n  border: 1px solid #999999;\n  box-shadow: #aaaaaa 0px 0px 3px 0px;\n  border-radius: 3px;\n}\n\ninput.vis-configuration.vis-config-range::-moz-range-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #385380;\n}\n\n/*hide the outline behind the border*/\ninput.vis-configuration.vis-config-range:-moz-focusring {\n  outline: 1px solid white;\n  outline-offset: -1px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-track {\n  width: 300px;\n  height: 5px;\n  /*remove bg colour from the track, we\'ll use ms-fill-lower and ms-fill-upper instead */\n  background: transparent;\n  /*leave room for the larger thumb to overflow with a transparent border */\n  border-color: transparent;\n  border-width: 6px 0;\n  /*remove default tick marks*/\n  color: transparent;\n}\n\ninput.vis-configuration.vis-config-range::-ms-fill-lower {\n  background: #777;\n  border-radius: 10px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-fill-upper {\n  background: #ddd;\n  border-radius: 10px;\n}\n\ninput.vis-configuration.vis-config-range::-ms-thumb {\n  border: none;\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  background: #385380;\n}\n\ninput.vis-configuration.vis-config-range:focus::-ms-fill-lower {\n  background: #888;\n}\n\ninput.vis-configuration.vis-config-range:focus::-ms-fill-upper {\n  background: #ccc;\n}\n\n.vis-configuration-popup {\n  position: absolute;\n  background: rgba(57, 76, 89, 0.85);\n  border: 2px solid #f2faff;\n  line-height: 30px;\n  height: 30px;\n  width: 150px;\n  text-align: center;\n  color: #ffffff;\n  font-size: 14px;\n  border-radius: 4px;\n  -webkit-transition: opacity 0.3s ease-in-out;\n  -moz-transition: opacity 0.3s ease-in-out;\n  transition: opacity 0.3s ease-in-out;\n}\n\n.vis-configuration-popup:after, .vis-configuration-popup:before {\n  left: 100%;\n  top: 50%;\n  border: solid transparent;\n  content: " ";\n  height: 0;\n  width: 0;\n  position: absolute;\n  pointer-events: none;\n}\n\n.vis-configuration-popup:after {\n  border-color: rgba(136, 183, 213, 0);\n  border-left-color: rgba(57, 76, 89, 0.85);\n  border-width: 8px;\n  margin-top: -8px;\n}\n\n.vis-configuration-popup:before {\n  border-color: rgba(194, 225, 245, 0);\n  border-left-color: #f2faff;\n  border-width: 12px;\n  margin-top: -12px;\n}\n\n.vis .overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  /* Must be displayed above for example selected Timeline items */\n  z-index: 10;\n}\n\n.vis-active {\n  box-shadow: 0 0 10px #86d5f8;\n}\n\ndiv.vis-tooltip {\n  position: absolute;\n  visibility: hidden;\n  padding: 5px;\n  white-space: nowrap;\n  font-family: verdana;\n  font-size: 14px;\n  color: #000000;\n  background-color: #f5f4ed;\n  -moz-border-radius: 3px;\n  -webkit-border-radius: 3px;\n  border-radius: 3px;\n  border: 1px solid #808074;\n  box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.2);\n  pointer-events: none;\n  z-index: 5;\n}\n\nside-drawer {\n  background-color: var(--card-background-color);\n}\n\ndiv.control-surround {\n  position: absolute;\n  bottom: 50%;\n  transform: translateY(50%);\n  z-index: 0;\n  padding-top: 20px;\n  padding-bottom: 20px;\n}\n\n:host([location=left]) div.control-surround {\n  padding-right: 12px;\n  left: 100%;\n}\n\n:host([location=right]) div.control-surround {\n  padding-left: 12px;\n  right: 100%;\n}\n\n:host([empty]), :host([empty]) > * {\n  visibility: hidden;\n}\n\n:host(:not([empty])), :host(:not([empty])) > * {\n  visibility: visible;\n}\n\nha-icon.control {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.7);\n  opacity: 0.7;\n  pointer-events: all;\n  --mdc-icon-size: 20px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  transition: opacity 0.5s ease;\n}\n\n:host([open]) ha-icon.control, ha-icon.control:hover {\n  opacity: 1;\n  background-color: black;\n}\n\n:host([location=left]) ha-icon.control {\n  border-top-right-radius: 20px;\n  border-bottom-right-radius: 20px;\n}\n\n:host([location=right]) ha-icon.control {\n  border-top-left-radius: 20px;\n  border-bottom-left-radius: 20px;\n}\n\n:host {\n  --frigate-card-thumbnail-size-max: 175px;\n  --frigate-card-thumbnail-details-width: calc(\n    var(--frigate-card-thumbnail-size) + 200px\n  );\n}\n\n:host {\n  width: 100%;\n  height: 100%;\n  background-color: var(--card-background-color);\n  padding-bottom: 5px;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n}\n\nfrigate-card-thumbnail {\n  height: var(--frigate-card-thumbnail-size);\n  width: var(--frigate-card-thumbnail-size);\n}\n\nfrigate-card-thumbnail[details] {\n  width: var(--frigate-card-thumbnail-details-width);\n}\n\ndiv.timeline {\n  flex: 1;\n}\n\ndiv.timeline.left-margin {\n  margin-left: 21px;\n}\n\ndiv.timeline.right-margin {\n  margin-right: 21px;\n}\n\n.vis-text {\n  color: var(--primary-text-color) !important;\n}\n\n.vis-timeline {\n  border: none;\n}\n\n.vis-labelset .vis-label {\n  color: var(--primary-text-color);\n}\n\n.vis-item {\n  border-color: var(--primary-color);\n  background: none;\n  color: var(--primary-text-color);\n  background-color: var(--primary-color);\n  transition: background-color ease-in-out 1s, border-color ease-in-out 1s, box-shadow ease-in-out 1s;\n}\n\n.vis-item.vis-selected {\n  border-color: var(--accent-color);\n  background-color: var(--accent-color);\n  box-shadow: 0px 0px 5px 1px var(--primary-color);\n}\n\n.vis-item.vis-background {\n  background-color: var(--primary-color);\n  opacity: 0.1;\n}\n\n.vis-item:not(.vis-background) {\n  cursor: pointer;\n}\n\n:host([recordings]) .vis-item.vis-background,\n:host([recordings]) .vis-labelset,\n:host([recordings]) .vis-time-axis {\n  cursor: crosshair;\n}\n\n.vis-item:active {\n  cursor: unset;\n}\n\n.vis-item.vis-box {\n  border: none;\n}\n\n.vis-item .vis-item-content {\n  padding: 0px;\n}\n\n.vis-item.vis-cluster {\n  border-style: dotted;\n  color: var(--primary-text-color);\n  background-color: var(--primary-background-color);\n  box-shadow: 0px 0px 5px 1px var(--primary-color);\n}\n\n.vis-time-axis .vis-grid.vis-minor {\n  border-color: var(--secondary-color);\n}\n\n.vis-text.vis-minor,\n.vis-label {\n  transition: background-color 0.5s ease-out;\n}\n\n:host([recordings]) .vis-text.vis-minor:hover,\n:host([recordings]) .vis-label:hover {\n  background-color: var(--primary-color);\n}\n\n.vis-time-axis .vis-grid.vis-major {\n  border-color: var(--secondary-color);\n}\n\n.vis-label {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\ndiv.vis-tooltip {\n  padding: 0px;\n  background-color: unset;\n  border: none;\n  font-family: unset;\n}')}};t([yt({attribute:!1})],Tk.prototype,"hass",void 0),t([yt({attribute:!1})],Tk.prototype,"view",void 0),t([yt({attribute:!1})],Tk.prototype,"cameras",void 0),t([yt({attribute:!1})],Tk.prototype,"timelineConfig",void 0),Tk=t([vt("frigate-card-timeline-core")],Tk);class Ok extends Map{constructor(t={}){if(super(),!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"==typeof t.maxAge&&0===t.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=t.maxSize,this.maxAge=t.maxAge||Number.POSITIVE_INFINITY,this.onEviction=t.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(t){if("function"==typeof this.onEviction)for(const[e,i]of t)this.onEviction(e,i.value)}_deleteIfExpired(t,e){return"number"==typeof e.expiry&&e.expiry<=Date.now()&&("function"==typeof this.onEviction&&this.onEviction(t,e.value),this.delete(t))}_getOrDeleteIfExpired(t,e){if(!1===this._deleteIfExpired(t,e))return e.value}_getItemValue(t,e){return e.expiry?this._getOrDeleteIfExpired(t,e):e.value}_peek(t,e){const i=e.get(t);return this._getItemValue(t,i)}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(t,e){this.oldCache.delete(t),this._set(t,e)}*_entriesAscending(){for(const t of this.oldCache){const[e,i]=t;if(!this.cache.has(e)){!1===this._deleteIfExpired(e,i)&&(yield t)}}for(const t of this.cache){const[e,i]=t;!1===this._deleteIfExpired(e,i)&&(yield t)}}get(t){if(this.cache.has(t)){const e=this.cache.get(t);return this._getItemValue(t,e)}if(this.oldCache.has(t)){const e=this.oldCache.get(t);if(!1===this._deleteIfExpired(t,e))return this._moveToRecent(t,e),e.value}}set(t,e,{maxAge:i=this.maxAge}={}){const n="number"==typeof i&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;this.cache.has(t)?this.cache.set(t,{value:e,expiry:n}):this._set(t,{value:e,expiry:n})}has(t){return this.cache.has(t)?!this._deleteIfExpired(t,this.cache.get(t)):!!this.oldCache.has(t)&&!this._deleteIfExpired(t,this.oldCache.get(t))}peek(t){return this.cache.has(t)?this._peek(t,this.cache):this.oldCache.has(t)?this._peek(t,this.oldCache):void 0}delete(t){const e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(t){if(!(t&&t>0))throw new TypeError("`maxSize` must be a number greater than 0");const e=[...this._entriesAscending()],i=e.length-t;i<0?(this.cache=new Map(e),this.oldCache=new Map,this._size=e.length):(i>0&&this._emitEvictions(e.slice(0,i)),this.oldCache=new Map(e.slice(i)),this.cache=new Map,this._size=0),this.maxSize=t}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache){const[e,i]=t;!1===this._deleteIfExpired(e,i)&&(yield[e,i.value])}for(const t of this.oldCache){const[e,i]=t;if(!this.cache.has(e)){!1===this._deleteIfExpired(e,i)&&(yield[e,i.value])}}}*entriesDescending(){let t=[...this.cache];for(let e=t.length-1;e>=0;--e){const i=t[e],[n,o]=i;!1===this._deleteIfExpired(n,o)&&(yield[n,o.value])}t=[...this.oldCache];for(let e=t.length-1;e>=0;--e){const i=t[e],[n,o]=i;if(!this.cache.has(n)){!1===this._deleteIfExpired(n,o)&&(yield[n,o.value])}}}*entriesAscending(){for(const[t,e]of this._entriesAscending())yield[t,e.value]}get size(){if(!this._size)return this.oldCache.size;let t=0;for(const e of this.oldCache.keys())this.cache.has(e)||t++;return Math.min(this._size+t,this.maxSize)}entries(){return this.entriesAscending()}forEach(t,e=this){for(const[i,n]of this.entriesAscending())t.call(e,n,i,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}class Rk{constructor(){this._cache=new Ok({maxSize:1e3})}has(t){return this._cache.has(t)}get(t){return this._cache.get(t)}set(t,e){this._cache.set(t,e)}}const Pk=async(t,e,i)=>{if(!e)return null;const n=i?i.get(e.media_content_id):void 0;if(n)return n;const o={type:"media_source/resolve_media",media_content_id:e.media_content_id};let r=null;try{r=await ty(t,Lm,o)}catch(t){Og(t)}return i&&r&&i.set(e.media_content_id,r),r};let Nk=class extends gt{render(){if(!(this.hass&&this.view&&this.cameras&&this.viewerConfig))return;const t=Iy(this,this.hass,this.cameras,this.view.camera);if(!this.view.target){const e=this.view.getMediaType();if(!t||!e)return;return Ey(this,this.hass,this.view,wy(t,{mediaType:e})),Ug()}return K` <frigate-card-surround-thumbnails
      .hass=${this.hass}
      .view=${this.view}
      .config=${this.viewerConfig.controls.thumbnails}
      .cameras=${this.cameras}
    >
      <frigate-card-viewer-carousel
        .hass=${this.hass}
        .view=${this.view}
        .viewerConfig=${this.viewerConfig}
        .browseMediaQueryParameters=${t}
        .resolvedMediaCache=${this.resolvedMediaCache}
      >
      </frigate-card-viewer-carousel>
    </frigate-card-surround-thumbnails>`}static get styles(){return _(":host {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n\nfrigate-card-viewer-carousel {\n  flex: 1;\n  min-height: 0;\n}")}};t([yt({attribute:!1})],Nk.prototype,"hass",void 0),t([yt({attribute:!1})],Nk.prototype,"view",void 0),t([yt({attribute:!1})],Nk.prototype,"viewerConfig",void 0),t([yt({attribute:!1})],Nk.prototype,"cameras",void 0),t([yt({attribute:!1})],Nk.prototype,"resolvedMediaCache",void 0),Nk=t([vt("frigate-card-viewer")],Nk);let Fk=class extends gt{constructor(){super(...arguments),this._refMediaCarousel=zt(),this._slideToChild={},this._mediaResolutionTask=new jy(this,(async([t])=>{var e;for(let i=0;!(null===(e=this.viewerConfig)||void 0===e?void 0:e.lazy_load)&&this.hass&&t&&t.children&&i<(t.children||[]).length;++i)my(t.children[i])&&await Pk(this.hass,t.children[i],this.resolvedMediaCache)}),(()=>{var t;return[null===(t=this.view)||void 0===t?void 0:t.target]}))}updated(t){var e,i,n;const o=null===(e=this._refMediaCarousel.value)||void 0===e?void 0:e.frigateCardCarousel();if(o&&t.has("view")){const e=t.get("view");if(e&&e.target===(null===(i=this.view)||void 0===i?void 0:i.target)&&this.view.childIndex!=e.childIndex){const t=this._getSlideForChild(this.view.childIndex);null!==t&&t!==(null===(n=o.getCarouselSelected())||void 0===n?void 0:n.index)&&o.carouselScrollTo(t)}}super.updated(t)}_getSlideForChild(t){if(null==t)return null;const e=Object.keys(this._slideToChild).find((e=>this._slideToChild[e]===t));return void 0!==e?Number(e):null}_getTransitionEffect(){var t,e;return null!==(e=null===(t=this.viewerConfig)||void 0===t?void 0:t.transition_effect)&&void 0!==e?e:Pm.media_viewer.transition_effect}_getOptions(){var t,e,i,n;return{startIndex:null!==(e=this._getSlideForChild(null===(t=this.view)||void 0===t?void 0:t.childIndex))&&void 0!==e?e:0,draggable:null===(n=null===(i=this.viewerConfig)||void 0===i?void 0:i.draggable)||void 0===n||n}}_getPlayer(t){var e,i,n,o;return t||(t=null===(n=null===(i=null===(e=this._refMediaCarousel.value)||void 0===e?void 0:e.frigateCardCarousel())||void 0===i?void 0:i.getCarouselSelected())||void 0===n?void 0:n.element),null!==(o=null==t?void 0:t.querySelector("frigate-card-ha-hls-player"))&&void 0!==o?o:null}_getPlugins(){var t,e,i,n,o;return[...this.view&&this.view.target&&this.view.target.children&&this.view.target.children.length>1?[W_({forceWheelAxis:"y"})]:[],iw(Object.assign({},(null===(t=this.viewerConfig)||void 0===t?void 0:t.lazy_load)&&{lazyLoadCallback:this._lazyloadSlide.bind(this)})),tw(Object.assign(Object.assign(Object.assign(Object.assign({playerSelector:"frigate-card-ha-hls-player"},(null===(e=this.viewerConfig)||void 0===e?void 0:e.auto_play)&&{autoPlayCondition:this.viewerConfig.auto_play}),(null===(i=this.viewerConfig)||void 0===i?void 0:i.auto_pause)&&{autoPauseCondition:this.viewerConfig.auto_pause}),(null===(n=this.viewerConfig)||void 0===n?void 0:n.auto_mute)&&{autoMuteCondition:this.viewerConfig.auto_mute}),(null===(o=this.viewerConfig)||void 0===o?void 0:o.auto_unmute)&&{autoUnmuteCondition:this.viewerConfig.auto_unmute}))]}_getMediaNeighbors(){if(!this.view||!this.view.target||!this.view.target.children||null===this.view.childIndex)return null;let t=null;for(let e=this.view.childIndex-1;e>=0;e--){const i=this.view.target.children[e];if(i&&my(i)){t=e;break}}let e=null;for(let t=this.view.childIndex+1;t<this.view.target.children.length;t++){const i=this.view.target.children[t];if(i&&my(i)){e=t;break}}return{previousIndex:t,previous:null!=t?this.view.target.children[t]:null,nextIndex:e,next:null!=e?this.view.target.children[e]:null}}async _findRelatedClipView(t){if(!(this.hass&&this.view&&this.view.target&&this.view.target.children&&this.view.target.children.length&&this.browseMediaQueryParameters))return null;const e=py(t);if(!e)return null;let i,n=null,o=null;for(let t=0;t<this.view.target.children.length;t++){const e=this.view.target.children[t];if(!my(e))continue;const i=py(e);i&&(null===n||i<n)&&(n=i),i&&(null===o||i>o)&&(o=i)}if(!n||!o)return null;const r=wy(this.browseMediaQueryParameters,{mediaType:"clips",before:o,after:n});try{i=await by(this.hass,r)}catch(t){return null}if(!i||!i.children||!i.children.length)return null;for(let t=0;t<i.children.length;t++){const n=i.children[t];if(!my(n))continue;const o=py(n);if(o&&o===e)return this.view.evolve({view:"clip",target:i,childIndex:t})}return null}_setViewHandler(){var t,e;if(!this._refMediaCarousel.value||!this.view)return;const i=null===(e=null===(t=this._refMediaCarousel.value.frigateCardCarousel())||void 0===t?void 0:t.getCarouselSelected())||void 0===e?void 0:e.index;if(void 0!==i){const t=this._slideToChild[i];void 0!==t&&this.view.evolve({childIndex:t}).dispatchChangeEvent(this)}}_canonicalizeHAURL(t){return this.hass&&t&&t.startsWith("/")?this.hass.hassUrl(t):t}_lazyloadSlide(t,e){const i=this._slideToChild[t];void 0!==i&&this.hass&&this.view&&this.view.target&&this.view.target.children&&my(this.view.target.children[i])&&Pk(this.hass,this.view.target.children[i],this.resolvedMediaCache).then((t=>{if(!t)return;const i=e.querySelector("img"),n=this._getPlayer(e);i?i.src=this._canonicalizeHAURL(t.url)||"":n&&(n.url=this._canonicalizeHAURL(t.url)||"")}))}_getSlides(){var t;if(!(this.view&&this.view.target&&this.view.target.children&&this.view.target.children.length))return[[],{}];const e={},i=[];for(let n=0;n<(null===(t=this.view.target.children)||void 0===t?void 0:t.length);++n){const t=this._renderMediaItem(this.view.target.children[n],i.length);t&&(e[i.length]=n,i.push(t))}return[i,e]}_isMediaFullyResolved(){var t,e,i;for(const n of(null===(e=null===(t=this.view)||void 0===t?void 0:t.target)||void 0===e?void 0:e.children)||[])if(!(null===(i=this.resolvedMediaCache)||void 0===i?void 0:i.has(n.media_content_id)))return!1;return!0}willUpdate(t){var e;t.has("viewerConfig")&&Zy(this,null===(e=this.viewerConfig)||void 0===e?void 0:e.layout)}render(){var t;return this._slideToChild={},(null===(t=this.viewerConfig)||void 0===t?void 0:t.lazy_load)||this._isMediaFullyResolved()?this._render():Fy(this,this._mediaResolutionTask,this._render.bind(this))}_render(){var t,e,i,n,o,r,s;const[a,l]=this._getSlides();if(this._slideToChild=l,!a.length||!(null===(t=this.view)||void 0===t?void 0:t.media))return;const d=this._getMediaNeighbors(),[c,h]=[null==d?void 0:d.previous,null==d?void 0:d.next];return K` <frigate-card-media-carousel
      ${Gt(this._refMediaCarousel)}
      .carouselOptions=${J_([this.viewerConfig],this._getOptions.bind(this))}
      .carouselPlugins=${J_([this.viewerConfig,null===(n=null===(i=null===(e=this.view)||void 0===e?void 0:e.target)||void 0===i?void 0:i.children)||void 0===n?void 0:n.length],this._getPlugins.bind(this))}
      .label="${this.view.media.title}"
      .titlePopupConfig=${null===(o=this.viewerConfig)||void 0===o?void 0:o.controls.title}
      transitionEffect=${this._getTransitionEffect()}
      @frigate-card:media-carousel:select=${this._setViewHandler.bind(this)}
      @frigate-card:media:loaded=${this._recordingSeekHandler.bind(this)}
    >
      <frigate-card-next-previous-control
        slot="previous"
        .hass=${this.hass}
        .direction=${"previous"}
        .controlConfig=${null===(r=this.viewerConfig)||void 0===r?void 0:r.controls.next_previous}
        .thumbnail=${c&&c.thumbnail?c.thumbnail:void 0}
        .label=${c?c.title:""}
        ?disabled=${!c}
        @click=${t=>{var e,i;null===(i=null===(e=this._refMediaCarousel.value)||void 0===e?void 0:e.frigateCardCarousel())||void 0===i||i.carouselScrollPrevious(),Vm(t)}}
      ></frigate-card-next-previous-control>
      ${a}
      <frigate-card-next-previous-control
        slot="next"
        .hass=${this.hass}
        .direction=${"next"}
        .controlConfig=${null===(s=this.viewerConfig)||void 0===s?void 0:s.controls.next_previous}
        .thumbnail=${h&&h.thumbnail?h.thumbnail:void 0}
        .label=${h?h.title:""}
        ?disabled=${!h}
        @click=${t=>{var e,i;null===(i=null===(e=this._refMediaCarousel.value)||void 0===e?void 0:e.frigateCardCarousel())||void 0===i||i.carouselScrollNext(),Vm(t)}}
      ></frigate-card-next-previous-control>
    </frigate-card-media-carousel>`}_recordingSeekHandler(){var t,e;const i=this._getPlayer();i&&i.media&&(null===(e=null===(t=i.media.frigate)||void 0===t?void 0:t.recording)||void 0===e?void 0:e.seek_seconds)&&i.seek(i.media.frigate.recording.seek_seconds)}_renderMediaItem(t,e){var i;if(!(this.hass&&this.view&&this.viewerConfig&&my(t)&&["video","image"].includes(t.media_content_type)))return;const n=this.viewerConfig.lazy_load,o=null===(i=this.resolvedMediaCache)||void 0===i?void 0:i.get(t.media_content_id);return o||n?K`
      <div class="embla__slide">
        ${"video"===t.media_content_type?K`<frigate-card-ha-hls-player
              allow-exoplayer
              aria-label="${t.title}"
              ?autoplay=${!1}
              controls
              muted
              playsinline
              title="${t.title}"
              url=${nw(n?void 0:this._canonicalizeHAURL(null==o?void 0:o.url))}
              .media=${t}
              .hass=${this.hass}
              @frigate-card:media:loaded=${t=>{lw(e,t)}}
            >
            </frigate-card-ha-hls-player>`:K`<img
              aria-label="${t.title}"
              src=${nw(n?sw:this._canonicalizeHAURL(null==o?void 0:o.url))}
              title="${t.title}"
              @click=${()=>{var e,i;(null===(i=null===(e=this._refMediaCarousel.value)||void 0===e?void 0:e.frigateCardCarousel())||void 0===i?void 0:i.carouselClickAllowed())&&this._findRelatedClipView(t).then((t=>{t&&t.dispatchChangeEvent(this)}))}}
              @load="${t=>{var i,o,r;const s=null===(r=null===(o=null===(i=this._refMediaCarousel.value)||void 0===i?void 0:i.frigateCardCarousel())||void 0===o?void 0:o.getCarouselPlugins())||void 0===r?void 0:r.lazyload;n&&!(null==s?void 0:s.hasLazyloaded(e))||((t,e)=>{const i=Xy(e);i&&aw(e.composedPath()[0],{slide:t,mediaLoadedInfo:i})})(e,t)}}"
            />`}
      </div>
    `:void 0}static get styles(){return _(".embla__slide {\n  height: 100%;\n  flex: 0 0 100%;\n}\n\n.embla__slide img {\n  display: block;\n  width: 100%;\n  height: 100%;\n  object-fit: var(--frigate-card-media-layout-fit, contain);\n  object-position: var(--frigate-card-media-layout-position-x, 50%) var(--frigate-card-media-layout-position-y, 50%);\n}")}};t([yt({attribute:!1})],Fk.prototype,"hass",void 0),t([yt({attribute:!1})],Fk.prototype,"view",void 0),t([yt({attribute:!1,hasChanged:Tg})],Fk.prototype,"viewerConfig",void 0),t([yt({attribute:!1})],Fk.prototype,"browseMediaQueryParameters",void 0),t([yt({attribute:!1})],Fk.prototype,"resolvedMediaCache",void 0),Fk=t([vt("frigate-card-viewer-carousel")],Fk);const Lk=(t,e,i)=>{Pc(t,e,i)},jk=(t,e,i)=>so(t,e,i),zk=(t,e)=>{let i=e,n=t;if(e&&e.split&&e.includes(".")){const o=e.split(".");i=o[o.length-1],n=jk(t,o.slice(0,-1).join("."))}n&&"object"==typeof n&&delete n[i]},Uk=function(t){let e=!1;for(let i=0;i<oS.length;i++)e=oS[i](t)||e;return Gk(t),e},Hk=function(t){const e=JSON.parse(JSON.stringify(t));return Uk(e)},Gk=function(t){const e=Object.keys(t);let i=!1;for(let n=0;n<e.length;n++){const o=e[n];"object"==typeof t[o]&&null!=t[o]&&(i||(i=Gk(t[o])),Object.keys(t[o]).length||(delete t[o],i=!0))}return i},qk=function(t){return ms(t)},Yk=function(t,e,i){return n=>{let o=t(n);return"number"!=typeof o||(o=e?Math.max(e,o):o,o=i?Math.min(i,o):o),o}},$k=function(t){if("number"!=typeof t)return"string"!=typeof t?null:(t=t.replace(/px$/i,""),isNaN(t)?null:Number(t))},Wk=function(t){return null},Vk=(t,e,i,n)=>{const o=jk(t,e);if(void 0===o)return!1;const r=(null==n?void 0:n.transform)?n.transform(o):o;return(e!==i||!Yl(o,r))&&(null===r?!(null==n?void 0:n.keepOriginal)&&(zk(t,e),!0):void 0!==r&&((null==n?void 0:n.keepOriginal)||zk(t,e),Lk(t,i,r),!0))},Jk=(t,e)=>t.replace("#",`[${e.toString()}]`),Kk=function(t,e,i){return function(n){return Vk(n,t,e,i)}},Zk=function(t,e,i){return function(n){let o=Kk(t,e,i)(n);return o=eS("overrides",Kk(t,e,i),(t=>t.overrides))(n)||o,o}},Xk=function(t,e){return Zk(t,t,{transform:e})},tS=function(t,e){return Kk(t,t,{transform:e})},eS=function(t,e,i){return function(n){let o=!1;const r=jk(n,t);return Array.isArray(r)&&r.forEach((t=>{const n=i?i(t):t;n&&"object"==typeof n&&(o=e(n)||o)})),o}},iS=function(t){if("object"!=typeof t)return"boolean"!=typeof t?null:{enabled:t}},nS=t=>{const e=`${t}.show_controls`;return function(i){let n=!1;return n=Zk(e,`${t}.show_favorite_control`,{keepOriginal:!0})(i)||n,n=Zk(e,`${t}.show_timeline_control`,{keepOriginal:!0})(i)||n,Xk(e,Wk)(i)||n}},oS=[Kk("frigate_url","frigate.url"),Kk("frigate_client_id","frigate.client_id"),Kk("frigate_camera_name","frigate.camera_name"),Kk("label","frigate.label"),Kk("zone","frigate.zone"),Kk("view_default","view.default"),Kk("view_timeout","view.timeout"),Kk("live_provider","live.provider"),Kk("live_preload","live.preload"),Kk("webrtc","live.webrtc"),Kk("autoplay_clip","event_viewer.autoplay_clip"),Kk("controls.nextprev","event_viewer.controls.next_previous.style"),Kk("controls.nextprev_size","event_viewer.controls.next_previous.size"),Kk("menu_mode","menu.mode"),Kk("menu_buttons","menu.buttons"),Kk("menu_button_size","menu.button_size"),Kk("image","image.src",{transform:function(t){return"object"!=typeof t?t:void 0}}),Kk("update_entities","view.update_entities"),function(t){let e=!1;if(void 0!==jk(t,"cameras"))return!1;const i={camera_entity:"cameras.#.camera_entity","frigate.camera_name":"cameras.#.camera_name","frigate.client_id":"cameras.#.client_id","frigate.label":"cameras.#.label","frigate.url":"cameras.#.frigate_url","frigate.zone":"cameras.#.zone","live.webrtc.entity":"cameras.#.webrtc.entity","live.webrtc.url":"cameras.#.webrtc.url","live.provider":"cameras.#.live_provider"};return Object.keys(i).forEach((n=>{e=Vk(t,n,Jk(i[n],0))||e})),e},function(t){const e=jk(t,"menu.conditions");if(void 0===e)return!1;const i=jk(t,"overrides")||[];return Lk(t,`overrides.[${i.length}]`,{conditions:e,overrides:{menu:{mode:"none"}}}),zk(t,"menu.conditions"),!0},Kk("view.timeout","view.timeout_seconds",{transform:function(t){return isNaN(t)?void 0:Number(t)}}),Kk("event_viewer.autoplay_clip","event_viewer.auto_play"),eS("cameras",Xk("live_provider",(t=>"frigate"===t?"ha":"webrtc"===t?"webrtc-card":t))),eS("cameras",Kk("webrtc","webrtc_card")),Zk("live.webrtc","live.webrtc_card"),Zk("image.src","image.url"),Xk("live.controls.thumbnails.size",Yk($k,75,175)),Xk("event_viewer.controls.thumbnails.size",Yk($k,75,175)),Xk("live.controls.next_previous.size",Yk($k,20)),Xk("event_viewer.controls.next_previous.size",Yk($k,20)),Xk("menu.button_size",Yk($k,20)),Xk("event_gallery.min_columns",Wk),function(t){let e=!1;return e=Zk("menu.mode","menu.style",{transform:t=>{if("string"==typeof t){const e=t.match(/^(hover|hidden|overlay|above|below|none)/);if(e)switch(e[1]){case"hover":case"hidden":case"overlay":case"none":return e[1];case"above":case"below":return"outside"}}},keepOriginal:!0})(t)||e,e=Zk("menu.mode","menu.position",{transform:t=>{if("string"==typeof t){const e=t.match(/(above|below|left|right|top|bottom)$/);if(e)switch(e[1]){case"left":case"right":case"top":case"bottom":return e[1];case"above":return"top";case"below":return"bottom"}}},keepOriginal:!0})(t)||e,Xk("menu.mode",Wk)(t)||e},Xk("menu.buttons.frigate",iS),Xk("menu.buttons.cameras",iS),Xk("menu.buttons.live",iS),Xk("menu.buttons.clips",iS),Xk("menu.buttons.snapshots",iS),Xk("menu.buttons.image",iS),Xk("menu.buttons.download",iS),Xk("menu.buttons.frigate_ui",iS),Xk("menu.buttons.fullscreen",iS),tS("live.lazy_unload",(t=>"boolean"==typeof t?t?"all":"never":void 0)),tS("live.auto_unmute",(t=>"boolean"==typeof t?t?"all":"never":void 0)),tS("event_viewer.auto_play",(t=>"boolean"==typeof t?t?"all":"never":void 0)),tS("event_viewer.auto_unmute",(t=>"boolean"==typeof t?t?"all":"never":void 0)),Zk("event_viewer","media_viewer"),eS("cameras",Kk("camera_name","frigate.camera_name")),eS("cameras",Kk("client_id","frigate.client_id")),eS("cameras",Kk("label","frigate.label")),eS("cameras",Kk("frigate_url","frigate.url")),eS("cameras",Kk("zone","frigate.zone")),nS("event_gallery.controls.thumbnails"),nS("media_viewer.controls.thumbnails"),nS("live.controls.thumbnails"),nS("timeline.controls.thumbnails")];const rS={cameras:{icon:"video",name:Sg("editor.cameras"),secondary:Sg("editor.cameras_secondary")},view:{icon:"eye",name:Sg("editor.view"),secondary:Sg("editor.view_secondary")},menu:{icon:"menu",name:Sg("editor.menu"),secondary:Sg("editor.menu_secondary")},live:{icon:"cctv",name:Sg("editor.live"),secondary:Sg("editor.live_secondary")},media_viewer:{icon:"filmstrip",name:Sg("editor.media_viewer"),secondary:Sg("editor.media_viewer_secondary")},event_gallery:{icon:"grid",name:Sg("editor.event_gallery"),secondary:Sg("editor.event_gallery_secondary")},image:{icon:"image",name:Sg("editor.image"),secondary:Sg("editor.image_secondary")},timeline:{icon:"chart-gantt",name:Sg("editor.timeline"),secondary:Sg("editor.timeline_secondary")},dimensions:{icon:"aspect-ratio",name:Sg("editor.dimensions"),secondary:Sg("editor.dimensions_secondary")},overrides:{icon:"file-replace",name:Sg("editor.overrides"),secondary:Sg("editor.overrides_secondary")}};let sS=class extends gt{constructor(){super(...arguments),this._initialized=!1,this._configUpgradeable=!1,this._expandedMenus={},this._viewModes=[{value:"",label:""},{value:"live",label:Sg("config.view.views.live")},{value:"clips",label:Sg("config.view.views.clips")},{value:"snapshots",label:Sg("config.view.views.snapshots")},{value:"clip",label:Sg("config.view.views.clip")},{value:"snapshot",label:Sg("config.view.views.snapshot")},{value:"image",label:Sg("config.view.views.image")},{value:"timeline",label:Sg("config.view.views.timeline")}],this._cameraSelectViewModes=[...this._viewModes,{value:"current",label:Sg("config.view.views.current")}],this._menuStyles=[{value:"",label:""},{value:"none",label:Sg("config.menu.styles.none")},{value:"hidden",label:Sg("config.menu.styles.hidden")},{value:"overlay",label:Sg("config.menu.styles.overlay")},{value:"hover",label:Sg("config.menu.styles.hover")},{value:"outside",label:Sg("config.menu.styles.outside")}],this._menuPositions=[{value:"",label:""},{value:"left",label:Sg("config.menu.positions.left")},{value:"right",label:Sg("config.menu.positions.right")},{value:"top",label:Sg("config.menu.positions.top")},{value:"bottom",label:Sg("config.menu.positions.bottom")}],this._menuAlignments=[{value:"",label:""},{value:"left",label:Sg("config.menu.alignments.left")},{value:"right",label:Sg("config.menu.alignments.right")},{value:"top",label:Sg("config.menu.alignments.top")},{value:"bottom",label:Sg("config.menu.alignments.bottom")}],this._eventViewerNextPreviousControlStyles=[{value:"",label:""},{value:"thumbnails",label:Sg("config.media_viewer.controls.next_previous.styles.thumbnails")},{value:"chevrons",label:Sg("config.media_viewer.controls.next_previous.styles.chevrons")},{value:"none",label:Sg("config.media_viewer.controls.next_previous.styles.none")}],this._liveNextPreviousControlStyles=[{value:"",label:""},{value:"chevrons",label:Sg("config.live.controls.next_previous.styles.chevrons")},{value:"icons",label:Sg("config.live.controls.next_previous.styles.icons")},{value:"none",label:Sg("config.live.controls.next_previous.styles.none")}],this._aspectRatioModes=[{value:"",label:""},{value:"dynamic",label:Sg("config.dimensions.aspect_ratio_modes.dynamic")},{value:"static",label:Sg("config.dimensions.aspect_ratio_modes.static")},{value:"unconstrained",label:Sg("config.dimensions.aspect_ratio_modes.unconstrained")}],this._thumbnailModes=[{value:"",label:""},{value:"none",label:Sg("config.media_viewer.controls.thumbnails.modes.none")},{value:"above",label:Sg("config.media_viewer.controls.thumbnails.modes.above")},{value:"below",label:Sg("config.media_viewer.controls.thumbnails.modes.below")},{value:"left",label:Sg("config.media_viewer.controls.thumbnails.modes.left")},{value:"right",label:Sg("config.media_viewer.controls.thumbnails.modes.right")}],this._thumbnailMedias=[{value:"",label:""},{value:"clips",label:Sg("config.live.controls.thumbnails.medias.clips")},{value:"snapshots",label:Sg("config.live.controls.thumbnails.medias.snapshots")}],this._titleModes=[{value:"",label:""},{value:"none",label:Sg("config.media_viewer.controls.title.modes.none")},{value:"popup-top-left",label:Sg("config.media_viewer.controls.title.modes.popup-top-left")},{value:"popup-top-right",label:Sg("config.media_viewer.controls.title.modes.popup-top-right")},{value:"popup-bottom-left",label:Sg("config.media_viewer.controls.title.modes.popup-bottom-left")},{value:"popup-bottom-right",label:Sg("config.media_viewer.controls.title.modes.popup-bottom-right")}],this._transitionEffects=[{value:"",label:""},{value:"none",label:Sg("config.media_viewer.transition_effects.none")},{value:"slide",label:Sg("config.media_viewer.transition_effects.slide")}],this._imageModes=[{value:"",label:""},{value:"camera",label:Sg("config.image.modes.camera")},{value:"screensaver",label:Sg("config.image.modes.screensaver")},{value:"url",label:Sg("config.image.modes.url")}],this._timelineMediaTypes=[{value:"",label:""},{value:"all",label:Sg("config.timeline.medias.all")},{value:"clips",label:Sg("config.timeline.medias.clips")},{value:"snapshots",label:Sg("config.timeline.medias.snapshots")}],this._darkModes=[{value:"",label:""},{value:"on",label:Sg("config.view.dark_modes.on")},{value:"off",label:Sg("config.view.dark_modes.off")},{value:"auto",label:Sg("config.view.dark_modes.auto")}],this._mediaActionNegativeConditions=[{value:"",label:""},{value:"all",label:Sg("config.common.media_action_conditions.all")},{value:"unselected",label:Sg("config.common.media_action_conditions.unselected")},{value:"hidden",label:Sg("config.common.media_action_conditions.hidden")},{value:"never",label:Sg("config.common.media_action_conditions.never")}],this._mediaActionPositiveConditions=[{value:"",label:""},{value:"all",label:Sg("config.common.media_action_conditions.all")},{value:"selected",label:Sg("config.common.media_action_conditions.selected")},{value:"visible",label:Sg("config.common.media_action_conditions.visible")},{value:"never",label:Sg("config.common.media_action_conditions.never")}],this._layoutFits=[{value:"",label:""},{value:"contain",label:Sg("config.common.layout.fits.contain")},{value:"cover",label:Sg("config.common.layout.fits.cover")},{value:"fill",label:Sg("config.common.layout.fits.fill")}]}setConfig(t){this._config=t,this._configUpgradeable=Hk(t)}willUpdate(){this._initialized||dy().then((t=>{t&&(this._initialized=!0)}))}_renderOptionSetHeader(t){const e=rS[t];return K`
      <div
        class="option option-${t}"
        @click=${this._toggleMenu}
        .domain=${"options"}
        .key=${t}
      >
        <div class="row">
          <ha-icon .icon=${`mdi:${e.icon}`}></ha-icon>
          <div class="title">${e.name}</div>
        </div>
        <div class="secondary">${e.secondary}</div>
      </div>
    `}_getLabel(t){const e=t.split(".").filter((t=>!t.match(/^\[[0-9]+\]$/))).join(".");return Sg(`config.${e}`)}_renderEntitySelector(t,e){if(this._config)return K`
      <ha-selector
        .hass=${this.hass}
        .selector=${{entity:{domain:e}}}
        .label=${this._getLabel(t)}
        .value=${jk(this._config,t,"")}
        .required=${!1}
        @value-changed=${e=>this._valueChangedHandler(t,e)}
      >
      </ha-selector>
    `}_renderOptionSelector(t,e,i){if(this._config)return K`
      <ha-selector
        .hass=${this.hass}
        .selector=${{select:{mode:"dropdown",multiple:!!(null==i?void 0:i.multiple),options:e}}}
        .label=${(null==i?void 0:i.label)||this._getLabel(t)}
        .value=${jk(this._config,t,"")}
        .required=${!1}
        @value-changed=${e=>this._valueChangedHandler(t,e)}
      >
      </ha-selector>
    `}_renderIconSelector(t,e){if(this._config)return K`
      <ha-selector
        .hass=${this.hass}
        .selector=${{icon:{}}}
        .label=${(null==e?void 0:e.label)||this._getLabel(t)}
        .value=${jk(this._config,t,"")}
        .required=${!1}
        @value-changed=${e=>this._valueChangedHandler(t,e)}
      >
      </ha-selector>
    `}_renderNumberInput(t,e){if(!this._config)return;const i=jk(this._config,t),n=void 0===(null==e?void 0:e.max)?"box":"slider";return K`
      <ha-selector
        .hass=${this.hass}
        .selector=${{number:{min:(null==e?void 0:e.min)||0,max:null==e?void 0:e.max,mode:n}}}
        .label=${(null==e?void 0:e.label)||this._getLabel(t)}
        .value=${null!=i?i:null==e?void 0:e.default}
        .required=${!1}
        @value-changed=${e=>this._valueChangedHandler(t,e)}
      >
      </ha-selector>
    `}_renderInfo(t){return K` <span class="info">${t}</span>`}_getEditorCameraTitle(t,e){return uy(this.hass,e)||Sg("editor.camera")+" #"+t}_renderViewScanMenu(){const t={submenu:!0,selected:!!this._expandedMenus.scan};return K`
      <div class="${Dt(t)}">
        <div
          class="submenu-header"
          @click=${this._toggleMenu}
          .domain=${"scan"}
          .key=${!0}
        >
          <ha-icon .icon=${"mdi:target-account"}></ha-icon>
          <span>${Sg("config.view.scan.scan_mode")}</span>
        </div>
        ${this._expandedMenus.scan?K` <div class="values">
              ${this._renderSwitch("view.scan.enabled",Pm.view.scan.enabled,{label:Sg("config.view.scan.enabled")})}
              ${this._renderSwitch("view.scan.show_trigger_status",Pm.view.scan.show_trigger_status,{label:Sg("config.view.scan.show_trigger_status")})}
              ${this._renderSwitch("view.scan.untrigger_reset",Pm.view.scan.untrigger_reset)}
              ${this._renderNumberInput("view.scan.untrigger_seconds",{default:Pm.view.scan.untrigger_seconds})}
            </div>`:""}
      </div>
    `}_renderMenuButton(t){var e,i,n;const o=[{value:"",label:""},{value:"matching",label:Sg("config.menu.buttons.alignments.matching")},{value:"opposing",label:Sg("config.menu.buttons.alignments.opposing")}],r={submenu:!0,selected:this._expandedMenus.buttons===t};return K`
      <div class="${Dt(r)}">
        <div
          class="submenu-header"
          @click=${this._toggleMenu}
          .domain=${"buttons"}
          .key=${t}
        >
          <ha-icon .icon=${"mdi:gesture-tap-button"}></ha-icon>
          <span
            >${Sg("editor.button")+": "+Sg(`config.menu.buttons.${t}`)}</span
          >
        </div>

        ${this._expandedMenus.buttons===t?K` <div class="values">
              ${this._renderSwitch(`menu.buttons.${t}.enabled`,null===(i=null===(e=Pm.menu.buttons[t])||void 0===e?void 0:e.enabled)||void 0===i||i,{label:Sg("config.menu.buttons.enabled")})}
              ${this._renderOptionSelector(`menu.buttons.${t}.alignment`,o,{label:Sg("config.menu.buttons.alignment")})}
              ${this._renderNumberInput(`menu.buttons.${t}.priority`,{max:100,default:null===(n=Pm.menu.buttons[t])||void 0===n?void 0:n.priority,label:Sg("config.menu.buttons.priority")})}
              ${this._renderIconSelector(`menu.buttons.${t}.icon`,{label:Sg("config.menu.buttons.icon")})}
            </div>`:""}
      </div>
    `}_putInSubmenu(t,e,i,n,o){const r=this._expandedMenus[t]===e;return K` <div class="${Dt({submenu:!0,selected:r})}">
      <div
        class="submenu-header"
        @click=${this._toggleMenu}
        .domain=${t}
        .key=${e}
      >
        ${n.name?K` <ha-icon .icon=${n.name}></ha-icon> `:n.path?K` <ha-svg-icon .path="${n.path}"></ha-svg-icon> `:""}
        <span>${Sg(i)}</span>
      </div>
      ${r?K`<div class="values">${o}</div>`:""}
    </div>`}_renderMediaLayout(t,e,i,n,o){return this._putInSubmenu(t,!0,e,{name:"mdi:page-layout-body"},K`
        ${this._renderOptionSelector(i,this._layoutFits)}
        ${this._renderNumberInput(n,{min:0,max:100,label:Sg("config.common.layout.position.x")})}
        ${this._renderNumberInput(o,{min:0,max:100,label:Sg("config.common.layout.position.y")})}
      `)}_renderCamera(t,e,i,n){const o=[{value:"",label:""},{value:"auto",label:Sg("config.cameras.live_providers.auto")},{value:"ha",label:Sg("config.cameras.live_providers.ha")},{value:"frigate-jsmpeg",label:Sg("config.cameras.live_providers.frigate-jsmpeg")},{value:"webrtc-card",label:Sg("config.cameras.live_providers.webrtc-card")}],r=[];t.forEach(((t,i)=>{i!==e&&r.push({value:hy(t),label:this._getEditorCameraTitle(i,t)})}));const s=t=>{if(this._config){const e=qk(this._config);t(e)&&this._updateConfig(e)}},a={submenu:!0,selected:this._expandedMenus.cameras===e};return K`
      <div class="${Dt(a)}">
        <div
          class="submenu-header"
          @click=${this._toggleMenu}
          .domain=${"cameras"}
          .key=${e}
        >
          <ha-icon .icon=${n?"mdi:video-plus":"mdi:video"}></ha-icon>
          <span>
            ${n?K` <span class="new-camera">
                  [${Sg("editor.add_new_camera")}...]
                </span>`:K`<span
                  >${this._getEditorCameraTitle(e,t[e]||{})}</span
                >`}
          </span>
        </div>
        ${this._expandedMenus.cameras===e?K` <div class="values">
              <div class="controls">
                <ha-icon-button
                  class="button"
                  .label=${Sg("editor.move_up")}
                  .disabled=${n||!this._config||!Array.isArray(this._config.cameras)||e<=0}
                  @click=${()=>!n&&s((t=>!!(Array.isArray(t.cameras)&&e>0)&&(Mg(t.cameras,e,e-1),this._openMenu("cameras",e-1),!0)))}
                >
                  <ha-icon icon="mdi:arrow-up"></ha-icon>
                </ha-icon-button>
                <ha-icon-button
                  class="button"
                  .label=${Sg("editor.move_down")}
                  .disabled=${n||!this._config||!Array.isArray(this._config.cameras)||e>=this._config.cameras.length-1}
                  @click=${()=>!n&&s((t=>!!(Array.isArray(t.cameras)&&e<t.cameras.length-1)&&(Mg(t.cameras,e,e+1),this._openMenu("cameras",e+1),!0)))}
                >
                  <ha-icon icon="mdi:arrow-down"></ha-icon>
                </ha-icon-button>
                <ha-icon-button
                  class="button"
                  .label=${Sg("editor.delete")}
                  .disabled=${n}
                  @click=${()=>{s((t=>!!Array.isArray(t.cameras)&&(t.cameras.splice(e,1),this._closeMenu("cameras"),!0)))}}
                >
                  <ha-icon icon="mdi:delete"></ha-icon>
                </ha-icon-button>
              </div>
              ${this._renderEntitySelector(Jk("cameras.#.camera_entity",e),"camera")}
              ${this._renderOptionSelector(Jk("cameras.#.live_provider",e),o)}
              ${this._renderStringInput(Jk("cameras.#.title",e))}
              ${this._renderIconSelector(Jk("cameras.#.icon",e),{label:Sg("config.cameras.icon")})}
              ${this._renderStringInput(Jk("cameras.#.id",e))}
              ${this._putInSubmenu("cameras.frigate",e,"config.cameras.frigate.options",{path:Dy},K`
                  ${this._renderStringInput(Jk("cameras.#.frigate.camera_name",e))}
                  ${this._renderStringInput(Jk("cameras.#.frigate.url",e))}
                  ${this._renderStringInput(Jk("cameras.#.frigate.label",e))}
                  ${this._renderStringInput(Jk("cameras.#.frigate.zone",e))}
                  ${this._renderStringInput(Jk("cameras.#.frigate.client_id",e))}
                `)}
              ${this._putInSubmenu("cameras.dependencies",e,"config.cameras.dependencies.options",{name:"mdi:graph"},K` ${this._renderSwitch(Jk("cameras.#.dependencies.all_cameras",e),Pm.cameras.dependencies.all_cameras)}
                ${this._renderOptionSelector(Jk("cameras.#.dependencies.cameras",e),r,{multiple:!0})}`)}
              ${this._putInSubmenu("cameras.triggers",e,"config.cameras.triggers.options",{name:"mdi:magnify-scan"},K` ${this._renderSwitch(Jk("cameras.#.triggers.occupancy",e),Pm.cameras.triggers.occupancy)}
                ${this._renderSwitch(Jk("cameras.#.triggers.motion",e),Pm.cameras.triggers.motion)}
                ${this._renderOptionSelector(Jk("cameras.#.triggers.entities",e),i,{multiple:!0})}`)}
              ${this._putInSubmenu("cameras.webrtc",e,"config.cameras.webrtc_card.options",{name:"mdi:webrtc"},K`${this._renderEntitySelector(Jk("cameras.#.webrtc_card.entity",e),"camera")}
                ${this._renderStringInput(Jk("cameras.#.webrtc_card.url",e))}`)}
            </div>`:""}
      </div>
    `}_renderStringInput(t,e){if(this._config)return K`
      <ha-selector
        .hass=${this.hass}
        .selector=${{text:{type:e||"text"}}}
        .label=${this._getLabel(t)}
        .value=${jk(this._config,t,"")}
        .required=${!1}
        @value-changed=${e=>this._valueChangedHandler(t,e)}
      >
      </ha-selector>
    `}_renderSwitch(t,e,i){if(this._config)return K`
      <ha-selector
        .hass=${this.hass}
        .selector=${{boolean:{}}}
        .label=${(null==i?void 0:i.label)||this._getLabel(t)}
        .value=${jk(this._config,t,e)}
        .required=${!1}
        @value-changed=${e=>this._valueChangedHandler(t,e)}
      >
      </ha-selector>
    `}_updateConfig(t){this._config=t,c(this,"config-changed",{config:this._config})}render(){if(!this.hass||!this._config)return K``;const t=Pm,e=((t,e)=>{if(!t)return[];const i=Object.keys(t.states).filter((t=>!e||t.substr(0,t.indexOf("."))===e));return i.sort(),i})(this.hass),i=jk(this._config,"cameras")||[];return K`
      ${this._configUpgradeable?K` <div class="upgrade">
              <span>${Sg("editor.upgrade_available")}</span>
              <span>
                <mwc-button
                  raised
                  label="${Sg("editor.upgrade")}"
                  @click=${()=>{if(this._config){const t=qk(this._config);Uk(t),this._updateConfig(t)}}}
                >
                </mwc-button>
              </span>
            </div>
            <br />`:K``}
      <div class="card-config">
        ${this._renderOptionSetHeader("cameras")}
        ${"cameras"===this._expandedMenus.options?K`
              ${i.map(((t,n)=>this._renderCamera(i,n,e)))}
              ${this._renderCamera(i,i.length,e,!0)}
            `:""}
        ${this._renderOptionSetHeader("view")}
        ${"view"===this._expandedMenus.options?K`
              <div class="values">
                ${this._renderOptionSelector("view.default",this._viewModes)}
                ${this._renderOptionSelector("view.camera_select",this._cameraSelectViewModes)}
                ${this._renderOptionSelector("view.dark_mode",this._darkModes)}
                ${this._renderNumberInput("view.timeout_seconds")}
                ${this._renderNumberInput("view.update_seconds")}
                ${this._renderSwitch("view.update_force",t.view.update_force)}
                ${this._renderSwitch("view.update_cycle_camera",t.view.update_cycle_camera)}
                ${this._renderViewScanMenu()}
              </div>
            `:""}
        ${this._renderOptionSetHeader("menu")}
        ${"menu"===this._expandedMenus.options?K`
              <div class="values">
                ${this._renderOptionSelector("menu.style",this._menuStyles)}
                ${this._renderOptionSelector("menu.position",this._menuPositions)}
                ${this._renderOptionSelector("menu.alignment",this._menuAlignments)}
                ${this._renderNumberInput("menu.button_size",{min:20})}
              </div>
              ${this._renderMenuButton("frigate")}
              ${this._renderMenuButton("cameras")}
              ${this._renderMenuButton("live")}
              ${this._renderMenuButton("clips")}
              ${this._renderMenuButton("snapshots")}
              ${this._renderMenuButton("image")}
              ${this._renderMenuButton("download")}
              ${this._renderMenuButton("frigate_ui")}
              ${this._renderMenuButton("fullscreen")}
              ${this._renderMenuButton("timeline")}
              ${this._renderMenuButton("media_player")}
            `:""}
        ${this._renderOptionSetHeader("live")}
        ${"live"===this._expandedMenus.options?K`
              <div class="values">
                ${this._renderSwitch("live.preload",t.live.preload)}
                ${this._renderSwitch("live.draggable",t.live.draggable)}
                ${this._renderSwitch("live.lazy_load",t.live.lazy_load)}
                ${this._renderOptionSelector("live.lazy_unload",this._mediaActionNegativeConditions)}
                ${this._renderOptionSelector("live.auto_play",this._mediaActionPositiveConditions)}
                ${this._renderOptionSelector("live.auto_pause",this._mediaActionNegativeConditions)}
                ${this._renderOptionSelector("live.auto_mute",this._mediaActionNegativeConditions)}
                ${this._renderOptionSelector("live.auto_unmute",this._mediaActionPositiveConditions)}
                ${this._renderOptionSelector("live.transition_effect",this._transitionEffects)}
                ${this._renderSwitch("live.show_image_during_load",t.live.show_image_during_load)}
                ${this._putInSubmenu("live.controls",!0,"config.live.controls.options",{name:"mdi:gamepad"},K`
                    ${this._renderOptionSelector("live.controls.next_previous.style",this._liveNextPreviousControlStyles)}
                    ${this._renderNumberInput("live.controls.next_previous.size",{min:20})}
                    ${this._renderOptionSelector("live.controls.thumbnails.mode",this._thumbnailModes)}
                    ${this._renderOptionSelector("live.controls.thumbnails.media",this._thumbnailMedias)}
                    ${this._renderNumberInput("live.controls.thumbnails.size",{min:75,max:175})}
                    ${this._renderOptionSelector("live.controls.title.mode",this._titleModes)}
                    ${this._renderSwitch("live.controls.thumbnails.show_details",t.live.controls.thumbnails.show_details)}
                    ${this._renderSwitch("live.controls.thumbnails.show_favorite_control",t.live.controls.thumbnails.show_favorite_control)}
                    ${this._renderSwitch("live.controls.thumbnails.show_timeline_control",t.live.controls.thumbnails.show_timeline_control)}
                    ${this._renderNumberInput("live.controls.title.duration_seconds",{min:0,max:60})}
                  `)}
                ${this._renderMediaLayout("live.layout","config.live.layout","live.layout.fit","live.layout.position.x","live.layout.position.y")}
              </div>
            `:""}
        ${this._renderOptionSetHeader("event_gallery")}
        ${"event_gallery"===this._expandedMenus.options?K` <div class="values">
              ${this._putInSubmenu("event_gallery.controls",!0,"config.event_gallery.controls.options",{name:"mdi:gamepad"},K` ${this._renderNumberInput("event_gallery.controls.thumbnails.size",{min:75,max:175})}
                ${this._renderSwitch("event_gallery.controls.thumbnails.show_details",t.media_viewer.controls.thumbnails.show_details)}
                ${this._renderSwitch("event_gallery.controls.thumbnails.show_favorite_control",t.media_viewer.controls.thumbnails.show_favorite_control)}
                ${this._renderSwitch("event_gallery.controls.thumbnails.show_timeline_control",t.media_viewer.controls.thumbnails.show_timeline_control)}`)}
            </div>`:""}
        ${this._renderOptionSetHeader("media_viewer")}
        ${"media_viewer"===this._expandedMenus.options?K` <div class="values">
              ${this._renderOptionSelector("media_viewer.auto_play",this._mediaActionPositiveConditions)}
              ${this._renderOptionSelector("media_viewer.auto_pause",this._mediaActionNegativeConditions)}
              ${this._renderOptionSelector("media_viewer.auto_mute",this._mediaActionNegativeConditions)}
              ${this._renderOptionSelector("media_viewer.auto_unmute",this._mediaActionPositiveConditions)}
              ${this._renderSwitch("media_viewer.draggable",t.media_viewer.draggable)}
              ${this._renderSwitch("media_viewer.lazy_load",t.media_viewer.lazy_load)}
              ${this._renderOptionSelector("media_viewer.transition_effect",this._transitionEffects)}
              ${this._putInSubmenu("media_viewer.controls",!0,"config.media_viewer.controls.options",{name:"mdi:gamepad"},K`
                  ${this._renderOptionSelector("media_viewer.controls.next_previous.style",this._eventViewerNextPreviousControlStyles)}
                  ${this._renderNumberInput("media_viewer.controls.next_previous.size",{min:20})}
                  ${this._renderOptionSelector("media_viewer.controls.thumbnails.mode",this._thumbnailModes)}
                  ${this._renderNumberInput("media_viewer.controls.thumbnails.size",{min:75,max:175})}
                  ${this._renderSwitch("media_viewer.controls.thumbnails.show_details",t.media_viewer.controls.thumbnails.show_details)}
                  ${this._renderSwitch("media_viewer.controls.thumbnails.show_favorite_control",t.media_viewer.controls.thumbnails.show_favorite_control)}
                  ${this._renderSwitch("media_viewer.controls.thumbnails.show_timeline_control",t.media_viewer.controls.thumbnails.show_timeline_control)}
                  ${this._renderOptionSelector("media_viewer.controls.title.mode",this._titleModes)}
                  ${this._renderNumberInput("media_viewer.controls.title.duration_seconds",{min:0,max:60})}
                `)}
              ${this._renderMediaLayout("media_viewer.layout","config.media_viewer.layout","media_viewer.layout.fit","media_viewer.layout.position.x","media_viewer.layout.position.y")}
            </div>`:""}
        ${this._renderOptionSetHeader("image")}
        ${"image"===this._expandedMenus.options?K` <div class="values">
              ${this._renderOptionSelector("image.mode",this._imageModes)}
              ${this._renderStringInput("image.url")}
              ${this._renderNumberInput("image.refresh_seconds")}
              ${this._renderMediaLayout("image.layout","config.image.layout","image.layout.fit","image.layout.position.x","image.layout.position.y")}
            </div>`:""}
        ${this._renderOptionSetHeader("timeline")}
        ${"timeline"===this._expandedMenus.options?K` <div class="values">
              ${this._renderNumberInput("timeline.window_seconds")}
              ${this._renderNumberInput("timeline.clustering_threshold")}
              ${this._renderOptionSelector("timeline.media",this._timelineMediaTypes)}
              ${this._renderSwitch("timeline.show_recordings",t.timeline.show_recordings)}
              ${this._putInSubmenu("timeline.controls",!0,"config.timeline.controls.options",{name:"mdi:gamepad"},K` ${this._renderOptionSelector("timeline.controls.thumbnails.mode",this._thumbnailModes)}
                ${this._renderNumberInput("timeline.controls.thumbnails.size",{min:75,max:175})}
                ${this._renderSwitch("timeline.controls.thumbnails.show_details",t.timeline.controls.thumbnails.show_details)}
                ${this._renderSwitch("timeline.controls.thumbnails.show_favorite_control",t.timeline.controls.thumbnails.show_favorite_control)}
                ${this._renderSwitch("timeline.controls.thumbnails.show_timeline_control",t.timeline.controls.thumbnails.show_timeline_control)}`)}
            </div>`:""}
        ${this._renderOptionSetHeader("dimensions")}
        ${"dimensions"===this._expandedMenus.options?K` <div class="values">
              ${this._renderOptionSelector("dimensions.aspect_ratio_mode",this._aspectRatioModes)}
              ${this._renderStringInput("dimensions.aspect_ratio")}
            </div>`:""}
        ${void 0!==this._config.overrides?K` ${this._renderOptionSetHeader("overrides")}
            ${"overrides"===this._expandedMenus.options?K` <div class="values">
                  ${this._renderInfo(Sg("config.overrides.info"))}
                </div>`:""}`:K``}
      </div>
    `}_closeMenu(t){delete this._expandedMenus[t],this.requestUpdate()}_openMenu(t,e){this._expandedMenus[t]=e,this.requestUpdate()}_toggleMenu(t){if(t&&t.target){const e=t.target.domain,i=t.target.key;this._expandedMenus[e]===i?this._closeMenu(e):this._openMenu(e,i)}}_valueChangedHandler(t,e){if(!this._config||!this.hass)return;let i;if(e.detail&&void 0!==e.detail.value&&(i=e.detail.value,"string"==typeof i&&(i=i.trim())),jk(this._config,t)===i)return;const n=qk(this._config);""===i||void 0===i?zk(n,t):Lk(n,t,i),this._updateConfig(n)}static get styles(){return _('ha-icon-button.button {\n  color: var(--secondary-color, white);\n  background-color: rgba(0, 0, 0, 0.6);\n  border-radius: 50%;\n  padding: 0px;\n  margin: 3px;\n  --ha-icon-display: block;\n  /* Buttons can always be clicked */\n  pointer-events: auto;\n  opacity: 0.9;\n}\n\n@keyframes pulse {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\nha-icon[data-domain=alert][data-state=on],\nha-icon[data-domain=automation][data-state=on],\nha-icon[data-domain=binary_sensor][data-state=on],\nha-icon[data-domain=calendar][data-state=on],\nha-icon[data-domain=camera][data-state=streaming],\nha-icon[data-domain=cover][data-state=open],\nha-icon[data-domain=fan][data-state=on],\nha-icon[data-domain=humidifier][data-state=on],\nha-icon[data-domain=light][data-state=on],\nha-icon[data-domain=input_boolean][data-state=on],\nha-icon[data-domain=lock][data-state=unlocked],\nha-icon[data-domain=media_player][data-state=on],\nha-icon[data-domain=media_player][data-state=paused],\nha-icon[data-domain=media_player][data-state=playing],\nha-icon[data-domain=script][data-state=on],\nha-icon[data-domain=sun][data-state=above_horizon],\nha-icon[data-domain=switch][data-state=on],\nha-icon[data-domain=timer][data-state=active],\nha-icon[data-domain=vacuum][data-state=cleaning],\nha-icon[data-domain=group][data-state=on],\nha-icon[data-domain=group][data-state=home],\nha-icon[data-domain=group][data-state=open],\nha-icon[data-domain=group][data-state=locked],\nha-icon[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=pending],\nha-icon[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon[data-domain=plant][data-state=problem],\nha-icon[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\nha-icon-button[data-domain=alert][data-state=on],\nha-icon-button[data-domain=automation][data-state=on],\nha-icon-button[data-domain=binary_sensor][data-state=on],\nha-icon-button[data-domain=calendar][data-state=on],\nha-icon-button[data-domain=camera][data-state=streaming],\nha-icon-button[data-domain=cover][data-state=open],\nha-icon-button[data-domain=fan][data-state=on],\nha-icon-button[data-domain=humidifier][data-state=on],\nha-icon-button[data-domain=light][data-state=on],\nha-icon-button[data-domain=input_boolean][data-state=on],\nha-icon-button[data-domain=lock][data-state=unlocked],\nha-icon-button[data-domain=media_player][data-state=on],\nha-icon-button[data-domain=media_player][data-state=paused],\nha-icon-button[data-domain=media_player][data-state=playing],\nha-icon-button[data-domain=script][data-state=on],\nha-icon-button[data-domain=sun][data-state=above_horizon],\nha-icon-button[data-domain=switch][data-state=on],\nha-icon-button[data-domain=timer][data-state=active],\nha-icon-button[data-domain=vacuum][data-state=cleaning],\nha-icon-button[data-domain=group][data-state=on],\nha-icon-button[data-domain=group][data-state=home],\nha-icon-button[data-domain=group][data-state=open],\nha-icon-button[data-domain=group][data-state=locked],\nha-icon-button[data-domain=group][data-state=problem] {\n  color: var(--paper-item-icon-active-color, #fdd835);\n}\n\nha-icon-button[data-domain=climate][data-state=cooling] {\n  color: var(--cool-color, var(--state-climate-cool-color));\n}\n\nha-icon-button[data-domain=climate][data-state=heating] {\n  color: var(--heat-color, var(--state-climate-heat-color));\n}\n\nha-icon-button[data-domain=climate][data-state=drying] {\n  color: var(--dry-color, var(--state-climate-dry-color));\n}\n\nha-icon-button[data-domain=alarm_control_panel] {\n  color: var(--alarm-color-armed, var(--label-badge-red));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=disarmed] {\n  color: var(--alarm-color-disarmed, var(--label-badge-green));\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=pending],\nha-icon-button[data-domain=alarm_control_panel][data-state=arming] {\n  color: var(--alarm-color-pending, var(--label-badge-yellow));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=alarm_control_panel][data-state=triggered] {\n  color: var(--alarm-color-triggered, var(--label-badge-red));\n  animation: pulse 1s infinite;\n}\n\nha-icon-button[data-domain=plant][data-state=problem],\nha-icon-button[data-domain=zwave][data-state=dead] {\n  color: var(--state-icon-error-color);\n}\n\n/* Color the icon if unavailable */\nha-icon-button[data-state=unavailable] {\n  color: var(--state-unavailable-color);\n}\n\n.option {\n  padding: 4px 4px;\n  cursor: pointer;\n}\n\n.option.option-overrides .title {\n  color: var(--warning-color);\n}\n\n.row {\n  display: flex;\n  margin-bottom: -14px;\n  pointer-events: none;\n}\n\n.title {\n  padding-left: 16px;\n  margin-top: -6px;\n  pointer-events: none;\n}\n\n.secondary {\n  padding-left: 40px;\n  color: var(--secondary-text-color);\n  pointer-events: none;\n}\n\n.values {\n  background: var(--secondary-background-color);\n  display: grid;\n}\n\n.values + .option,\n.submenu + .option {\n  margin-top: 10px;\n}\n\ndiv.upgrade {\n  width: auto;\n  border: 1px dotted var(--primary-color);\n  margin: 10px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\ndiv.upgrade span {\n  padding: 10px;\n}\n\n.submenu-header {\n  display: flex;\n  padding: 10px;\n  cursor: pointer;\n}\n\n.submenu.selected > .submenu-header {\n  background-color: var(--primary-color);\n  color: var(--primary-text-color);\n}\n\n.submenu-header * {\n  flex-basis: auto;\n  pointer-events: none;\n}\n\n.submenu-header .new-camera {\n  font-style: italic;\n}\n\n.submenu:not(.selected) > .submenu-header .new-camera {\n  color: var(--secondary-text-color, "black");\n}\n\n.submenu-header ha-icon,\n.submenu-header ha-svg-icon {\n  padding-right: 15px;\n}\n\n.submenu {\n  border: 1px solid var(--divider-color);\n}\n\n.submenu.selected {\n  border: 1px solid var(--primary-color);\n}\n\n.submenu .submenu {\n  width: calc(100% - 20px);\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 10px;\n}\n\n.submenu :not(.submenu.selected) {\n  border: none;\n}\n\n.submenu .controls {\n  display: inline-block;\n  margin-left: auto;\n  margin-right: 0px;\n  margin-bottom: 5px;\n}\n\n.submenu .controls ha-icon-button.button {\n  --mdc-icon-button-size: 32px;\n  --mdc-icon-size: calc(var(--mdc-icon-button-size) / 2);\n}\n\nspan.info {\n  padding: 4px;\n}\n\nha-selector {\n  padding: 10px;\n  border: 1px solid var(--divider-color);\n}')}};t([yt({attribute:!1})],sS.prototype,"hass",void 0),t([_t()],sS.prototype,"_config",void 0),t([_t()],sS.prototype,"_expandedMenus",void 0),sS=t([vt("frigate-card-editor")],sS);const aS=dp.object({model:dp.string().nullable(),config_entries:dp.string().array(),manufacturer:dp.string().nullable()}).array();class lS{constructor(){this._cache=new Map}has(t){return this._cache.has(t)}getMatch(t){var e;return null!==(e=[...this._cache.values()].find(t))&&void 0!==e?e:null}get(t){return this._cache.get(t)}set(t){this._cache.set(t.entity_id,t)}}const dS=async(t,e,i)=>{const n=i?i.get(e):void 0;if(n)return n;const o=await ty(t,Um,{type:"config/entity_registry/get",entity_id:e});return i&&i.set(o),o};var cS="4.0.0",hS="Fri, 23 Sep 2022 00:27:16 GMT",uS="Thu, 22 Sep 2022 16:53:03 -0700",AS="4.0.0-HEAD+ge5a0bf4";console.info(`%c FRIGATE-HASS-CARD \n%c ${Sg("common.version")} ${cS} `,"color: pink; font-weight: bold; background: black","color: white; font-weight: bold; background: dimgray"),window.customCards=window.customCards||[],window.customCards.push({type:"frigate-card",name:Sg("common.frigate_card"),description:Sg("common.frigate_card_description"),preview:!0,documentationURL:Pg});let pS=class extends gt{constructor(){super(...arguments),this._refMenu=zt(),this._refMain=zt(),this._refElements=zt(),this._refImage=zt(),this._refLive=zt(),this._interactionTimerID=null,this._updateTimerID=null,this._currentMediaLoadedInfo=null,this._lastValidMediaLoadedInfo=null,this._dynamicMenuButtons=[],this._message=null,this._resolvedMediaCache=new Rk,this._boundMouseHandler=hh(this._mouseHandler.bind(this),1e3),this._initialized=!1,this._triggers=new Map,this._untriggerTimerID=null}set hass(t){this._hass=t,this._hass&&(this._refMenu.value&&(this._refMenu.value.hass=this._hass),this._refElements.value&&(this._refElements.value.hass=this._hass),this._refImage.value&&(this._refImage.value.hass=this._hass)),this._generateConditionState(),this._setLightOrDarkMode()}static async getConfigElement(){return document.createElement("frigate-card-editor")}static getStubConfig(t,e){return{cameras:[{camera_entity:e.find((t=>t.startsWith("camera.")))}]}}_generateConditionState(){var t,e,i;this._conditionState={view:null===(t=this._view)||void 0===t?void 0:t.view,fullscreen:fu.isEnabled&&fu.isFullscreen,camera:null===(e=this._view)||void 0===e?void 0:e.camera,state:null===(i=this._hass)||void 0===i?void 0:i.states,mediaLoaded:!!this._currentMediaLoadedInfo},this._refLive.value&&(this._refLive.value.conditionState=this._conditionState),this._refElements.value&&(this._refElements.value.conditionState=this._conditionState);const n=eg(this._config,this._config.overrides,this._conditionState);Tg(n,this._overriddenConfig)&&(this._overriddenConfig=n)}_getEmphasizedStyle(){return{color:"var(--primary-color, white)"}}_getStyleFromActions(t){var e,i;for(const n of[t.tap_action,t.double_tap_action,t.hold_action,t.start_tap_action,t.end_tap_action]){const t=Array.isArray(n)?n:[n];for(const n of t){if(!n||"fire-dom-event"!==n.action||!("frigate_card_action"in n))continue;const t=n;if(up.some((e=>{var i;return e===t.frigate_card_action&&(null===(i=this._view)||void 0===i?void 0:i.is(t.frigate_card_action))}))||"default"===t.frigate_card_action&&(null===(e=this._view)||void 0===e?void 0:e.is(this._getConfig().view.default))||"fullscreen"===t.frigate_card_action&&fu.isEnabled&&fu.isFullscreen||"camera_select"===t.frigate_card_action&&(null===(i=this._view)||void 0===i?void 0:i.camera)===t.camera)return this._getEmphasizedStyle()}}return{}}_getMenuButtons(){var t,e,i,n,o,r,s,a,l,d,c;const h=[];if(h.push(Object.assign(Object.assign({icon:"frigate"},this._getConfig().menu.buttons.frigate),{type:"custom:frigate-card-menu-icon",title:Sg("config.menu.buttons.frigate"),tap_action:kw.isHidingMenu(this._getConfig().menu)?qm("menu_toggle"):qm("default"),hold_action:qm("diagnostics")})),this._cameras&&this._cameras.size>1){const t=Array.from(this._cameras,(([t,e])=>{var i;const n=qm("camera_select",{camera:t});return Object.assign({enabled:!0,icon:Ay(this._hass,e),entity:e.camera_entity,state_color:!0,title:uy(this._hass,e),selected:(null===(i=this._view)||void 0===i?void 0:i.camera)===t},n&&{tap_action:n})}));h.push(Object.assign(Object.assign({icon:"mdi:video-switch"},this._getConfig().menu.buttons.cameras),{type:"custom:frigate-card-menu-submenu",title:Sg("config.menu.buttons.cameras"),items:t}))}h.push(Object.assign(Object.assign({icon:"mdi:cctv"},this._getConfig().menu.buttons.live),{type:"custom:frigate-card-menu-icon",title:Sg("config.view.views.live"),style:(null===(t=this._view)||void 0===t?void 0:t.is("live"))?this._getEmphasizedStyle():{},tap_action:qm("live")}));const u=this._getSelectedCameraConfig();(null==u?void 0:u.frigate.camera_name)&&("birdseye"!==(null==u?void 0:u.frigate.camera_name)||u.dependencies.cameras.length||u.dependencies.all_cameras)&&h.push(Object.assign(Object.assign({icon:"mdi:filmstrip"},this._getConfig().menu.buttons.clips),{type:"custom:frigate-card-menu-icon",title:Sg("config.view.views.clips"),style:(null===(e=this._view)||void 0===e?void 0:e.is("clips"))?this._getEmphasizedStyle():{},tap_action:qm("clips"),hold_action:qm("clip")})),(null==u?void 0:u.frigate.camera_name)&&("birdseye"!==(null==u?void 0:u.frigate.camera_name)||(null==u?void 0:u.dependencies.cameras.length)||(null==u?void 0:u.dependencies.all_cameras))&&h.push(Object.assign(Object.assign({icon:"mdi:camera"},this._getConfig().menu.buttons.snapshots),{type:"custom:frigate-card-menu-icon",title:Sg("config.view.views.snapshots"),style:(null===(i=this._view)||void 0===i?void 0:i.is("snapshots"))?this._getEmphasizedStyle():{},tap_action:qm("snapshots"),hold_action:qm("snapshot")})),h.push(Object.assign(Object.assign({icon:"mdi:image"},this._getConfig().menu.buttons.image),{type:"custom:frigate-card-menu-icon",title:Sg("config.view.views.image"),style:(null===(n=this._view)||void 0===n?void 0:n.is("image"))?this._getEmphasizedStyle():{},tap_action:qm("image")})),this._cameras&&[...this._cameras.values()].some((t=>t.frigate.camera_name&&"birdseye"!==t.frigate.camera_name))&&h.push(Object.assign(Object.assign({icon:"mdi:chart-gantt"},this._getConfig().menu.buttons.timeline),{type:"custom:frigate-card-menu-icon",title:Sg("config.view.views.timeline"),style:(null===(o=this._view)||void 0===o?void 0:o.is("timeline"))?this._getEmphasizedStyle():{},tap_action:qm("timeline")})),!this._isBeingCasted()&&((null===(r=this._view)||void 0===r?void 0:r.isViewerView())||(null===(s=this._view)||void 0===s?void 0:s.is("timeline"))&&(null===(a=this._view)||void 0===a?void 0:a.media))&&h.push(Object.assign(Object.assign({icon:"mdi:download"},this._getConfig().menu.buttons.download),{type:"custom:frigate-card-menu-icon",title:Sg("config.menu.buttons.download"),tap_action:qm("download")})),(null==u?void 0:u.frigate.url)&&h.push(Object.assign(Object.assign({icon:"mdi:web"},this._getConfig().menu.buttons.frigate_ui),{type:"custom:frigate-card-menu-icon",title:Sg("config.menu.buttons.frigate_ui"),tap_action:qm("frigate_ui")})),fu.isEnabled&&!this._isBeingCasted()&&h.push(Object.assign(Object.assign({icon:fu.isFullscreen?"mdi:fullscreen-exit":"mdi:fullscreen"},this._getConfig().menu.buttons.fullscreen),{type:"custom:frigate-card-menu-icon",title:Sg("config.menu.buttons.fullscreen"),tap_action:qm("fullscreen"),style:fu.isFullscreen?this._getEmphasizedStyle():{}}));const A=Object.keys((null===(l=this._hass)||void 0===l?void 0:l.states)||{}).filter((t=>{var e;if(t.startsWith("media_player.")){const i=null===(e=this._hass)||void 0===e?void 0:e.states[t];if(i&&"unavailable"!==i.state&&Gb(i,131072))return!0}return!1}));if(A.length&&((null===(d=this._view)||void 0===d?void 0:d.isViewerView())||(null===(c=this._view)||void 0===c?void 0:c.is("live"))&&(null==u?void 0:u.camera_entity))){const t=A.map((t=>{var e;const i=ay(this._hass,t)||t,n=null===(e=this._hass)||void 0===e?void 0:e.states[t],o=qm("media_player",{media_player:t,media_player_action:"play"}),r=qm("media_player",{media_player:t,media_player_action:"stop"});return Object.assign(Object.assign({enabled:!0,selected:!1,icon:ly(this._hass,t)||"mdi:cast",entity:t,state_color:!1,title:i,disabled:!n||"unavailable"===n.state},o&&{tap_action:o}),r&&{hold_action:r})}));h.push(Object.assign(Object.assign({icon:"mdi:cast"},this._getConfig().menu.buttons.media_player),{type:"custom:frigate-card-menu-submenu",title:Sg("config.menu.buttons.media_player"),items:t}))}const p=this._dynamicMenuButtons.map((t=>Object.assign({style:this._getStyleFromActions(t)},t)));return h.concat(p)}_addDynamicMenuButton(t){this._dynamicMenuButtons.includes(t)||(this._dynamicMenuButtons=[...this._dynamicMenuButtons,t]),this._refMenu.value&&(this._refMenu.value.buttons=this._getMenuButtons())}_removeDynamicMenuButton(t){this._dynamicMenuButtons=this._dynamicMenuButtons.filter((e=>e!=t)),this._refMenu.value&&(this._refMenu.value.buttons=this._getMenuButtons())}_getMotionSensor(t,e){var i,n;return e.frigate.camera_name&&null!==(n=null===(i=t.getMatch((t=>{var i;return!!(null===(i=t.unique_id)||void 0===i?void 0:i.match(new RegExp(`:motion_sensor:${e.frigate.zone||e.frigate.camera_name}`)))})))||void 0===i?void 0:i.entity_id)&&void 0!==n?n:null}_getOccupancySensor(t,e){var i,n;return e.frigate.camera_name&&null!==(n=null===(i=t.getMatch((t=>{var i;return!!(null===(i=t.unique_id)||void 0===i?void 0:i.match(new RegExp(`:occupancy_sensor:${e.frigate.zone||e.frigate.camera_name}_${e.frigate.label||"all"}`)))})))||void 0===i?void 0:i.entity_id)&&void 0!==n?n:null}async _loadCameras(){if(!this._hass)return;const t=new lS;let e;try{e=await(async t=>await ty(t,Hm,{type:"config/entity_registry/list"}))(this._hass)}catch(t){Og(t)}const i=new Map;let n=!0;const o=async o=>{if(!this._hass)return;let r=null;if(o.camera_entity)try{r=await dS(this._hass,o.camera_entity,t)}catch(t){}if(!o.frigate.camera_name&&r){const t=this._getFrigateCameraNameFromEntity(r);t&&(o.frigate.camera_name=t)}if(r&&e){const i=e.filter((t=>t.config_entry_id===(null==r?void 0:r.config_entry_id)&&!t.disabled_by&&t.entity_id.startsWith("binary_sensor.")));try{await(async(t,e,i)=>{const n=new Map;return await Promise.all(e.map((async e=>{n.set(e,await dS(t,e,i))}))),n})(this._hass,i.map((t=>t.entity_id)),t)}catch(t){Og(t)}if(o.triggers.motion){const e=this._getMotionSensor(t,o);e&&o.triggers.entities.push(e)}if(o.triggers.occupancy){const e=this._getOccupancySensor(t,o);e&&o.triggers.entities.push(e)}}o.triggers.entities=[...new Set(o.triggers.entities)];const s=hy(o);s?i.has(s)?(this._setMessageAndUpdate({message:Sg("error.duplicate_camera_id"),type:"error",context:o}),n=!1):i.set(s,o):(this._setMessageAndUpdate({message:Sg("error.no_camera_id"),type:"error",context:o}),n=!1)};if(this._getConfig().cameras&&Array.isArray(this._getConfig().cameras))for(const t of this._getConfig().cameras)await o(t);if(!i.size)return this._setMessageAndUpdate({message:Sg("error.no_cameras"),type:"error"});n&&(this._cameras=i)}_getSelectedCameraConfig(){var t;return this._cameras&&this._cameras.size&&(null===(t=this._view)||void 0===t?void 0:t.camera)&&this._cameras.get(this._view.camera)||null}_getFrigateCameraNameFromEntity(t){if(t.unique_id&&"frigate"===t.platform){const e=t.unique_id.match(/:camera:(?<camera>[^:]+)$/);if(e&&e.groups)return e.groups.camera}return null}_getParseErrorPaths(t){const e=new Set;if(t&&t.issues)for(let i=0;i<t.issues.length;i++){const n=t.issues[i];if("invalid_union"==n.code){const t=n.unionErrors;for(let i=0;i<t.length;i++){const n=this._getParseErrorPaths(t[i]);n&&n.size&&n.forEach(e.add,e)}}else if("invalid_type"==n.code){if("type"==n.path[n.path.length-1])return null;e.add(this._getParseErrorPathString(n.path))}else"custom"!=n.code&&e.add(this._getParseErrorPathString(n.path))}return e}_getParseErrorPathString(t){let e="";for(let i=0;i<t.length;i++){const n=t[i];"number"==typeof n?e+="["+n+"]":e?e+=" -> "+n:e=n}return e}setConfig(t){if(!t)throw new Error(Sg("error.invalid_configuration"));const e=Hk(t),i=Rm.safeParse(t);if(!i.success){const t=this._getParseErrorPaths(i.error);let n="";throw e&&"yaml"!==m().mode&&(n=`${Sg("error.upgrade_available")}. `),new Error(n+`${Sg("error.invalid_configuration")}: `+(t&&t.size?JSON.stringify([...t],null," "):Sg("error.invalid_configuration_no_hint")))}const n=i.data;n.test_gui&&m().setEditMode(!0),this._rawConfig=t,this._config=n,this._overriddenConfig=void 0,this._cameras=void 0,this._view=void 0,this._message=null,this._generateConditionState(),this._setLightOrDarkMode(),this._untrigger()}_getConfig(){return this._overriddenConfig||this._config}_changeView(t){var e,i,n;const o=t=>{Z_.isMediaChange(this._view,t)&&(this._currentMediaLoadedInfo=null),this._view=t,this._generateConditionState(),this._resetMainScroll()};if((null===(e=null==t?void 0:t.resetMessage)||void 0===e||e)&&(this._message=null),null==t?void 0:t.view)o(t.view);else{let t;if(null===(i=this._cameras)||void 0===i?void 0:i.size)if((null===(n=this._view)||void 0===n?void 0:n.camera)&&this._getConfig().view.update_cycle_camera){const e=Array.from(this._cameras.keys()),i=e.indexOf(this._view.camera);t=e[i+1>=e.length?0:i+1]}else t=this._cameras.keys().next().value;t&&(o(new Z_({view:this._getConfig().view.default,camera:t})),this._startUpdateTimer())}}_setLightOrDarkMode(){var t;"on"===this._getConfig().view.dark_mode||"auto"===this._getConfig().view.dark_mode&&(!this._interactionTimerID||(null===(t=this._hass)||void 0===t?void 0:t.themes.darkMode))?this.setAttribute("dark",""):this.removeAttribute("dark")}_changeViewHandler(t){this._changeView({view:t.detail})}_addViewContextHandler(t){var e;this._changeView({view:null===(e=this._view)||void 0===e?void 0:e.clone().mergeInContext(t.detail)})}willUpdate(){this._initialized||dy().then((t=>{t&&(this._initialized=!0)}))}_getMostRecentTrigger(){const t=[...this._triggers.entries()].sort(((t,e)=>e[1].getTime()-t[1].getTime()));return t.length?t[0][0]:null}_updateTriggeredCameras(t){var e,i,n;if(!this._view||!this._isAutomatedViewUpdateAllowed(!0))return!1;const o=new Date;let r=!1,s=!1;for(const[r,a]of null!==(i=null===(e=this._cameras)||void 0===e?void 0:e.entries())&&void 0!==i?i:[]){const e=null!==(n=a.triggers.entities)&&void 0!==n?n:[],i=iy(this._hass,t,e,{stateOnly:!0}).some((t=>cy(t.newState))),l=e.every((t=>{var e;return!cy(null===(e=this._hass)||void 0===e?void 0:e.states[t])}));i?(this._triggers.set(r,o),s=!0):l&&this._triggers.has(r)&&(this._triggers.delete(r),s=!0)}if(s)if(this._triggers.size){const t=this._getMostRecentTrigger();!t||this._view.camera===t&&this._view.is("live")||(this._changeView({view:new Z_({view:"live",camera:t})}),r=!0)}else this._startUntriggerTimer();return r}_isTriggered(){return!!this._triggers.size||!!this._untriggerTimerID}_untrigger(){const t=this._isTriggered();this._triggers.clear(),this._clearUntriggerTimer(),t&&this.requestUpdate()}_startUntriggerTimer(){this._clearUntriggerTimer(),this._untriggerTimerID=window.setTimeout((()=>{this._untrigger(),this._isAutomatedViewUpdateAllowed()&&this._getConfig().view.scan.untrigger_reset&&this._changeView()}),1e3*this._getConfig().view.scan.untrigger_seconds)}_clearUntriggerTimer(){this._untriggerTimerID&&(window.clearTimeout(this._untriggerTimerID),this._untriggerTimerID=null)}shouldUpdate(t){var e,i,n;const o=t.get("_hass");let r=!o||1!=t.size;if(!o&&!(null===(e=this._hass)||void 0===e?void 0:e.connected)||o&&o.connected!==!!(null===(i=this._hass)||void 0===i?void 0:i.connected))return(null===(n=this._hass)||void 0===n?void 0:n.connected)?this._changeView():this._setMessageAndUpdate({message:Sg("error.reconnecting"),icon:"mdi:lan-disconnect",type:"connection",dotdotdot:!0},!0),!0;if(o){const t=this._getSelectedCameraConfig();this._getConfig().view.scan.enabled&&this._updateTriggeredCameras(o)?r=!0:this._isAutomatedViewUpdateAllowed()&&ny(this._hass,o,[...this._getConfig().view.update_entities||[],...(null==t?void 0:t.triggers.entities)||[]])?(this._changeView(),r=!0):r||(r=ny(this._hass,o,this._getConfig().view.render_entities||[]))}return r}async _downloadViewerMedia(){var t,e;if(!this._hass||!(null===(t=this._view)||void 0===t?void 0:t.isViewerView())&&!(null===(e=this._view)||void 0===e?void 0:e.is("timeline")))return;if(!this._view.media||"video"!==this._view.media.media_content_type&&"image"!==this._view.media.media_content_type)return void this._setMessageAndUpdate({message:Sg("error.download_no_media"),type:"error"});const i=(t=>{var e,i,n;return null!==(n=null===(i=null===(e=t.frigate)||void 0===e?void 0:e.event)||void 0===i?void 0:i.id)&&void 0!==n?n:null})(this._view.media);if(!i)return void this._setMessageAndUpdate({message:Sg("error.download_no_event_id"),type:"error"});const n=this._getSelectedCameraConfig();if(!n)return;const o=`/api/frigate/${n.frigate.client_id}/notifications/${i}/`+("video"===this._view.media.media_content_type?"clip.mp4":"snapshot.jpg")+"?download=true";let r;try{r=await ey(this._hass,o)}catch(t){Og(t)}if(r)if(navigator.userAgent.startsWith("Home Assistant/")||navigator.userAgent.startsWith("HomeAssistant/"))window.open(r,"_blank");else{const t=document.createElement("a");t.setAttribute("download",""),t.href=r,t.click(),t.remove()}else this._setMessageAndUpdate({message:Sg("error.download_sign_failed"),type:"error"})}_mediaPlayerAction(t,e){var i,n,o,r,s,a,l;if(!["play","stop"].includes(e))return;let d,c;const h={},u=this._getSelectedCameraConfig(),A=null!==(i=null==u?void 0:u.camera_entity)&&void 0!==i?i:null;if((null===(n=this._view)||void 0===n?void 0:n.isViewerView())&&this._view.media)d=this._view.media.media_content_id,c=this._view.media.media_content_type,h.thumb=this._view.media.thumbnail,h.title=this._view.media.title;else{if(!(null===(o=this._view)||void 0===o?void 0:o.is("live"))||!A)return;(null===(r=this._hass)||void 0===r?void 0:r.states)&&A in this._hass.states&&(h.thumb=null!==(s=this._hass.states[A].attributes.entity_picture)&&void 0!==s?s:null),h.title=uy(this._hass,u),d=`media-source://camera/${A}`,c="application/vnd.apple.mpegurl"}"play"===e?null===(a=this._hass)||void 0===a||a.callService("media_player","play_media",{entity_id:t,media_content_id:d,media_content_type:c,extra:h}):"stop"===e&&(null===(l=this._hass)||void 0===l||l.callService("media_player","media_stop",{entity_id:t}))}_cardActionHandler(t){var e,i,n,o;const r=Gm(t.detail);if(!r)return;const s=r.frigate_card_action;switch(s){case"default":this._changeView();break;case"clip":case"clips":case"image":case"live":case"snapshot":case"snapshots":case"timeline":this._view&&this._changeView({view:new Z_({view:s,camera:this._view.camera})});break;case"download":this._downloadViewerMedia();break;case"frigate_ui":const t=this._getFrigateURLFromContext();t&&window.open(t);break;case"fullscreen":fu.isEnabled&&fu.toggle(this);break;case"menu_toggle":null===(e=this._refMenu.value)||void 0===e||e.toggleMenu();break;case"camera_select":const a=r.camera;if((null===(i=this._cameras)||void 0===i?void 0:i.has(a))&&this._view){const t=Z_.selectBestViewForUserSpecified("current"===this._getConfig().view.camera_select?this._view.view:this._getConfig().view.camera_select);this._changeView({view:new Z_({view:(null===(o=null===(n=this._cameras)||void 0===n?void 0:n.get(a))||void 0===o?void 0:o.frigate.camera_name)?t:Z_.selectBestViewForNonFrigateCameras(t),camera:a})})}break;case"media_player":this._mediaPlayerAction(r.media_player,r.media_player_action);break;case"diagnostics":this._diagnostics();break;default:console.warn(`Frigate card received unknown card action: ${s}`)}}async _diagnostics(){if(this._hass){let t=[];try{t=await(async t=>await ty(t,aS,{type:"config/device_registry/list"}))(this._hass)}catch(t){}const e=t.filter((t=>"Frigate"===t.manufacturer)),i=new Map;e.forEach((t=>{t.config_entries.forEach((e=>{t.model&&i.set(e,t.model)}))})),this._setMessageAndUpdate({message:Sg("error.diagnostics"),type:"diagnostics",icon:"mdi:information",context:Object.assign({ha_version:this._hass.config.version,card_version:cS,browser:navigator.userAgent,date:new Date,frigate_version:Object.fromEntries(i),lang:kg(),git:Object.assign(Object.assign(Object.assign({},{build_version:AS}),{build_date:hS}),{commit_date:uS})},this._rawConfig&&{config:this._rawConfig})})}}_getFrigateURLFromContext(){const t=this._getSelectedCameraConfig();return t&&t.frigate.url&&this._view?t.frigate.camera_name?this._view.isViewerView()||this._view.isGalleryView()?`${t.frigate.url}/events?camera=${t.frigate.camera_name}`:`${t.frigate.url}/cameras/${t.frigate.camera_name}`:t.frigate.url:null}_actionHandler(t,e){const i=t.detail.action,n=t.currentTarget;e&&n&&i&&Ym(i,e)&&((t,e,i,n)=>{$m(t,e,i,n,Ym(n,i))})(n,this._hass,e,t.detail.action),this._startInteractionTimer()}_mouseHandler(){this._startInteractionTimer()}_clearInteractionTimer(){this._interactionTimerID&&(window.clearTimeout(this._interactionTimerID),this._interactionTimerID=null)}_startInteractionTimer(){this._clearInteractionTimer(),this._untrigger(),this._getConfig().view.timeout_seconds&&(this._interactionTimerID=window.setTimeout((()=>{this._clearInteractionTimer(),this._isAutomatedViewUpdateAllowed()&&(this._changeView(),this._setLightOrDarkMode())}),1e3*this._getConfig().view.timeout_seconds)),this._setLightOrDarkMode()}_startUpdateTimer(){this._updateTimerID&&(window.clearTimeout(this._updateTimerID),this._updateTimerID=null),this._getConfig().view.update_seconds&&(this._updateTimerID=window.setTimeout((()=>{this._isAutomatedViewUpdateAllowed()?this._changeView():this._startUpdateTimer()}),1e3*this._getConfig().view.update_seconds))}_isAutomatedViewUpdateAllowed(t){return(t||!this._isTriggered())&&(this._getConfig().view.update_force||!this._interactionTimerID)}_renderMenu(){return K`
      <frigate-card-menu
        ${Gt(this._refMenu)}
        .hass=${this._hass}
        .menuConfig=${this._getConfig().menu}
        .buttons=${this._getMenuButtons()}
      ></frigate-card-menu>
    `}_setMessageAndUpdate(t,e){var i,n;const o=this._message&&null!==(i=Nm[this._message.type])&&void 0!==i?i:0,r=null!==(n=Nm[t.type])&&void 0!==n?n:0;(!this._message||r>=o)&&(this._message=t,this._mediaUnloadedHandler(),e||(this.requestUpdate(),this._resetMainScroll()))}_resetMainScroll(){var t;null===(t=this._refMain.value)||void 0===t||t.scroll({top:0})}_messageHandler(t){return this._setMessageAndUpdate(t.detail)}_mediaLoadedHandler(t){const e=t.detail;i_(e)&&(this._lastValidMediaLoadedInfo=this._currentMediaLoadedInfo=e,this._generateConditionState(),this.requestUpdate())}_mediaUnloadedHandler(){this._currentMediaLoadedInfo=null,this._generateConditionState()}_fullscreenHandler(){this._generateConditionState(),this.requestUpdate()}connectedCallback(){super.connectedCallback(),fu.isEnabled&&fu.on("change",this._fullscreenHandler.bind(this)),this.addEventListener("mousemove",this._boundMouseHandler)}disconnectedCallback(){this._mediaUnloadedHandler(),fu.isEnabled&&fu.off("change",this._fullscreenHandler.bind(this)),this.removeEventListener("mousemove",this._boundMouseHandler),super.disconnectedCallback()}_isBeingCasted(){return!!navigator.userAgent.match(/CrKey\//)}_isAspectRatioEnforced(){var t,e;const i=this._getConfig().dimensions.aspect_ratio_mode;return!(fu.isEnabled&&fu.isFullscreen||"unconstrained"==i||"dynamic"==i&&((null===(t=this._view)||void 0===t?void 0:t.isAnyMediaView())||(null===(e=this._view)||void 0===e?void 0:e.is("timeline"))))}_getAspectRatioStyle(){if(!this._isAspectRatioEnforced())return"auto";if("dynamic"==this._getConfig().dimensions.aspect_ratio_mode&&this._lastValidMediaLoadedInfo)return`${this._lastValidMediaLoadedInfo.width} / ${this._lastValidMediaLoadedInfo.height}`;const t=this._getConfig().dimensions.aspect_ratio;return t?`${t[0]} / ${t[1]}`:"16 / 9"}_getMergedActions(){var t,e,i,n,o,r,s;if(this._message||(null===(t=this._view)||void 0===t?void 0:t.is("timeline")))return{};let a;return(null===(e=this._view)||void 0===e?void 0:e.is("live"))?a=this._getConfig().live.actions:(null===(i=this._view)||void 0===i?void 0:i.isGalleryView())?a=null===(n=this._getConfig().event_gallery)||void 0===n?void 0:n.actions:(null===(o=this._view)||void 0===o?void 0:o.isViewerView())?a=this._getConfig().media_viewer.actions:(null===(r=this._view)||void 0===r?void 0:r.is("image"))&&(a=null===(s=this._getConfig().image)||void 0===s?void 0:s.actions),Object.assign(Object.assign({},this._getConfig().view.actions),a)}render(){if(!this._hass)return;const t={"aspect-ratio":this._getAspectRatioStyle()},e={triggered:!!this._isTriggered()&&this._getConfig().view.scan.show_trigger_status},i={main:!0,"curve-top":"outside"!==this._getConfig().menu.style||"top"!==this._getConfig().menu.position,"curve-bottom":"outside"!==this._getConfig().menu.style||"top"===this._getConfig().menu.position},n=this._getMergedActions(),o="outside"===this._getConfig().menu.style&&"top"===this._getConfig().menu.position;return K` <ha-card
      id="ha-card"
      .actionHandler=${Zm({hasHold:Wm(n.hold_action),hasDoubleClick:Wm(n.double_tap_action)})}
      class="${Dt(e)}"
      style="${qt(t)}"
      @action=${t=>this._actionHandler(t,n)}
      @ll-custom=${this._cardActionHandler.bind(this)}
      @frigate-card:message=${this._messageHandler.bind(this)}
      @frigate-card:view:change=${this._changeViewHandler.bind(this)}
      @frigate-card:view:change-context=${this._addViewContextHandler.bind(this)}
      @frigate-card:media:loaded=${this._mediaLoadedHandler.bind(this)}
      @frigate-card:media:unloaded=${this._mediaUnloadedHandler.bind(this)}
      @frigate-card:render=${()=>this.requestUpdate()}
    >
      ${o?this._renderMenu():""}
      <div ${Gt(this._refMain)} class="${Dt(i)}">
        ${void 0!==this._cameras||this._message?this._render():Vt((async()=>(await this._loadCameras(),this._changeView({resetMessage:!1}),this._render()))(),Ug())}
        ${this._message?(r=this._message,"error"===r.type?K` <frigate-card-error-message
      .message=${r}
    ></frigate-card-error-message>`:K` <frigate-card-message
      .message=${r.message}
      .icon=${r.icon}
      .context=${r.context}
      .dotdotdot=${r.dotdotdot}
    ></frigate-card-message>`):""}
      </div>
      ${o?"":this._renderMenu()}
      ${this._getConfig().elements?K` <frigate-card-elements
            ${Gt(this._refElements)}
            .hass=${this._hass}
            .elements=${this._getConfig().elements}
            .conditionState=${this._conditionState}
            @frigate-card:menu-add=${t=>{this._addDynamicMenuButton(t.detail)}}
            @frigate-card:menu-remove=${t=>{this._removeDynamicMenuButton(t.detail)}}
            @frigate-card:condition-state-request=${t=>{!function(t,e){t.conditionState=e}(t,this._conditionState)}}
          >
          </frigate-card-elements>`:""}
    </ha-card>`;var r}_render(){const t=this._getSelectedCameraConfig();if(!this._hass||!this._view||!t)return K``;const e={hidden:!!this._message||this._getConfig().live.preload&&!this._view.is("live")};return K`
      ${!this._message&&this._view.is("image")?K` <frigate-card-image
            ${Gt(this._refImage)}
            .imageConfig=${this._getConfig().image}
            .view=${this._view}
            .hass=${this._hass}
            .cameraConfig=${t}
          >
          </frigate-card-image>`:""}
      ${!this._message&&this._view.isGalleryView()?K` <frigate-card-gallery
            .hass=${this._hass}
            .view=${this._view}
            .cameras=${this._cameras}
            .galleryConfig=${this._getConfig().event_gallery}
          >
          </frigate-card-gallery>`:""}
      ${!this._message&&this._view.isViewerView()?K` <frigate-card-viewer
            .hass=${this._hass}
            .view=${this._view}
            .cameras=${this._cameras}
            .viewerConfig=${this._getConfig().media_viewer}
            .resolvedMediaCache=${this._resolvedMediaCache}
          >
          </frigate-card-viewer>`:""}
      ${!this._message&&this._view.is("timeline")?K` <frigate-card-timeline
            .hass=${this._hass}
            .view=${this._view}
            .cameraConfig=${t}
            .cameras=${this._cameras}
            .timelineConfig=${this._getConfig().timeline}
          >
          </frigate-card-timeline>`:""}
      ${this._getConfig().live.preload||!this._message&&this._view.is("live")?K`
              <frigate-card-live
                ${Gt(this._refLive)}
                .hass=${this._hass}
                .view=${this._view}
                .liveConfig=${this._config.live}
                .conditionState=${this._conditionState}
                .liveOverrides=${i=this._getConfig().overrides,n="live",null!==(o=null==i?void 0:i.filter((t=>n in t.overrides)).map((t=>({conditions:t.conditions,overrides:t.overrides[n]}))))&&void 0!==o?o:[]}
                .cameras=${this._cameras}
                class="${Dt(e)}"
              >
              </frigate-card-live>
            `:""}
    `;var i,n,o}static get styles(){return _(":host {\n  display: block;\n  position: relative;\n  background-color: var(--card-background-color);\n  border-radius: var(--ha-card-border-radius, 4px);\n}\n\n:host([dark]) {\n  filter: brightness(75%);\n}\n\ndiv.main {\n  position: relative;\n  overflow: auto;\n  width: 100%;\n  height: 100%;\n  margin: auto;\n  display: flex;\n  justify-content: center;\n  transform: translateZ(0);\n  box-sizing: border-box;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n}\n\n/* Hide scrollbar for Chrome, Safari and Opera */\ndiv.main::-webkit-scrollbar {\n  display: none;\n}\n\ndiv.main.curve-top {\n  border-top-left-radius: var(--ha-card-border-radius, 4px);\n  border-top-right-radius: var(--ha-card-border-radius, 4px);\n}\n\ndiv.main.curve-bottom {\n  border-bottom-left-radius: var(--ha-card-border-radius, 4px);\n  border-bottom-right-radius: var(--ha-card-border-radius, 4px);\n}\n\n/* The 'hover' menu mode is styling applied outside of the menu itself */\nfrigate-card-menu[data-style=hover] {\n  z-index: 1;\n  transition: opacity 0.5s ease;\n}\n\n.main + frigate-card-menu[data-style=hover] {\n  opacity: 0;\n}\n\nfrigate-card-menu[data-style=hover]:hover {\n  opacity: 1;\n}\n\nha-card {\n  display: flex;\n  flex-direction: column;\n  margin: auto;\n  overflow: visible;\n  width: 100%;\n  height: 100%;\n  position: static;\n  color: var(--secondary-text-color, white);\n}\n\nha-card.triggered {\n  animation: warning-pulse 5s infinite;\n}\n@keyframes warning-pulse {\n  0% {\n    border: solid 2px rgba(0, 0, 0, 0);\n  }\n  50% {\n    border: solid 2px var(--warning-color);\n  }\n  100% {\n    border: solid 2px rgba(0, 0, 0, 0);\n  }\n}\n\nfrigate-card-live.hidden {\n  display: none;\n}\n\n/************\n * Fullscreen\n *************/\n:host(:fullscreen) #ha-card {\n  border-radius: 0px;\n  box-shadow: none;\n  margin: 0;\n}\n\n:host(:-webkit-full-screen) #ha-card {\n  border-radius: 0px;\n  box-shadow: none;\n  margin: 0;\n}\n\n:host(:fullscreen) div.main,\n:host(:fullscreen) frigate-card-menu {\n  border-radius: 0px;\n}\n\n:host(:-webkit-full-screen) div.main,\n:host(:-webkit-full-screen) frigate-card-menu {\n  border-radius: 0px;\n}")}getCardSize(){return this._lastValidMediaLoadedInfo?this._lastValidMediaLoadedInfo.height/50:6}};t([_t()],pS.prototype,"_hass",void 0),t([_t()],pS.prototype,"_config",void 0),t([_t()],pS.prototype,"_overriddenConfig",void 0),t([_t()],pS.prototype,"_view",void 0),t([_t()],pS.prototype,"_cameras",void 0),pS=t([vt("frigate-card")],pS);export{pS as FrigateCard};
